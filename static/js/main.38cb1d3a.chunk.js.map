{"version":3,"sources":["../../wiplib/build/operations/imagesDifference.js","../../wiplib/build/index.js","../../wiplib/build/Histogram.js","../../wiplib/build/CumulativeHistogram.js","../../wiplib/build/exceptions/ImageOperationException.js","../../wiplib/build/operations/index.js","../../wiplib/build/operations/brightnessAndContrastAdjustment.js","../../wiplib/build/operations/changesDetection.js","../../wiplib/build/operations/crop.js","../../wiplib/build/operations/gammaCorrection.js","../../wiplib/build/operations/grayscale.js","../../wiplib/build/operations/histogramEqualization.js","../../wiplib/build/operations/histogramSpecification.js","../../wiplib/build/operations/imageResampling.js","../../wiplib/build/operations/imageResizing.js","../../wiplib/build/operations/imageRotation.js","../../wiplib/build/operations/imageTranspose.js","../../wiplib/build/operations/interpolationMethods.js","../../wiplib/build/operations/linearTransformation.js","../../wiplib/build/operations/mirrorOperations.js","../../wiplib/build/operations/quantization.js","../../wiplib/build/RgbaImageBuffer/index.js","../../wiplib/build/exceptions/index.js","../../wiplib/build/operations/transformImage.js","lib/grid/gridProperties.js","components/InteractiveGrid/Grid/Grid.js","components/DeleteButton/index.js","components/InteractiveGrid/Item/Item.js","components/InteractiveGrid/index.js","lib/coordinates.js","components/ImageComponent/index.js","components/HistogramComponent/index.js","components/HistogramAndInfoComponent/index.js","lib/Exceptions/ImageLoadException.js","lib/imageHelper.js","components/ImageProcessingUi/LoadImageMenuItem.js","components/ImageProcessingUi/DownloadSelectedImageMenuItem.js","components/Toolbar/Submenus/FileSubmenu.js","components/ImageProcessingUi/ShowHistogramMenuItem.js","components/ImageProcessingUi/CropMenuItem.js","lib/Bresenham.js","components/ImageProcessingUi/ProfileMenuItem.js","components/Toolbar/Submenus/ImageSubmenu.js","components/ImageProcessingUi/LinearTransformationMenuItem/LinearTransformationDialog/InputCoordinate.js","components/ImageProcessingUi/LinearTransformationMenuItem/LinearTransformationDialog/index.js","components/ImageProcessingUi/LinearTransformationMenuItem/index.js","lib/Checks.js","components/ImageProcessingUi/BrightnessAndContrastMenuItem/BrightnessAndContrastDialog.js","components/ImageProcessingUi/BrightnessAndContrastMenuItem/index.js","components/ImageProcessingUi/GammaCorrectionMenuItem/GammaCorrectionDialog.js","components/ImageProcessingUi/GammaCorrectionMenuItem/index.js","components/Toolbar/FilesListMenu.js","components/ImageProcessingUi/ImageDifferenceMenuItem/ImageDifferenceDialog.js","components/ImageProcessingUi/ImageDifferenceMenuItem/index.js","components/ImageProcessingUi/ChangesDetectionMenuItem/ChangesDetectionDialog.js","components/ImageProcessingUi/ChangesDetectionMenuItem/index.js","components/ImageProcessingUi/HistogramSpecificationMenuItem/HistogramSpecificationDialog.js","components/ImageProcessingUi/HistogramSpecificationMenuItem/index.js","components/ImageProcessingUi/GrayscaleMenuItem.js","components/ImageProcessingUi/HistogramEqualizationMenuItem.js","components/ImageProcessingUi/QuantizationMenuItem/QuantizationDialog.js","components/ImageProcessingUi/QuantizationMenuItem/index.js","components/Toolbar/Submenus/PointOperationsSubmenu.js","components/ImageProcessingUi/ImageRotationMenuItem/ImageRotationDialog.js","components/ImageProcessingUi/ImageRotationMenuItem/index.js","components/ImageProcessingUi/ImageResizeMenuItem/ImageResizingDialog.js","components/ImageProcessingUi/ImageResizeMenuItem/index.js","components/ImageProcessingUi/VerticalMirrorMenuItem.js","components/ImageProcessingUi/HorizontalMirrorMenuItem.js","components/ImageProcessingUi/ImageTransposeMenuItem.js","components/ImageProcessingUi/ImageResampleMenuItem/ImageResampleDialog.js","components/ImageProcessingUi/ImageResampleMenuItem/index.js","components/Toolbar/Submenus/GeometricOperationsSubmenu.js","components/Toolbar/SelectionToolbar.js","components/Toolbar/index.js","components/Overlays/SelectionOverlay.js","components/Overlays/LineOverlay.js","components/ProfileComponent/index.js","components/ProfilesComponent/index.js","components/App/index.js","lib/grid/calculateLayout.js","stores/appStore.js","index.js"],"names":["Object","defineProperty","exports","value","imagesDifference","obj","_RgbaImageBuffer","__webpack_require__","__esModule","default","_exceptions","firstImgBuffer","secondImgBuffer","height","width","ImageOperationException","result","copy","i","pixels","length","NUM_CHANNELS","Math","abs","enumerable","get","_Histogram","_CumulativeHistogram","operations","exceptions","_interopRequireDefault","_interopRequireWildcard","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","set","_defineProperties","target","props","descriptor","configurable","writable","Histogram","imagePixels","instance","Constructor","TypeError","_classCallCheck","this","setImagePixels","protoProps","staticProps","_this","grayscaleImage","histogramValues","Red","Array","fill","Green","Blue","Gray","round","count","reduce","previousValue","currentElement","histogramInfo","brightness","index","contrast","sqrt","pow","keys","forEach","_i","minValue","_i2","maxValue","maxIndex","maxCount","mode","probability","entropy","_i3","log2","toFixed","CumulativeHistogram","histogram","counts","map","_typeof","Symbol","iterator","constructor","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_wrapNativeSuper","Class","_cache","Map","undefined","fn","Function","toString","indexOf","has","Wrapper","_construct","arguments","_getPrototypeOf","create","_setPrototypeOf","Parent","args","Reflect","construct","sham","Proxy","Date","e","isNativeReflectConstruct","a","push","apply","bind","o","p","setPrototypeOf","__proto__","getPrototypeOf","_Error","exceptionName","message","name","subClass","superClass","_inherits","Error","_brightnessAndContrastAdjustment","_changesDetection","_crop","_gammaCorrection","_grayscale","_histogramEqualization","_histogramSpecification","_imageResampling","_imageResizing","_imageRotation","_imagesDifference","_imageTranspose","_interpolationMethods","_linearTransformation","_mirrorOperations","_quantization","_transformImage","brightnessAndContrastAdjustment","imgBuffer","oldBrightness","oldContrast","newBrightness","newContrast","A","B","lookupTable","newValue","min","max","transformImage","changesDetection","threshold","changeHighlightColor","difference","error","r","g","b","crop","_ref","_ref$top","top","_ref$left","left","_ref$height","_ref$width","resultPixels","Uint8ClampedArray","currentIndex","yOffset","xOffset","pixel","getPixel","x","y","gammaCorrection","gammaValue","grayscaleStrategies","imageToGrayscale","grayscaleStrategy","pixelToGrayscalePal","grayValue","rComponent","gComponent","bComponent","histogramEqualization","imageCHistogram","equalizationLevel","histogramSpecification","originImageCHistogram","targetImageCHistogram","normalizedOriginImageCHistogram","normalizedTargetImageCHistogram","j","imageResampling","blockWidth","blockHeight","initialX","initialY","resampleBlock","xLimit","yLimit","sum","newValues","_y","_x","imageResizing","widthPercentage","heighPercentage","interpolationMethod","oldWidth","oldHeight","widthFactor","heightFactor","newWidth","floor","newHeight","transformedCoords","imageRotation","isInRange","degrees","rotateAndPaintRotation","radians","PI","directTransformation","xCoord","yCoord","cos","sin","newImageInfo","getRotatedImageInfo","rotateAndPaint","minXCoord","minYCoord","originalImagePixel","upperLeftCornerRotated","lowerLeftCornerRotated","upperRightCornerRotated","lowerRightCornerRotated","maxXCoord","maxYCoord","imageTranspose","interpolationMethods","closestNeighbourInterpolation","bilinearInterpolation","ceil","C","D","q","transform","linearTransformation","points","sections","newSection","slope","currentSectionIndex","frontier","yIntercept","mirror","horizontal","vertical","quantization","amountOfLevels","Number","isInteger","part","distance","minDistance","POSITIVE_INFINITY","_createClass","_defineProperty","RgbaImageBuffer","toImageData","_ref3","pixelPosition","_mapMatrixPositionToArray","_width","_height","_pixels","data","_ref2","imgData","ImageData","_ImageOperationException","gridProperties","GRID_COLUMNS","lg","md","sm","xs","xxs","LAYOUT_BREAKPOINTS","DEFAULT_GRID_ITEM_COLS","DEFAULT_GRID_ITEM_ROWS","GRID_ITEM_ROW_HEIGHT","ResponsiveGrid","WidthProvider","Responsive","Grid","children","objectWithoutProperties","react_default","createElement","assign","cols","GRID_PROPERTIES","breakpoints","rowHeight","defaultProps","objectSpread","layouts","DeleteButton","onDelete","className","onClick","disabled","aria-label","stopEvent","event","preventDefault","stopPropagation","Item","state","isDraggable","onDragHandleMouseDown","setState","onDragHandleMouseUp","onDragStart","onMouseDown","onDragEnd","onMouseUp","id","onSelect","document","addEventListener","removeEventListener","_this$props","style","isSelected","concat","draggable","onFocus","tabIndex","components_DeleteButton","React","Component","onDeselect","InteractiveGrid","mapToCoordinatesRelativeToElement","coords","parentElement","parentElementBoundingBox","clientX","clientY","mapToRelativeCoordinates","getBoundingClientRect","calculateRect","coords1","coords2","right","bottom","ImageComponent","isImageLoading","isMouseDown","mouseDownOriginCoordinates","currentMouseCoordinates","onMouseMove","mouseEvent","coordinates","Coordinates","refs","canvas","rgbaImage","_this$state","_this$props$rgbaImage","onSelection","mouseDownCoords","mouseUpCoords","context","getContext","putImageData","_this$state2","position","ref","display","backgroundColor","maxHeight","originCoords","endCoords","HistogramComponent","emphasizedValue","histogramVisualizationData","channel","x0","_this2","es","margin","onMouseLeave","onNearestX","color","align","fontSize","format","dataPoint","title","HistogramAndInfoComponent","currentTab","currentChannel","updateCurrentTab","_","newTab","updateCurrentChannel","newChannel","_this$props$histogram","cHistogram","Fragment","justifyContent","Button_default","boxShadow","padding","alignItems","components_HistogramComponent","maxWidth","Table_default","TableHead_default","TableRow_default","TableCell_default","TableBody_default","ImageLoadException","errorImageSrc","classCallCheck","possibleConstructorReturn","src","loadFromObject","URL","createObjectURL","image","Image","Promise","resolve","reject","onload","onerror","load","finally","revokeObjectURL","LoadImageMenuItem","onImageFileInputted","enqueueSnackbar","appStore","files","ImageHelper","then","naturalWidth","naturalHeight","drawImage","getImageData","imageBuffer","fromImageData","addImage","fileInputForm","reset","catch","variant","htmlFor","MenuItem_default","hidden","type","accept","onChange","withSnackbar","inject","observer","DownloadSelectedImageMenuItem","downloadCurrentImage","_appStore$selectedGri","selectedGridItem","imgInfo","imagesInfos","_imgInfo$region","region","imageData","toBlob","blob","imgUrl","downloadAnchor","href","click","download","FileSubmenu","open","handleToggle","handleClose","anchorEl","contains","buttonRef","node","aria-owns","aria-haspopup","Popper_default","transition","disablePortal","Paper_default","ClickAwayListener_default","onClickAway","MenuList_default","ImageProcessingUi_LoadImageMenuItem","ImageProcessingUi_DownloadSelectedImageMenuItem","ShowHistogramMenuItem","showHistogramOfCurrentImage","CropMenuItem","cropCurrentImage","imageSelectionMehod","bresenham","firstPoint","secondPoint","x1","y0","y1","dx","dy","sx","sy","err","e2","ProfileMenuItem","getProfile","_appStore$imagesInfos","associatedImage","profileValues","point","firstDerivativeProfileValues","_loop","addProfile","ImageSubmenu","ImageProcessingUi_ShowHistogramMenuItem","ImageProcessingUi_CropMenuItem","ImageProcessingUi_ProfileMenuItem","InputCoordinate","onYChange","number","parseFloat","coordinate","isFinite","onXChange","TextField_default","placeholder","InputProps","startAdornment","InputAdornment_default","IconButton_default","Delete_default","styles","center","marginTop","marginBottom","LinearTransformationDialog","onDataChange","newCoords","prevState","coord","onDataDelete","filter","addNewCoordinate","newCoord","slice","toConsumableArray","onSubmit","onClose","Dialog_default","isOpen","scroll","aria-labelledby","DialogTitle_default","DialogContent_default","DialogContentText_default","xDomain","yDomain","fullWidth","InputCoordinate_InputCoordinate","DialogActions_default","LinearTransformationMenuItem","isDialogOpen","openDialog","closeDialog","LinearTransformationMenuItem_LinearTransformationDialog","inputsContainer","flexWrap","input","BrightnessAndContrastDialog","brightnessErrorMessage","contrastErrorMessage","formChanged","valueStateName","errorMessageStateName","minPossibleValue","maxPossibleValue","_this$setState2","_this$setState","onBrightnessChange","onContrastChange","histogramInfos","label","String","_props$appStore","BrightnessAndContrastMenuItem","BrightnessAndContrastMenuItem_BrightnessAndContrastDialog","GammaCorrectionDialog","gamma","gammaErrorMessage","errorMessage","onGammaChange","GammaCorrectionMenuItem","GammaCorrectionMenuItem_GammaCorrectionDialog","FilesListMenu","selectedIndex","selectedItemIndex","handleClickListItem","currentTarget","handleMenuItemClick","selectedItemName","onItemSelection","classes","root","List_default","component","ListItem_default","isDisabled","button","menuTitle","ListItemText_default","primary","secondary","options","Menu_default","Boolean","option","selected","withStyles","theme","palette","background","paper","ImageDifferenceDialog","imgName","otherImgName","otherImageInfo","find","activeImagesNames","img","Toolbar_FilesListMenu","ImageDifferenceMenuItem","ImageDifferenceMenuItem_ImageDifferenceDialog","ChangesDetectionDialog","rgbaColor","onImgNameChange","onThresholdChange","handleChangeComplete","rgb","applyChangesDetection","lib","onChangeComplete","ChangesDetectionMenuItem","ChangesDetectionMenuItem_ChangesDetectionDialog","HistogramSpecificationDialog","otherImgIndex","findIndex","HistogramSpecificationMenuItem","HistogramSpecificationMenuItem_HistogramSpecificationDialog","GrayscaleMenuItem","currentImageToGrayscale","_this$props$appStore$","HistogramEqualizationMenuItem","currentImageHistogramEqualization","QuantizationDialog","levels","onLevelsChange","QuantizationMenuItem","QuantizationMenuItem_QuantizationDialog","PointOperationsSubmenu","ImageProcessingUi_GrayscaleMenuItem","ImageProcessingUi_LinearTransformationMenuItem","ImageProcessingUi_BrightnessAndContrastMenuItem","ImageProcessingUi_GammaCorrectionMenuItem","ImageProcessingUi_ImageDifferenceMenuItem","ImageProcessingUi_ChangesDetectionMenuItem","ImageProcessingUi_HistogramSpecificationMenuItem","ImageProcessingUi_HistogramEqualizationMenuItem","ImageProcessingUi_QuantizationMenuItem","ImageRotationDialog","degreesErrorMessage","selectedInterpolationMethodIndex","onDegreesChange","onRotateAndPaintChange","checked","onInterpolationMethodChange","FormControlLabel_default","control","Checkbox_default","ImageRotationMenuItem","rotateCurrentImage","ImageRotationDialog_ImageRotationDialog","rotationInfo","ImageResizingDialog","widthErrorMessage","heightPercentage","heightErrorMessage","onDimensionsChange","dimensionName","dimensionStateName","oldDimensionPropName","percentageStateName","isPercentage","dimension","percentage","isNaN","onWidthChange","onHeightChange","onWidthPercentageChange","onHeightPercentageChange","endAdornment","ImageResizeMenuItem","resizeCurrentImage","_appStore$selectedGri2","selectedImageDimensions","ImageResizingDialog_ImageResizingDialog","resizeInfo","VerticalMirrorMenuItem","currentImageVerticalMirror","HorizontalMirrorMenuItem","currentImageHorizontalMirror","ImageTransposeMenuItem","transposeImage","ImageResampleDialog","blockWidthErrorMessage","blockHeightErrorMessage","onBlockWidthChange","onBlockHeightChange","ImageResampleMenuItem","ImageResampleMenuItem_ImageResampleDialog","GeometricOperationsSubmenu","ImageProcessingUi_ImageRotationMenuItem","ImageProcessingUi_ImageResizeMenuItem","ImageProcessingUi_VerticalMirrorMenuItem","ImageProcessingUi_HorizontalMirrorMenuItem","ImageProcessingUi_ImageTransposeMenuItem","ImageProcessingUi_ImageResampleMenuItem","SelectionToolbar","_this$props$appStore","updateImageSelectionMehod","Toolbar_default","zIndex","CropSquare_default","marginRight","Edit_default","AppToolbar","AppBar_default","FileSubmenu_FileSubmenu","ImageSubmenu_ImageSubmenu","PointOperationsSubmenu_PointOperationsSubmenu","GeometricOperationsSubmenu_GeometricOperationsSubmenu","Toolbar_SelectionToolbar","SelectionOverlay","border","opacity","LineOverlay","xmlns","stroke","strokeWidth","x2","y2","ProfileComponent","profileVisualizationData","ProfilesComponent","info","_this$props$info","components_ProfileComponent","App","onMouseMoveOverImage","pixelCoords","pixelValue","setCurrentPixel","onImageRegionSelection","_calculateRect","newRegion","updateImageRegion","getImageOverlay","Overlays_SelectionOverlay","Overlays_LineOverlay","components_Toolbar","getGridComponent","getDisplayForImageDimensions","getDisplayForPixelUnderMouse","gridLayouts","onLayoutChange","updateLayout","getImageGridItem","visible","getHistogramGridItem","element","profilesInfos","profile","getProfileGridItem","_this3","_ref4","removeImageInfo","updateSelectedImageItem","isGridItemSelected","components_ImageComponent","_this4","_ref5","hideHistogram","updateSelectedHistogramItem","HistogramAndInfoComponent_HistogramAndInfoComponent","profileInfo","_this5","removeProfile","updateSelectedProfileItem","ProfilesComponent_ProfilesComponent","currentPixelRgbaValue","join","sizeText","borderRadius","_this$props$appStore2","createNewSetOfLayouts","layoutName","createNewElementLayoutInfo","Infinity","w","h","minW","minH","addNewElementsToLayouts","currentLayouts","newElementsIds","newElementsLayoutInfos","newLayouts","removeElementsFromLayout","ids","includes","AppStoreSingleton","GridLayoutHelper","_removedImagesCount","_profilesCount","imageSection","imageKey","histogramKey","profileKey","firstDerivativeKey","newSelectedItem","_this$selectedGridIte","requestAnimationFrame","newMethodType","decorate","observable","action","stores_appStore","createMuiTheme","common","black","white","light","main","dark","contrastText","text","hint","typography","useNextVariants","ReactDOM","render","core_styles","notistack_build","maxSnack","anchorOrigin","size","now","index_module","components_App","getElementById"],"mappings":"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","file":"static/js/main.38cb1d3a.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.imagesDifference = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nvar _exceptions = require(\"../exceptions\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Calculates the difference (absolute value) between two images\n *\n * @param {RgbaImageBuffer} firstImgBuffer First image\n * @param {RgbaImageBuffer} secondImgBuffer Second image\n * @returns {RgbaImageBuffer} Result image\n */\n\n\nvar imagesDifference = function imagesDifference(firstImgBuffer, secondImgBuffer) {\n  if (firstImgBuffer.height !== secondImgBuffer.height || firstImgBuffer.width !== secondImgBuffer.width) throw new _exceptions.ImageOperationException(\"ImagesDifferenceException\", \"Images should have the same width and height\");\n  var result = firstImgBuffer.copy();\n\n  for (var i = 0; i < result.pixels.length; i += _RgbaImageBuffer.default.NUM_CHANNELS) {\n    result.pixels[i] = Math.abs(result.pixels[i] - secondImgBuffer.pixels[i]);\n    result.pixels[i + 1] = Math.abs(result.pixels[i + 1] - secondImgBuffer.pixels[i + 1]);\n    result.pixels[i + 2] = Math.abs(result.pixels[i + 2] - secondImgBuffer.pixels[i + 2]);\n  }\n\n  return result;\n};\n\nexports.imagesDifference = imagesDifference;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"RgbaImageBuffer\", {\n  enumerable: true,\n  get: function get() {\n    return _RgbaImageBuffer.default;\n  }\n});\nObject.defineProperty(exports, \"Histogram\", {\n  enumerable: true,\n  get: function get() {\n    return _Histogram.default;\n  }\n});\nObject.defineProperty(exports, \"CumulativeHistogram\", {\n  enumerable: true,\n  get: function get() {\n    return _CumulativeHistogram.default;\n  }\n});\nexports.operations = exports.exceptions = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"./RgbaImageBuffer\"));\n\nvar _Histogram = _interopRequireDefault(require(\"./Histogram\"));\n\nvar _CumulativeHistogram = _interopRequireDefault(require(\"./CumulativeHistogram\"));\n\nvar exceptions = _interopRequireWildcard(require(\"./exceptions\"));\n\nexports.exceptions = exceptions;\n\nvar operations = _interopRequireWildcard(require(\"./operations\"));\n\nexports.operations = operations;\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"./RgbaImageBuffer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n/**\n * Class to represent an image histogram. Each image has associated histograms\n * which describes the way that its pixels values are distributed.\n *\n * An object of this class wraps the values of the histogram besides some useful\n * information.\n */\n\n\nvar Histogram =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {RgbaImageBuffer} imagePixels Image Buffer to create the histogram\n   * for\n   */\n  function Histogram(imagePixels) {\n    _classCallCheck(this, Histogram);\n\n    this.setImagePixels(imagePixels.pixels);\n  }\n  /**\n   * Sets the pixels values of the associated image and extracts histogram\n   * values and useful information.\n   */\n\n\n  _createClass(Histogram, [{\n    key: \"setImagePixels\",\n    value: function setImagePixels(imagePixels) {\n      var _this = this; // Boolean to check if the image is in grayscale\n\n\n      var grayscaleImage = true;\n      this.histogramValues = {\n        \"Red\": new Array(256).fill(0),\n        \"Green\": new Array(256).fill(0),\n        \"Blue\": new Array(256).fill(0),\n        \"Gray\": new Array(256).fill(0)\n      }; // Histogram values update\n\n      for (var i = 0; i < imagePixels.length; i += _RgbaImageBuffer.default.NUM_CHANNELS) {\n        if (imagePixels[i + 3] === 0) {\n          // The transparent pixels are ignored\n          continue;\n        }\n\n        this.histogramValues[\"Red\"][imagePixels[i]]++;\n        this.histogramValues[\"Green\"][imagePixels[i + 1]]++;\n        this.histogramValues[\"Blue\"][imagePixels[i + 2]]++;\n        this.histogramValues[\"Gray\"][Math.round(imagePixels[i] * 0.222 + imagePixels[i + 1] * 0.707 + imagePixels[i + 2] * 0.071)]++; // Grayscale image comprobation\n\n        if (grayscaleImage && (imagePixels[i] !== imagePixels[i + 1] || imagePixels[i] !== imagePixels[i + 2])) {\n          grayscaleImage = false;\n        }\n      }\n\n      var count = this.histogramValues[\"Red\"].reduce(function (previousValue, currentElement) {\n        return previousValue + currentElement;\n      }, 0); // If the image is in grayscale histogramValues object is updated\n\n      if (grayscaleImage) {\n        delete this.histogramValues[\"Red\"];\n        delete this.histogramValues[\"Blue\"];\n        delete this.histogramValues[\"Green\"];\n      } // Object which contains histogram and image information\n\n\n      this.histogramInfo = {}; // Image brightness\n\n      this.histogramInfo.brightness = this.histogramValues[\"Gray\"].reduce(function (previousValue, currentElement, index) {\n        return previousValue + currentElement * index;\n      }, 0) / count;\n      this.histogramInfo.contrast = Math.sqrt(this.histogramValues[\"Gray\"].reduce(function (previousValue, currentElement, index) {\n        return previousValue + Math.pow(index - _this.histogramInfo.brightness, 2) * currentElement;\n      }, 0) / count); // Information for each channel\n\n      Object.keys(this.histogramValues).forEach(function (key) {\n        _this.histogramInfo[key] = {};\n        _this.histogramInfo[key].count = count;\n        /*\n        // Mean\n        this.histogramInfo[key].mean =\n          this.histogramValues[key].reduce(\n            (previousValue, currentElement, index) =>\n              previousValue + currentElement * index,\n            0\n          ) / this.histogramInfo[key].count;\n        \n        // Standard deviation\n        this.histogramInfo[key].stdDev = Math.sqrt(\n          this.histogramValues[key].reduce(\n            (previousValue, currentElement, index) =>\n              previousValue +\n              Math.pow(index - this.histogramInfo[key].mean, 2) * currentElement,\n            0\n          ) / this.histogramInfo[key].count\n        );\n        */\n        // Minimum value\n\n        for (var _i = 0; _i < _this.histogramValues[key].length; ++_i) {\n          if (_this.histogramValues[key][_i] !== 0) {\n            _this.histogramInfo[key].minValue = _i;\n            break;\n          }\n        } // Maximum value\n\n\n        for (var _i2 = _this.histogramValues[key].length - 1; _i2 >= 0; --_i2) {\n          if (_this.histogramValues[key][_i2] !== 0) {\n            _this.histogramInfo[key].maxValue = _i2;\n            break;\n          }\n        } // Mode\n\n\n        var maxIndex = 0;\n        var maxCount = 0;\n\n        _this.histogramValues[key].forEach(function (count, value) {\n          if (count > maxCount) {\n            maxCount = count;\n            maxIndex = value;\n          }\n        });\n\n        _this.histogramInfo[key].mode = {};\n        _this.histogramInfo[key].mode.value = maxIndex;\n        _this.histogramInfo[key].mode.count = maxCount; // Entropy\n\n        var entropy = 0;\n        var probability;\n\n        for (var _i3 = 0; _i3 < 256; ++_i3) {\n          probability = _this.histogramValues[key][_i3] / _this.histogramInfo[key].count;\n\n          if (probability > 0) {\n            entropy += probability * Math.log2(probability);\n          }\n        }\n\n        if (entropy !== 0) entropy *= -1;\n        _this.histogramInfo[key].entropy = entropy.toFixed(3);\n      });\n    }\n  }]);\n\n  return Histogram;\n}();\n\nexports.default = Histogram;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n/**\n * Class to represent an image cumulative histogram.\n */\n\n\nvar CumulativeHistogram =\n/**\n * Creates an instance of this class.\n *\n * @param {Array} histogram Array of values of the histogram to create the\n * cumulative from\n */\nfunction CumulativeHistogram(histogram) {\n  var _this = this;\n\n  _classCallCheck(this, CumulativeHistogram);\n\n  var count;\n  this.counts = {};\n  Object.keys(histogram).forEach(function (key) {\n    count = 0;\n    _this.counts[key] = {};\n    _this.counts[key] = histogram[key].map(function (value) {\n      count += value;\n      return count;\n    });\n  });\n  this.count = count;\n};\n\nexports.default = CumulativeHistogram;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n/**\n * Exception class representing image operations errors.\n */\n\n\nvar ImageOperationException =\n/*#__PURE__*/\nfunction (_Error) {\n  _inherits(ImageOperationException, _Error);\n\n  function ImageOperationException(exceptionName, message) {\n    var _this;\n\n    _classCallCheck(this, ImageOperationException);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ImageOperationException).call(this, message));\n    _this.name = exceptionName;\n    return _this;\n  }\n\n  return ImageOperationException;\n}(_wrapNativeSuper(Error));\n\nexports.default = ImageOperationException;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _brightnessAndContrastAdjustment = require(\"./brightnessAndContrastAdjustment\");\n\nObject.keys(_brightnessAndContrastAdjustment).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _brightnessAndContrastAdjustment[key];\n    }\n  });\n});\n\nvar _changesDetection = require(\"./changesDetection\");\n\nObject.keys(_changesDetection).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _changesDetection[key];\n    }\n  });\n});\n\nvar _crop = require(\"./crop\");\n\nObject.keys(_crop).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _crop[key];\n    }\n  });\n});\n\nvar _gammaCorrection = require(\"./gammaCorrection\");\n\nObject.keys(_gammaCorrection).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _gammaCorrection[key];\n    }\n  });\n});\n\nvar _grayscale = require(\"./grayscale\");\n\nObject.keys(_grayscale).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _grayscale[key];\n    }\n  });\n});\n\nvar _histogramEqualization = require(\"./histogramEqualization\");\n\nObject.keys(_histogramEqualization).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _histogramEqualization[key];\n    }\n  });\n});\n\nvar _histogramSpecification = require(\"./histogramSpecification\");\n\nObject.keys(_histogramSpecification).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _histogramSpecification[key];\n    }\n  });\n});\n\nvar _imageResampling = require(\"./imageResampling\");\n\nObject.keys(_imageResampling).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _imageResampling[key];\n    }\n  });\n});\n\nvar _imageResizing = require(\"./imageResizing\");\n\nObject.keys(_imageResizing).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _imageResizing[key];\n    }\n  });\n});\n\nvar _imageRotation = require(\"./imageRotation\");\n\nObject.keys(_imageRotation).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _imageRotation[key];\n    }\n  });\n});\n\nvar _imagesDifference = require(\"./imagesDifference\");\n\nObject.keys(_imagesDifference).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _imagesDifference[key];\n    }\n  });\n});\n\nvar _imageTranspose = require(\"./imageTranspose\");\n\nObject.keys(_imageTranspose).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _imageTranspose[key];\n    }\n  });\n});\n\nvar _interpolationMethods = require(\"./interpolationMethods\");\n\nObject.keys(_interpolationMethods).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _interpolationMethods[key];\n    }\n  });\n});\n\nvar _linearTransformation = require(\"./linearTransformation\");\n\nObject.keys(_linearTransformation).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _linearTransformation[key];\n    }\n  });\n});\n\nvar _mirrorOperations = require(\"./mirrorOperations\");\n\nObject.keys(_mirrorOperations).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _mirrorOperations[key];\n    }\n  });\n});\n\nvar _quantization = require(\"./quantization\");\n\nObject.keys(_quantization).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _quantization[key];\n    }\n  });\n});\n\nvar _transformImage = require(\"./transformImage\");\n\nObject.keys(_transformImage).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _transformImage[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.brightnessAndContrastAdjustment = void 0;\n\nvar _transformImage = require(\"./transformImage\");\n/**\n * Changes the contrast and the brightness of the given image\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @param {Number} oldBrightness Previous brightness of the image\n * @param {Number} oldContrast Previous contrast of the image\n * @param {Number} newBrightness New brightness of the image\n * @param {Number} newContrast New contrast of the image\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar brightnessAndContrastAdjustment = function brightnessAndContrastAdjustment(imgBuffer, oldBrightness, oldContrast, newBrightness, newContrast) {\n  // TODO check parameters\n  var A = newContrast / oldContrast;\n  var B = newBrightness - A * oldBrightness;\n  var lookupTable = [];\n\n  for (var i = 0; i < 256; ++i) {\n    var newValue = Math.round(A * i + B);\n    lookupTable.push(Math.min(Math.max(newValue, 0), 255));\n  }\n\n  return (0, _transformImage.transformImage)(imgBuffer, lookupTable);\n};\n\nexports.brightnessAndContrastAdjustment = brightnessAndContrastAdjustment;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.changesDetection = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nvar _exceptions = require(\"../exceptions\");\n\nvar _imagesDifference = require(\"./imagesDifference\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Detects and highlights the changes of two images\n * according to the given threshold\n *\n * @param {RgbaImageBuffer} firstImgBuffer First image\n * @param {RgbaImageBuffer} secondImgBuffer Second image\n * @param {Number} threshold Threshold for considering a change as a important change\n * @param {Object} changeHighlightColor Color for highlight pixels considered as a change\n * @returns {RgbaImageBuffer} Changes map\n */\n\n\nvar changesDetection = function changesDetection(firstImgBuffer, secondImgBuffer, threshold, changeHighlightColor) {\n  var difference;\n\n  try {\n    difference = (0, _imagesDifference.imagesDifference)(firstImgBuffer, secondImgBuffer);\n  } catch (error) {\n    if (error.name === \"ImagesDifferenceException\") throw new _exceptions.ImageOperationException(\"ChangesDetectionException\", error.message);else throw error;\n  }\n\n  var result = firstImgBuffer.copy();\n\n  for (var i = 0; i < result.pixels.length; i += _RgbaImageBuffer.default.NUM_CHANNELS) {\n    if (difference.pixels[i] > threshold) {\n      result.pixels[i] = changeHighlightColor.r;\n      result.pixels[i + 1] = changeHighlightColor.g;\n      result.pixels[i + 2] = changeHighlightColor.b;\n    }\n  }\n\n  return result;\n};\n\nexports.changesDetection = changesDetection;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.crop = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Returns an image buffer of the given region of the given buffer\n *\n * @param {RgbaImageBuffer} imgBuffer Buffer of the image to crop\n * @param {Object} region Region specifying where to crop the given buffer\n * @param {number} region.top Pixel in the y axis where the new image must start\n * @param {number} region.left Pixel in the x axis where the new image must\n * start\n * @param {number} region.height Height of the new image\n * @param {number} region.width Width of the new image\n */\n\n\nvar crop = function crop(imgBuffer) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$top = _ref.top,\n      top = _ref$top === void 0 ? 0 : _ref$top,\n      _ref$left = _ref.left,\n      left = _ref$left === void 0 ? 0 : _ref$left,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? imgBuffer.height : _ref$height,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? imgBuffer.width : _ref$width;\n\n  var resultPixels = new Uint8ClampedArray(height * width * _RgbaImageBuffer.default.NUM_CHANNELS);\n  var currentIndex = 0;\n\n  for (var yOffset = 0; yOffset < height; yOffset += 1) {\n    for (var xOffset = 0; xOffset < width; xOffset += 1) {\n      var pixel = imgBuffer.getPixel({\n        x: left + xOffset,\n        y: top + yOffset\n      });\n      resultPixels[currentIndex] = pixel[0];\n      resultPixels[currentIndex + 1] = pixel[1];\n      resultPixels[currentIndex + 2] = pixel[2];\n      resultPixels[currentIndex + 3] = pixel[3];\n      currentIndex += _RgbaImageBuffer.default.NUM_CHANNELS;\n    }\n  }\n\n  return new _RgbaImageBuffer.default(width, height, resultPixels);\n};\n\nexports.crop = crop;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.gammaCorrection = void 0;\n\nvar _transformImage = require(\"./transformImage\");\n\nvar _exceptions = require(\"../exceptions\");\n/**\n * Applies gamma correction to the given image\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @param {Number} gammaValue Gamma value for gamma correction\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar gammaCorrection = function gammaCorrection(imgBuffer, gammaValue) {\n  if (gammaValue < 0) throw new _exceptions.ImageOperationException(\"GammaCorrectionException\", \"Invalid gamma value, gamma should be equal or greater than 0.\");\n  var lookupTable = [];\n\n  for (var i = 0; i < 256; ++i) {\n    lookupTable[i] = Math.pow(i / 255, gammaValue) * 255;\n  }\n\n  return (0, _transformImage.transformImage)(imgBuffer, lookupTable);\n};\n\nexports.gammaCorrection = gammaCorrection;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.grayscaleStrategies = exports.imageToGrayscale = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Returns the given pixels converted to grayscale, according to the given\n * grayscale strategy\n *\n * @param {RgbaImageBuffer} imgBuffer Image Buffer base to create the grayscale\n * image from\n * @param {Function} grayscaleStrategy Method used to convert to grayscale.\n * Defaults to Phase Alternating Line\n * @returns {RgbaImageBuffer} Image buffer in grayscale\n */\n\n\nvar imageToGrayscale = function imageToGrayscale(imgBuffer) {\n  var grayscaleStrategy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : pixelToGrayscalePal;\n  var result = imgBuffer.copy();\n\n  for (var i = 0; i < result.pixels.length; i += _RgbaImageBuffer.default.NUM_CHANNELS) {\n    var rComponent = imgBuffer.pixels[i];\n    var gComponent = imgBuffer.pixels[i + 1];\n    var bComponent = imgBuffer.pixels[i + 2];\n    var grayValue = grayscaleStrategy(rComponent, gComponent, bComponent);\n    result.pixels[i] = grayValue;\n    result.pixels[i + 1] = grayValue;\n    result.pixels[i + 2] = grayValue;\n  }\n\n  return result;\n};\n/** Returns the given pixel to grayscale according to Phase Alternating Line */\n\n\nexports.imageToGrayscale = imageToGrayscale;\n\nvar pixelToGrayscalePal = function pixelToGrayscalePal(rComponent, gComponent, bComponent) {\n  return Math.round(rComponent * 0.222 + gComponent * 0.707 + bComponent * 0.071);\n};\n\nvar grayscaleStrategies = {\n  pixelToGrayscalePal: pixelToGrayscalePal\n};\nexports.grayscaleStrategies = grayscaleStrategies;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.histogramEqualization = void 0;\n\nvar _transformImage = require(\"./transformImage\");\n/**\n * Applies histogram equalization operation to the given image.\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @param {CumulativeHistogram} imageCHistogram Cumulative histogram of the image\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar histogramEqualization = function histogramEqualization(imgBuffer, imageCHistogram) {\n  var equalizationLevel = imageCHistogram.count / 256;\n  var lookupTable = [];\n\n  for (var i = 0; i < 256; ++i) {\n    lookupTable.push(Math.max(0, Math.round(imageCHistogram.counts[\"Gray\"][i] / equalizationLevel) - 1));\n  }\n\n  return (0, _transformImage.transformImage)(imgBuffer, lookupTable);\n};\n\nexports.histogramEqualization = histogramEqualization;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.histogramSpecification = void 0;\n\nvar _transformImage = require(\"./transformImage\");\n/**\n * Applies histogram specification operation to the given image.\n * It expects the image to transform, its cumulative histogram\n * and the cumulative histogram of the target image.\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @param {CumulativeHistogram} originImageCHistogram Cumulative histogram of imgBuffer\n * @param {CumulativeHistogram} targetImageCHistogram Cumulative histogram of target image\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar histogramSpecification = function histogramSpecification(imgBuffer, originImageCHistogram, targetImageCHistogram) {\n  var normalizedOriginImageCHistogram = originImageCHistogram.counts[\"Gray\"].map(function (value) {\n    return value / originImageCHistogram.count;\n  });\n  var normalizedTargetImageCHistogram = targetImageCHistogram.counts[\"Gray\"].map(function (value) {\n    return value / targetImageCHistogram.count;\n  });\n  var lookupTable = [];\n\n  for (var i = 0; i < 256; ++i) {\n    var j = 255;\n\n    while (j >= 0 && normalizedOriginImageCHistogram[i] <= normalizedTargetImageCHistogram[j]) {\n      j = j - 1;\n    }\n\n    lookupTable.push(j);\n  }\n\n  return (0, _transformImage.transformImage)(imgBuffer, lookupTable);\n};\n\nexports.histogramSpecification = histogramSpecification;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.imageResampling = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nvar _exceptions = require(\"../exceptions\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Applies resampling operation to the given image\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @param {Number} blockWidth Width of the pixels block to resample the image\n * @param {Number} blockHeight Height of the pixels block to resample the image\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar imageResampling = function imageResampling(imgBuffer, blockWidth, blockHeight) {\n  if (blockWidth < 1 || blockWidth > imgBuffer.width) throw new _exceptions.ImageOperationException(\"ImageResamplingException\", \"Invalid block width value, block width should be greater than 0 and less or equal than image width.\");\n  if (blockHeight < 1 || blockHeight > imgBuffer.height) throw new _exceptions.ImageOperationException(\"ImageResamplingException\", \"Invalid block height value, block height should be greater than 0 and less or equal than image height.\");\n  var resultPixels = new Uint8ClampedArray(imgBuffer.width * imgBuffer.height * _RgbaImageBuffer.default.NUM_CHANNELS);\n  var initialY = 0;\n  var initialX;\n\n  while (initialY + blockHeight <= imgBuffer.height) {\n    initialX = 0;\n\n    while (initialX + blockWidth <= imgBuffer.width) {\n      resampleBlock(imgBuffer, resultPixels, initialX, initialY, initialX + blockWidth, initialY + blockHeight);\n      initialX = initialX + blockWidth;\n    } //Residual X\n\n\n    resampleBlock(imgBuffer, resultPixels, initialX, initialY, imgBuffer.width, initialY + blockHeight);\n    initialY = initialY + blockHeight;\n  }\n\n  initialX = 0;\n\n  while (initialX + blockWidth <= imgBuffer.width) {\n    // Residual Y\n    resampleBlock(imgBuffer, resultPixels, initialX, initialY, initialX + blockWidth, imgBuffer.height);\n    initialX = initialX + blockWidth;\n  } // Residual X and Y\n\n\n  resampleBlock(imgBuffer, resultPixels, initialX, initialY, imgBuffer.width, imgBuffer.height);\n  return new _RgbaImageBuffer.default(imgBuffer.width, imgBuffer.height, resultPixels);\n};\n/**\n * Resamples the given block of the given image\n *\n * @param {RgbaImageBuffer} imgBuffer Image which contains the block\n * @param {Array} pixels Result of resampling the given block\n * @param {Number} initialX X axis position of the upper left corner of the block\n * @param {Number} initialY Y axis position of the upper left corner of the block\n * @param {Number} xLimit X axis position of the lower right corner of the block\n * @param {Number} yLimit Y axis position of the lower right corner of the block\n */\n\n\nexports.imageResampling = imageResampling;\n\nvar resampleBlock = function resampleBlock(imgBuffer, pixels, initialX, initialY, xLimit, yLimit) {\n  var sum = [0, 0, 0, 0];\n  var count = 0;\n  var index; // New value calc\n\n  for (var y = initialY; y < yLimit; ++y) {\n    for (var x = initialX; x < xLimit; ++x) {\n      for (var i = 0; i < _RgbaImageBuffer.default.NUM_CHANNELS; ++i) {\n        sum[i] = sum[i] + imgBuffer.getPixel({\n          x: x,\n          y: y\n        })[i];\n      }\n\n      count = count + 1;\n    }\n  }\n\n  var newValues = sum.map(function (value) {\n    return value / count;\n  }); // Block resampling\n\n  for (var _y = initialY; _y < yLimit; ++_y) {\n    for (var _x = initialX; _x < xLimit; ++_x) {\n      index = (_y * imgBuffer.width + _x) * _RgbaImageBuffer.default.NUM_CHANNELS;\n      pixels[index] = newValues[0];\n      pixels[index + 1] = newValues[1];\n      pixels[index + 2] = newValues[2];\n      pixels[index + 3] = newValues[3];\n    }\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.imageResizing = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nvar _exceptions = require(\"../exceptions\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Returns the image buffer resulting of resizing the given image buffer.\n *\n * @param {RgbaImageBuffer} imgBuffer Buffer of the image to resize\n * @param {Number} widthPercentage Resizing parameter\n * @param {Number} heightPercentage Resizing parameter\n * @param {Function} interpolationMethod Interpolation method to calculate the\n * possible new lightness values obtained after applying the geometric operation\n */\n\n\nvar imageResizing = function imageResizing(imgBuffer, widthPercentage, heighPercentage, interpolationMethod) {\n  var oldWidth = imgBuffer.width;\n  var oldHeight = imgBuffer.height;\n  var widthFactor = widthPercentage / 100;\n  var heightFactor = heighPercentage / 100;\n  var newWidth = Math.floor(oldWidth * widthFactor);\n  var newHeight = Math.floor(oldHeight * heightFactor);\n\n  if (newWidth < 1) {\n    throw new _exceptions.ImageOperationException(\"ImageResizingException\", \"Width of the resized image is too small.\");\n  }\n\n  if (newHeight < 1) {\n    throw new _exceptions.ImageOperationException(\"ImageResizingException\", \"Height of the resized image is too small.\");\n  }\n\n  var inverseTransformation = function inverseTransformation(xCoord, yCoord) {\n    return {\n      x: xCoord / widthFactor,\n      y: yCoord / heightFactor\n    };\n  };\n\n  var resultPixels = new Uint8ClampedArray(newWidth * newHeight * _RgbaImageBuffer.default.NUM_CHANNELS);\n  var transformedCoords;\n  var currentIndex = 0;\n\n  for (var j = 0; j < newHeight; ++j) {\n    for (var i = 0; i < newWidth; ++i) {\n      transformedCoords = inverseTransformation(i, j);\n      var newValues = interpolationMethod(transformedCoords.x, transformedCoords.y, imgBuffer);\n      resultPixels[currentIndex] = Math.round(newValues[0]);\n      resultPixels[currentIndex + 1] = Math.round(newValues[1]);\n      resultPixels[currentIndex + 2] = Math.round(newValues[2]);\n      resultPixels[currentIndex + 3] = Math.round(newValues[3]);\n      currentIndex += _RgbaImageBuffer.default.NUM_CHANNELS;\n    }\n  }\n\n  return new _RgbaImageBuffer.default(newWidth, newHeight, resultPixels);\n};\n\nexports.imageResizing = imageResizing;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.imageRotation = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Returns whether the given value is in range [min, max).\n * That is min <= value < max;\n */\n\n\nvar isInRange = function isInRange(value, min, max) {\n  return value >= min && value < max;\n};\n/**\n * Returns the image buffer resulting of rotating the given image buffer.\n * If the rotateAndPaintRotation flag is set to false, the transparent\n * pixels of the resulting image will be filled. The given interpolation\n * method will calculate the values of the new pixels.\n *\n * @param {RgbaImageBuffer} imgBuffer Buffer of the image to rotate\n * @param {Number} degrees Rotation parameter\n * @param {Function} interpolationMethod Interpolation method to calculate the\n * possible new lightness values obtained after applying the geometric operation\n * @param {Boolean} rotateAndPaintRotation Establishes the nature of the rotation\n */\n\n\nvar imageRotation = function imageRotation(imgBuffer, degrees, interpolationMethod, rotateAndPaintRotation) {\n  var width = imgBuffer.width;\n  var height = imgBuffer.height;\n  var radians = degrees * (Math.PI / 180);\n\n  var directTransformation = function directTransformation(xCoord, yCoord) {\n    return {\n      x: Math.cos(radians) * xCoord - Math.sin(radians) * yCoord,\n      y: Math.sin(radians) * xCoord + Math.cos(radians) * yCoord\n    };\n  };\n\n  var newImageInfo = getRotatedImageInfo(width, height, directTransformation);\n\n  if (rotateAndPaintRotation) {\n    return rotateAndPaint(imgBuffer, directTransformation, newImageInfo);\n  }\n\n  var inverseTransformation = function inverseTransformation(xCoord, yCoord) {\n    return {\n      x: Math.cos(-radians) * xCoord - Math.sin(-radians) * yCoord,\n      y: Math.sin(-radians) * xCoord + Math.cos(-radians) * yCoord\n    };\n  };\n\n  var resultPixels = new Uint8ClampedArray(newImageInfo.width * newImageInfo.height * _RgbaImageBuffer.default.NUM_CHANNELS);\n  var transformedCoords;\n  var currentIndex = 0;\n\n  for (var j = 0; j < newImageInfo.height; ++j) {\n    for (var i = 0; i < newImageInfo.width; ++i) {\n      transformedCoords = inverseTransformation(i + newImageInfo.minXCoord, j + newImageInfo.minYCoord);\n\n      if (isInRange(Math.round(transformedCoords.x), 0, width + 1) && isInRange(Math.round(transformedCoords.y), 0, height + 1)) {\n        var newValues = interpolationMethod(transformedCoords.x, transformedCoords.y, imgBuffer);\n        resultPixels[currentIndex] = Math.round(newValues[0]);\n        resultPixels[currentIndex + 1] = Math.round(newValues[1]);\n        resultPixels[currentIndex + 2] = Math.round(newValues[2]);\n        resultPixels[currentIndex + 3] = Math.round(newValues[3]);\n      } else {\n        // Background pixel\n        resultPixels[currentIndex] = 0; // R channel\n\n        resultPixels[currentIndex + 1] = 0; // G channel\n\n        resultPixels[currentIndex + 2] = 0; // B channel\n\n        resultPixels[currentIndex + 3] = 0; // A channel\n      }\n\n      currentIndex += _RgbaImageBuffer.default.NUM_CHANNELS;\n    }\n  }\n\n  return new _RgbaImageBuffer.default(newImageInfo.width, newImageInfo.height, resultPixels);\n};\n/**\n * Returns the image buffer resulting of rotating the given image buffer.\n * It may contain transparent pixels due to the nature of this rotation\n * process, the inverse tranformation it isn't used.\n *\n * @param {RgbaImageBuffer} imgBuffer Buffer of the image to rotate\n * @param {Function} directTransformation Maps the old image pixels\n * positions to the new one positions\n * @param {Object} newImageInfo Contains relevant information about\n * the resulting image\n */\n\n\nexports.imageRotation = imageRotation;\n\nvar rotateAndPaint = function rotateAndPaint(imgBuffer, directTransformation, newImageInfo) {\n  var resultPixels = new Uint8ClampedArray(newImageInfo.width * newImageInfo.height * _RgbaImageBuffer.default.NUM_CHANNELS);\n  var transformedCoords;\n  var currentIndex;\n  var originalImagePixel;\n\n  for (var j = 0; j < imgBuffer.height; ++j) {\n    for (var i = 0; i < imgBuffer.width; ++i) {\n      transformedCoords = directTransformation(i, j);\n      currentIndex = (Math.round(transformedCoords.y - newImageInfo.minYCoord) * newImageInfo.width + Math.round(transformedCoords.x - newImageInfo.minXCoord)) * _RgbaImageBuffer.default.NUM_CHANNELS; // TODO: colored images\n      // For now we assume we are operating with grayscale images\n\n      originalImagePixel = imgBuffer.getPixel({\n        x: i,\n        y: j\n      });\n      resultPixels[currentIndex] = originalImagePixel[0]; // R channel\n\n      resultPixels[currentIndex + 1] = originalImagePixel[1]; // G channel\n\n      resultPixels[currentIndex + 2] = originalImagePixel[2]; // B channel\n\n      resultPixels[currentIndex + 3] = originalImagePixel[3]; // A channel\n    }\n  }\n\n  return new _RgbaImageBuffer.default(newImageInfo.width, newImageInfo.height, resultPixels);\n};\n/**\n * Returns information about the rotated image.\n *\n * @param {Number} width Width of the image to rotate\n * @param {Number} height Height of the image to rotate\n * @param {Function} directTransformation Needed to calculate the new dimensions\n */\n\n\nvar getRotatedImageInfo = function getRotatedImageInfo(width, height, directTransformation) {\n  var upperLeftCornerRotated = directTransformation(0, 0);\n  var lowerLeftCornerRotated = directTransformation(0, height);\n  var upperRightCornerRotated = directTransformation(width, 0);\n  var lowerRightCornerRotated = directTransformation(width, height);\n  var maxXCoord = Math.max(upperLeftCornerRotated.x, lowerLeftCornerRotated.x, upperRightCornerRotated.x, lowerRightCornerRotated.x);\n  var minXCoord = Math.min(upperLeftCornerRotated.x, lowerLeftCornerRotated.x, upperRightCornerRotated.x, lowerRightCornerRotated.x);\n  var maxYCoord = Math.max(upperLeftCornerRotated.y, lowerLeftCornerRotated.y, upperRightCornerRotated.y, lowerRightCornerRotated.y);\n  var minYCoord = Math.min(upperLeftCornerRotated.y, lowerLeftCornerRotated.y, upperRightCornerRotated.y, lowerRightCornerRotated.y);\n  return {\n    width: Math.floor(Math.abs(maxXCoord - minXCoord)),\n    height: Math.floor(Math.abs(maxYCoord - minYCoord)),\n    minXCoord: minXCoord,\n    minYCoord: minYCoord\n  };\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.imageTranspose = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Applies image transpose operation to the given image.\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar imageTranspose = function imageTranspose(imgBuffer) {\n  var height = imgBuffer.width;\n  var width = imgBuffer.height;\n  var resultPixels = new Uint8ClampedArray(width * height * _RgbaImageBuffer.default.NUM_CHANNELS);\n  var currentIndex = 0;\n  var originalImagePixel;\n\n  for (var j = 0; j < height; ++j) {\n    for (var i = 0; i < width; ++i) {\n      originalImagePixel = imgBuffer.getPixel({\n        x: j,\n        y: i\n      });\n      resultPixels[currentIndex] = originalImagePixel[0]; // R channel\n\n      resultPixels[currentIndex + 1] = originalImagePixel[1]; // G channel\n\n      resultPixels[currentIndex + 2] = originalImagePixel[2]; // B channel\n\n      resultPixels[currentIndex + 3] = originalImagePixel[3]; // A channel\n\n      currentIndex += _RgbaImageBuffer.default.NUM_CHANNELS;\n    }\n  }\n\n  return new _RgbaImageBuffer.default(width, height, resultPixels);\n};\n\nexports.imageTranspose = imageTranspose;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.interpolationMethods = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Returns the light value of the closest pixel of the given coordinates.\n */\n\n\nvar closestNeighbourInterpolation = function closestNeighbourInterpolation(xCoord, yCoord, imgBuffer) {\n  return [imgBuffer.getPixel({\n    x: Math.round(xCoord),\n    y: Math.round(yCoord)\n  })[0], imgBuffer.getPixel({\n    x: Math.round(xCoord),\n    y: Math.round(yCoord)\n  })[1], imgBuffer.getPixel({\n    x: Math.round(xCoord),\n    y: Math.round(yCoord)\n  })[2], imgBuffer.getPixel({\n    x: Math.round(xCoord),\n    y: Math.round(yCoord)\n  })[3]];\n};\n/**\n * Returns the light value of the given coordinates assuming that the light\n * values of the closest pixels vary linearly.\n */\n\n\nvar bilinearInterpolation = function bilinearInterpolation(xCoord, yCoord, imgBuffer) {\n  var A = [imgBuffer.getPixel({\n    x: Math.floor(xCoord),\n    y: Math.ceil(yCoord)\n  })[0], imgBuffer.getPixel({\n    x: Math.floor(xCoord),\n    y: Math.ceil(yCoord)\n  })[1], imgBuffer.getPixel({\n    x: Math.floor(xCoord),\n    y: Math.ceil(yCoord)\n  })[2], imgBuffer.getPixel({\n    x: Math.floor(xCoord),\n    y: Math.ceil(yCoord)\n  })[3]];\n  var B = [imgBuffer.getPixel({\n    x: Math.ceil(xCoord),\n    y: Math.ceil(yCoord)\n  })[0], imgBuffer.getPixel({\n    x: Math.ceil(xCoord),\n    y: Math.ceil(yCoord)\n  })[1], imgBuffer.getPixel({\n    x: Math.ceil(xCoord),\n    y: Math.ceil(yCoord)\n  })[2], imgBuffer.getPixel({\n    x: Math.ceil(xCoord),\n    y: Math.ceil(yCoord)\n  })[3]];\n  var C = [imgBuffer.getPixel({\n    x: Math.floor(xCoord),\n    y: Math.floor(yCoord)\n  })[0], imgBuffer.getPixel({\n    x: Math.floor(xCoord),\n    y: Math.floor(yCoord)\n  })[1], imgBuffer.getPixel({\n    x: Math.floor(xCoord),\n    y: Math.floor(yCoord)\n  })[2], imgBuffer.getPixel({\n    x: Math.floor(xCoord),\n    y: Math.floor(yCoord)\n  })[3]];\n  var D = [imgBuffer.getPixel({\n    x: Math.ceil(xCoord),\n    y: Math.floor(yCoord)\n  })[0], imgBuffer.getPixel({\n    x: Math.ceil(xCoord),\n    y: Math.floor(yCoord)\n  })[1], imgBuffer.getPixel({\n    x: Math.ceil(xCoord),\n    y: Math.floor(yCoord)\n  })[2], imgBuffer.getPixel({\n    x: Math.ceil(xCoord),\n    y: Math.floor(yCoord)\n  })[3]];\n  var p = xCoord - Math.floor(xCoord);\n  var q = yCoord - Math.floor(yCoord);\n  var transform = [];\n\n  for (var i = 0; i < _RgbaImageBuffer.default.NUM_CHANNELS; ++i) {\n    transform[i] = C[i] + (D[i] - C[i]) * p + (A[i] - C[i]) * q + (B[i] + C[i] - A[i] - D[i]) * p * q;\n  }\n\n  return transform;\n};\n\nvar interpolationMethods = {\n  closestNeighbourInterpolation: closestNeighbourInterpolation,\n  bilinearInterpolation: bilinearInterpolation\n};\nexports.interpolationMethods = interpolationMethods;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.linearTransformation = void 0;\n\nvar _transformImage = require(\"./transformImage\");\n\nvar _exceptions = require(\"../exceptions\");\n/**\n * Transforms the given image according to the linear sections\n * conformed by the given points\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @param {Array} points Contains the points which defines\n * the sections of the linear transformation\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar linearTransformation = function linearTransformation(imgBuffer, points) {\n  if (points.length < 2) throw new _exceptions.ImageOperationException(\"LinearTransformationException\", \"Linear transformation needs at least 2 points\");\n\n  for (var i = 0; i < points.length - 1; ++i) {\n    if (points[i].x > points[i + 1].x) throw new _exceptions.ImageOperationException(\"LinearTransformationException\", \"Points must be ordered according to the x coordinate value\");\n    if (points[i].x === points[i + 1].x) throw new _exceptions.ImageOperationException(\"LinearTransformationException\", \"Different points should not have the same x coordinate value\");\n  }\n\n  if (points[0].x > 0) throw new _exceptions.ImageOperationException(\"LinearTransformationException\", \"X coordinate value of the first point should be less or equal to 0\");\n  if (points[points.length - 1].x < 255) throw new _exceptions.ImageOperationException(\"LinearTransformationException\", \"X coordinate value of the last point should be greater or equal to 255\");\n  var sections = [];\n\n  for (var _i = 1; _i < points.length; ++_i) {\n    var newSection = {};\n    newSection[\"slope\"] = (points[_i].y - points[_i - 1].y) / (points[_i].x - points[_i - 1].x);\n    newSection[\"yIntercept\"] = points[_i].y - newSection.slope * points[_i].x;\n    newSection[\"frontier\"] = points[_i].x;\n    sections.push(newSection);\n  }\n\n  var lookupTable = [];\n  var currentSectionIndex = 0;\n\n  for (var _i2 = 0; _i2 < 256; ++_i2) {\n    if (_i2 > sections[currentSectionIndex].frontier) currentSectionIndex++;\n    var newValue = Math.round(sections[currentSectionIndex].slope * _i2 + sections[currentSectionIndex].yIntercept);\n    lookupTable.push(Math.min(Math.max(newValue, 0), 255));\n  }\n\n  return (0, _transformImage.transformImage)(imgBuffer, lookupTable);\n};\n\nexports.linearTransformation = linearTransformation;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mirror = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Applies horizontal mirror operation to the given image.\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar horizontalMirror = function horizontalMirror(imgBuffer) {\n  var width = imgBuffer.width;\n  var height = imgBuffer.height;\n  var resultPixels = new Uint8ClampedArray(width * height * _RgbaImageBuffer.default.NUM_CHANNELS);\n  var currentIndex = 0;\n  var originalImagePixel;\n\n  for (var j = height - 1; j >= 0; --j) {\n    for (var i = 0; i < width; ++i) {\n      originalImagePixel = imgBuffer.getPixel({\n        x: i,\n        y: j\n      });\n      resultPixels[currentIndex] = originalImagePixel[0]; // R channel\n\n      resultPixels[currentIndex + 1] = originalImagePixel[1]; // G channel\n\n      resultPixels[currentIndex + 2] = originalImagePixel[2]; // B channel\n\n      resultPixels[currentIndex + 3] = originalImagePixel[3]; // A channel\n\n      currentIndex += _RgbaImageBuffer.default.NUM_CHANNELS;\n    }\n  }\n\n  return new _RgbaImageBuffer.default(width, height, resultPixels);\n};\n/**\n * Applies vertical mirror operation to the given image.\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar verticalMirror = function verticalMirror(imgBuffer) {\n  var width = imgBuffer.width;\n  var height = imgBuffer.height;\n  var resultPixels = new Uint8ClampedArray(width * height * _RgbaImageBuffer.default.NUM_CHANNELS);\n  var currentIndex = 0;\n  var originalImagePixel;\n\n  for (var j = 0; j < height; ++j) {\n    for (var i = width - 1; i >= 0; --i) {\n      originalImagePixel = imgBuffer.getPixel({\n        x: i,\n        y: j\n      });\n      resultPixels[currentIndex] = originalImagePixel[0]; // R channel\n\n      resultPixels[currentIndex + 1] = originalImagePixel[1]; // G channel\n\n      resultPixels[currentIndex + 2] = originalImagePixel[2]; // B channel\n\n      resultPixels[currentIndex + 3] = originalImagePixel[3]; // A channel\n\n      currentIndex += _RgbaImageBuffer.default.NUM_CHANNELS;\n    }\n  }\n\n  return new _RgbaImageBuffer.default(width, height, resultPixels);\n};\n\nvar mirror = {\n  horizontal: horizontalMirror,\n  vertical: verticalMirror\n};\nexports.mirror = mirror;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.quantization = void 0;\n\nvar _transformImage = require(\"./transformImage\");\n\nvar _exceptions = require(\"../exceptions\");\n/**\n * Applies quantization to the given image according to the given\n * amount of levels\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @param {Number} amountOfLevels Amount of bits to represent each value of light\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar quantization = function quantization(imgBuffer, amountOfLevels) {\n  if (amountOfLevels < 0 || amountOfLevels > 8) throw new _exceptions.ImageOperationException(\"QuantizationException\", \"Invalid amount of levels, the amount should be equal or greater than 0 and equal or less than 8.\");\n  if (!Number.isInteger(amountOfLevels)) throw new _exceptions.ImageOperationException(\"QuantizationException\", \"Invalid amount of levels, the value should be an integer number.\");\n  if (amountOfLevels === 8) return imgBuffer;\n  var newValues = [0];\n\n  if (amountOfLevels > 1) {\n    var part = 256 / (Math.pow(2, amountOfLevels) - 1);\n\n    while (newValues[newValues.length - 1] + part < 255) {\n      newValues.push(newValues[newValues.length - 1] + part);\n    }\n  }\n\n  newValues = newValues.map(function (value) {\n    return Math.round(value);\n  });\n\n  if (amountOfLevels > 0) {\n    newValues.push(255);\n  }\n\n  var lookupTable = [];\n  var distance;\n  var minDistance;\n  var index;\n\n  for (var i = 0; i < 256; ++i) {\n    minDistance = Number.POSITIVE_INFINITY;\n\n    for (var j = 0; j < newValues.length; ++j) {\n      distance = Math.abs(i - newValues[j]);\n\n      if (distance < minDistance) {\n        index = j;\n        minDistance = distance;\n      }\n    }\n\n    lookupTable.push(newValues[index]);\n  }\n\n  return (0, _transformImage.transformImage)(imgBuffer, lookupTable);\n};\n\nexports.quantization = quantization;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // TODO: pollyfill ImageData constructor\n\n/**\n * Class to represent a RGBA pixel matrix (an image). This class aims to\n * abstract away the pixel related manipulations by providing a set of\n * convenience methods for iterating through pixels.\n */\n\n\nvar RgbaImageBuffer =\n/*#__PURE__*/\nfunction () {\n  _createClass(RgbaImageBuffer, null, [{\n    key: \"fromImageData\",\n\n    /** Number of channels in a RGBA pixel */\n\n    /**\n     * Convenient function to create a RgbaImage instance from an ImageData object\n     * where the width, height are copied but the pixel array is only copied the\n     * references\n     *\n     * @param {ImageData} imgData ImageData instance to create the RgbaImage from\n     * @returns {RgbaImageBuffer} Instance of RgbaImage initialized from the ImgData\n     */\n    value: function fromImageData(_ref) {\n      var width = _ref.width,\n          height = _ref.height,\n          data = _ref.data;\n      return new RgbaImageBuffer(width, height, data);\n    }\n    /**\n     * Convenient function to create an ImageData object from a RgbaImage object\n     *\n     * @param {RgbaImageBuffer} rgbaImage Instance of RgbaImage used to create the\n     * ImageData\n     * @returns {ImageData} ImageData instance with a copy of the width, height\n     * and pixels of the given RgbaImage\n     */\n\n  }, {\n    key: \"toImageData\",\n    value: function toImageData(_ref2) {\n      var width = _ref2.width,\n          height = _ref2.height,\n          pixels = _ref2.pixels;\n      var imgData = new ImageData(width, height);\n      imgData.data.set(pixels);\n      return imgData;\n    }\n    /**\n     * Creates an instance of this class. Note: this treats the given pixels as\n     * RGBA pixels\n     *\n     * @param {number} width Pixel matrix width\n     * @param {number} height Pixel matrix height\n     * @param {Uint8ClampedArray} pixels TypedArray of RGBA Pixels\n     */\n\n  }]);\n\n  function RgbaImageBuffer(width, height, pixels) {\n    var _this = this;\n\n    _classCallCheck(this, RgbaImageBuffer);\n\n    _defineProperty(this, \"toImageData\", function () {\n      return RgbaImageBuffer.toImageData(_this);\n    });\n\n    _defineProperty(this, \"copy\", function () {\n      return new RgbaImageBuffer(_this.width, _this.height, new Uint8ClampedArray(_this.pixels));\n    });\n\n    _defineProperty(this, \"getPixel\", function (_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y;\n      x = Math.max(0, Math.min(_this.width - 1, x));\n      y = Math.max(0, Math.min(_this.height - 1, y));\n\n      var pixelPosition = _this._mapMatrixPositionToArray(x, y); // We tested this way and it turned to be much more performant than using slice\n\n\n      return [_this.pixels[pixelPosition], _this.pixels[pixelPosition + 1], _this.pixels[pixelPosition + 2], _this.pixels[pixelPosition + 3]];\n    });\n\n    _defineProperty(this, \"_mapMatrixPositionToArray\", function (x, y) {\n      return (y * _this.width + x) * RgbaImageBuffer.NUM_CHANNELS;\n    }); // TODO: check that everything is right (width, height > 0; width * height *\n    // rgbaDimension = pixels.length; etc)\n\n\n    this._width = width;\n    this._height = height;\n    this._pixels = pixels;\n  }\n  /** Alias for RgbaImage.toImageData(instanceOfRgbaImage) */\n\n\n  _createClass(RgbaImageBuffer, [{\n    key: \"pixels\",\n\n    /**\n     * @returns {Uint8ClampedArray} Pixels values of the image, an element for\n     * each pixel dimension (4 in case of RGBA for example)\n     */\n    get: function get() {\n      return this._pixels;\n    }\n    /** @returns {number} The width of the image */\n\n  }, {\n    key: \"width\",\n    get: function get() {\n      return this._width;\n    }\n    /** @returns {number} The height of the image */\n\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this._height;\n    }\n    /**\n     * Given a coordinate in matrix space (2 dimensions) this method returns the\n     * corresponding coordinate in vector space (1 dimension).\n     *\n     * @param {number} x Horizontal coordinate\n     * @param {number} y Vertical coordinate\n     * @returns {number} Corresponding vector coordinate\n     */\n\n  }]);\n\n  return RgbaImageBuffer;\n}();\n\nexports.default = RgbaImageBuffer;\n\n_defineProperty(RgbaImageBuffer, \"NUM_CHANNELS\", 4);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ImageOperationException\", {\n  enumerable: true,\n  get: function get() {\n    return _ImageOperationException.default;\n  }\n});\n\nvar _ImageOperationException = _interopRequireDefault(require(\"./ImageOperationException\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformImage = void 0;\n\nvar _RgbaImageBuffer = _interopRequireDefault(require(\"../RgbaImageBuffer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Transforms an image according to the given lookup table.\n *\n * @param {RgbaImageBuffer} imgBuffer Image to transform\n * @param {Array} lookupTable Lookup table\n * @returns {RgbaImageBuffer} Transformed image\n */\n\n\nvar transformImage = function transformImage(imgBuffer, lookupTable) {\n  var result = imgBuffer.copy();\n\n  for (var i = 0; i < result.pixels.length; i += _RgbaImageBuffer.default.NUM_CHANNELS) {\n    result.pixels[i] = lookupTable[result.pixels[i]];\n    result.pixels[i + 1] = lookupTable[result.pixels[i + 1]];\n    result.pixels[i + 2] = lookupTable[result.pixels[i + 2]];\n  }\n\n  return result;\n};\n\nexports.transformImage = transformImage;","/**\n * Object defining the constants properties of the Grids\n */\nexport default {\n  GRID_COLUMNS: { lg: 10, md: 8, sm: 6, xs: 4, xxs: 2 },\n  LAYOUT_BREAKPOINTS: { lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0 },\n  DEFAULT_GRID_ITEM_COLS: 2, // Number of columns each item is tall on creation\n  DEFAULT_GRID_ITEM_ROWS: 4, // Number of rows each item is wide on creation\n  GRID_ITEM_ROW_HEIGHT: 50 // Height in number pixels of each row\n};","import React from \"react\";\nimport { WidthProvider, Responsive } from \"react-grid-layout\";\nimport GRID_PROPERTIES from \"../../../lib/grid/gridProperties\";\n\nconst ResponsiveGrid = WidthProvider(Responsive);\n\n/**\n * react-grid-layout responsive grid with some default props given as defined in\n * gridProperties: cols, breakpoints and rowHeight\n */\nconst Grid = ({ children, ...props }) => {\n  return (\n    <ResponsiveGrid\n      cols={GRID_PROPERTIES.GRID_COLUMNS}\n      breakpoints={GRID_PROPERTIES.LAYOUT_BREAKPOINTS}\n      rowHeight={GRID_PROPERTIES.GRID_ITEM_ROW_HEIGHT}\n      {...props}\n    >\n      {children}\n    </ResponsiveGrid>\n  );\n};\n\nGrid.propTypes = ResponsiveGrid.propTypes;\nGrid.defaultProps = { layouts: {}, ...ResponsiveGrid.defaultProps };\n\nexport default Grid;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./DeleteButton.css\";\n\n/**\n * Delete button component. Renders a circular button with a\n * cross to let the user know that they can delete something.\n *\n * The parent component is notified when the user wants to\n * delete via the `onDelete` prop. If `onDelete` is not\n * provided, the button will be rendered as a disabled button\n */\nconst DeleteButton = ({ onDelete, ...props }) => (\n  <button\n    className=\"DeleteButton\"\n    onClick={onDelete}\n    disabled={!onDelete}\n    aria-label=\"delete\"\n    {...props}\n  >\n    ×\n  </button>\n);\n\nDeleteButton.propTypes = {\n  onDelete: PropTypes.func\n};\n\nDeleteButton.defaultProps = {\n  onDelete: null\n};\n\nexport default DeleteButton;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DeleteButton from \"../../DeleteButton\";\nimport \"./Item.css\";\n\n/** Helper method to prevent the default behaviour and stop the propagation of\n * an event */\nconst stopEvent = event => {\n  event.preventDefault();\n  event.stopPropagation();\n};\n\n/**\n * Grid Item component. Forces grid items to be draggable only by a toolbar at\n * the top and also allows to listen to delete events (renders a delete button\n * and the event fires when the user wants to delete the item). It can also\n * notifiy when the user selects and deselects this component via props\n */\nexport default class Item extends React.Component {\n  /** The rest of the props are provided by the grid */\n  static propTypes = {\n    id: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.symbol,\n      PropTypes.object\n    ]).isRequired,\n    name: PropTypes.string,\n    onDelete: PropTypes.func,\n    onSelect: PropTypes.func,\n    isSelected: PropTypes.bool\n  };\n\n  static defaultProps = {\n    name: \"\",\n    onDelete: null,\n    onSelect: null,\n    onDeselect: null,\n    isSelected: false\n  };\n\n  /** We only want to allow the item being drag when the user is trying to drag\n   * it from a part of the item, a toolbar at the top */\n  state = {\n    isDraggable: false\n  };\n\n  /**\n   * Listen for document mouse up event so we can react to it even if the users\n   * triggers it out of this element\n   */\n  componentDidMount() {\n    document.addEventListener(\"mouseup\", this.onDragHandleMouseUp);\n  }\n\n  /**\n   * Clean the mouse up listener from the document when the component will be\n   * unmounted\n   */\n  componentWillUnmount() {\n    document.removeEventListener(\"mouseup\", this.onDragHandleMouseUp);\n  }\n\n  /** Update the state to allow the item be dragged only when the user is\n   * clicking on the top toolbar */\n  onDragHandleMouseDown = () => this.setState({ isDraggable: true });\n\n  /** Update the state to forbid the item being dragged when the user stops\n   * clicking the top toolbar. This listener is attached to the document so it\n   * works even if the user drags the element out of the viewport and releses\n   * the mouse there */\n  onDragHandleMouseUp = () =>\n    this.state.isDraggable &&\n    this.setState({\n      isDraggable: false\n    });\n\n  /** Listener for the drag start event, but only allow the drag behaviour if\n   * the state says so */\n  onDragStart = event => {\n    if (this.state.isDraggable) {\n      stopEvent(event);\n      this.props.onMouseDown && this.props.onMouseDown(event);\n    }\n  };\n\n  /** Listener for the drag end event */\n  onDragEnd = event => {\n    if (this.state.isDraggable) {\n      stopEvent(event);\n      this.props.onMouseUp && this.props.onMouseUp(event);\n    }\n  };\n\n  /** When the user wants to delete the item, call the props `onDelete` callback\n   * with the ID of this element */\n  onDelete = () => this.props.onDelete(this.props.id);\n\n  /** When the user selects this item, call the props `onSelect` callback with\n   * the ID of this element */\n  onSelect = () => this.props.onSelect(this.props.id);\n\n  render() {\n    const {\n      children,\n      className,\n      style,\n      name,\n      onSelect,\n      onDelete,\n      isSelected\n    } = this.props;\n\n    return (\n      <div\n        className={`Item ${className} ${isSelected && \"is-selected\"}`}\n        style={style}\n        draggable={this.state.isDraggable}\n        onDragStart={this.onDragStart}\n        onMouseUp={this.onDragEnd} // OnMouseUp instead of DragEnd because DragStart prevents default\n        onFocus={onSelect ? this.onSelect : null}\n        tabIndex=\"0\"\n      >\n        <div onMouseDown={this.onDragHandleMouseDown} className=\"Item__toolbar\">\n          <DeleteButton\n            onMouseDown={stopEvent}\n            onDelete={onDelete ? this.onDelete : null}\n          />\n          <span className=\"Item__name\">{name}</span>\n        </div>\n        <div className=\"Item__childrenContainer\">{children}</div>\n      </div>\n    );\n  }\n}\n","import Grid from \"./Grid/Grid\";\nimport Item from \"./Item/Item\";\n\nexport default {\n  Grid,\n  Item\n};\n","/**\n * Maps the given coordinates with respect to the viewport to coordinates\n * with respect to the given element\n *\n * @param {Object} coords Coordinates to map to relative coordinates\n * @param {number} coords.clientX Horizontal coordinate with respect to the app viewport\n * @param {number} coords.clientY Vertical coordinate with respect to the app viewport\n * @param {Element} parentElement Element to get the bounding box from to\n * map the given coordinates to be relative to this element\n * @returns {Object} {x, y} Mouse coordinates with respect to the given element\n */\nexport function mapToCoordinatesRelativeToElement(coords, parentElement) {\n  return mapToRelativeCoordinates(\n    coords,\n    parentElement.getBoundingClientRect()\n  );\n}\n\n/**\n * Maps the mouse coordinates from the given mouse event to relative\n * coordinates with respect to the given element bounding box\n *\n * @param {Object} coords Coordinates to map to relative coordinates\n * @param {number} coords.clientX Horizontal coordinate with respect to the app viewport\n * @param {number} coords.clientY Vertical coordinate with respect to the app viewport\n * @param {DOMRectReadOnly} parentElementBoundingBox Bounding box where to\n * map the coordinates to\n * @returns {Object} {x, y} Mouse coordinates with respect the given bounding box\n */\nexport function mapToRelativeCoordinates(coords, parentElementBoundingBox) {\n  const { top, left } = parentElementBoundingBox;\n\n  // Top and left can be real numbers. If, for example, top = 66.19\n  // it means that the top of the element is at 66.19 CSS pixels\n  // from the top of the viewport. However we want to map that\n  // to integer values. The mouse position is relative to the viewport and it is\n  // an integer value. If the element top is at 66.19 CSS pixels from the top of the\n  // viewport then the first integer pixel would be 67. Cannot be 66 because\n  // there aren't element pixels below 66.19. So to consider the top and\n  // left values as integers we have to consider the ceiling.\n\n  return {\n    x: coords.clientX - Math.ceil(left),\n    y: coords.clientY - Math.ceil(top)\n  };\n}\n\n/** Returns an object describing the rectangle enclosed by the 2 given\n * coordinates */\nexport function calculateRect(coords1, coords2) {\n  const left = Math.min(coords1.x, coords2.x);\n  const right = Math.max(coords1.x, coords2.x);\n  const top = Math.min(coords1.y, coords2.y);\n  const bottom = Math.max(coords1.y, coords2.y);\n\n  return { left, right, top, bottom };\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { RgbaImageBuffer } from \"wiplib\";\nimport * as Coordinates from \"../../lib/coordinates\";\n\n// FIXME: the selection functionality doesn't work well when:\n// - The mouse up event is done outside the component\n// - The user wants to select a part passing the scroll\n/**\n * Component that renders an image from the given RgbaImage instance\n */\nclass ImageComponent extends Component {\n  static propTypes = {\n    /** RgbaImage instance to render */\n    rgbaImage: PropTypes.instanceOf(RgbaImageBuffer).isRequired,\n    /** Callback called with the mouse position relative to the\n     * image and the pixel value at that position */\n    onMouseMove: PropTypes.func,\n    /** Called when the user selects a region of the image */\n    onSelection: PropTypes.func.isRequired,\n    children: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    onMouseMove: null\n  };\n\n  /** Component state */\n  state = {\n    /** Flag to know if the image is currently being loaded */\n    isImageLoading: false,\n    /** Flag to know if the user clicked and is holding the mouse down */\n    isMouseDown: false,\n    /** Coordinates of the mouse when the user started pressing it */\n    mouseDownOriginCoordinates: { x: -1, y: -1 },\n    /** Current mouse coordinates relative to the image viewport */\n    currentMouseCoordinates: { x: -1, y: -1 }\n  };\n\n  componentDidMount() {\n    // Try to get the image and draw it to the canvas If there is an error\n    // update the state.error\n    const canvas = this.refs.canvas;\n    const context = canvas.getContext(\"2d\");\n\n    canvas.width = this.props.rgbaImage.width;\n    canvas.height = this.props.rgbaImage.height;\n    context.putImageData(this.props.rgbaImage.toImageData(), 0, 0);\n\n    this.setState({\n      isImageLoading: false\n    });\n  }\n\n  /** Mouse move event handler, gets the coordinates relative to the image where\n   * the user mouse is pointing to and the pixel RGBA value there and calls\n   * props.onMouseMove */\n  onMouseMove = mouseEvent => {\n    if (!this.props.onMouseMove || this.state.isImageLoading) {\n      return;\n    }\n\n    const coordinates = Coordinates.mapToCoordinatesRelativeToElement(\n      mouseEvent,\n      this.refs.canvas\n    );\n    const pixel = this.props.rgbaImage.getPixel(coordinates);\n\n    if (this.state.isMouseDown) {\n      this.setState({\n        currentMouseCoordinates: coordinates\n      });\n    }\n\n    this.props.onMouseMove(coordinates, pixel);\n  };\n\n  /**\n   * Event listener for the mouse down event. Updates the state to know that the\n   * user wants to select a part of the image and sets the origin mouse\n   * coordinate\n   */\n  onMouseDown = mouseEvent => {\n    const coordinates = Coordinates.mapToCoordinatesRelativeToElement(\n      mouseEvent,\n      this.refs.canvas\n    );\n\n    this.setState({\n      mouseDownOriginCoordinates: coordinates,\n      isMouseDown: true,\n      currentMouseCoordinates: coordinates\n    });\n  };\n\n  /**\n   * Event listener for the mouse up event. Updates the state to know that the\n   * user stopped the selection of the part of the image. Then, if the resulting\n   * rectangle has 0 width or height it is discarted.\n   *\n   * MAYBE TODO: set the current mouse coordinate to the ones on mouse up TODO:\n   * notify the parent component of the selection\n   */\n  onMouseUp = () => {\n    const {\n      isMouseDown,\n      mouseDownOriginCoordinates,\n      currentMouseCoordinates\n    } = this.state;\n\n    if (!isMouseDown) {\n      return;\n    }\n\n    if (\n      mouseDownOriginCoordinates.x === currentMouseCoordinates.x &&\n      mouseDownOriginCoordinates.y === currentMouseCoordinates.y\n    ) {\n      this.setState({\n        isMouseDown: false,\n        mouseDownOriginCoordinates: { x: -1, y: -1 },\n        currentMouseCoordinates: { x: -1, y: -1 }\n      });\n      const { width, height } = this.props.rgbaImage;\n      this.props.onSelection({\n        mouseDownCoords: { x: 0, y: 0 },\n        mouseUpCoords: { x: width, y: height }\n      });\n    } else {\n      this.setState({ isMouseDown: false });\n      this.props.onSelection({\n        mouseDownCoords: mouseDownOriginCoordinates,\n        mouseUpCoords: currentMouseCoordinates\n      });\n    }\n  };\n\n  render() {\n    const { mouseDownOriginCoordinates, currentMouseCoordinates } = this.state;\n\n    return (\n      <div\n        style={{\n          position: \"relative\"\n        }}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n        onMouseMove={this.onMouseMove}\n      >\n        <canvas\n          ref=\"canvas\"\n          style={{\n            display: \"block\",\n            backgroundColor: \"#eee\",\n            maxHeight: \"100%\"\n          }}\n        />\n        {this.props.children({\n          originCoords: mouseDownOriginCoordinates,\n          endCoords: currentMouseCoordinates\n        })}\n      </div>\n    );\n  }\n}\n\nexport default ImageComponent;\n","import React, { Component } from \"react\";\nimport \"react-vis/dist/style.css\";\nimport {\n  FlexibleXYPlot,\n  XAxis,\n  YAxis,\n  VerticalGridLines,\n  HorizontalGridLines,\n  VerticalRectSeries,\n  Hint\n} from \"react-vis\";\n\nclass HistogramComponent extends Component {\n  state = {\n    emphasizedValue: null,\n    histogramVisualizationData: [],\n    channel: this.props.channel\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    if (state.channel && props.channel !== state.channel) {\n      return {\n        emphasizedValue: null,\n        histogramVisualizationData: props.histogram.map(\n          (value, index) => ({ x0: index, x: index + 1, y: value })\n        ),\n        channel: props.channel\n      }\n    }\n    return null;\n  }\n\n  componentDidMount() {\n    this.setState({\n      histogramVisualizationData: this.props.histogram.map(\n        (value, index) => ({ x0: index, x: index + 1, y: value })\n      )\n    });\n  }\n\n  render() {\n    return (\n      <FlexibleXYPlot\n        margin={{\n          left: 70\n        }}\n        onMouseLeave={() => this.setState({ emphasizedValue: null })}\n      >\n        <VerticalGridLines />\n        <HorizontalGridLines />\n        <XAxis />\n        <YAxis />\n        <VerticalRectSeries\n          onNearestX={value => this.setState({ emphasizedValue: value })}\n          data={this.state.histogramVisualizationData}\n          color={this.state.channel}\n        />\n        {this.state.emphasizedValue ? (\n          <Hint\n            value={this.state.emphasizedValue}\n            align={{ horizontal: \"auto\", vertical: \"top\" }}\n            style={{ fontSize: 14 }}\n            format={dataPoint => {\n              return [\n                {\n                  title: \"Value: \" + dataPoint.x0,\n                  value: \"Count: \" + dataPoint.y\n                }\n              ];\n            }}\n          />\n        ) : null}\n      </FlexibleXYPlot>\n    );\n  }\n}\n\nexport default HistogramComponent;\n","import React from \"react\";\nimport HistogramComponent from \"../HistogramComponent\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\n/**\n * Renders the given histogram and its information\n */\nexport default class HistogramAndInfoComponent extends React.Component {\n  state = {\n    currentTab: 0,\n    currentChannel: Object.keys(this.props.histogram.histogramValues)[0]\n  };\n\n  updateCurrentTab = (_, newTab) => this.setState({ currentTab: newTab });\n  updateCurrentChannel = (_, newChannel) => this.setState({ currentChannel: newChannel});\n\n  render() {\n    const { currentTab, currentChannel } = this.state;\n    const { histogramValues, histogramInfo } = this.props.histogram;\n    const { counts } = this.props.cHistogram;\n\n    return (\n      <React.Fragment>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\"\n          }}\n        >\n          <Button\n            style={\n              currentTab === 0\n                ? {\n                    boxShadow: \"0px 4px 6px -5px black\"\n                  }\n                : {}\n            }\n            onClick={e => this.updateCurrentTab(e, 0)}\n          >\n            Histogram\n          </Button>\n          <Button\n            style={\n              currentTab === 1\n                ? {\n                    boxShadow: \"0px 4px 6px -5px black\"\n                  }\n                : {}\n            }\n            onClick={e => this.updateCurrentTab(e, 1)}\n          >\n            Cumulative\n          </Button>\n          <Button\n            style={\n              currentTab === 2\n                ? {\n                    boxShadow: \"0px 4px 6px -5px black\"\n                  }\n                : {}\n            }\n            onClick={e => this.updateCurrentTab(e, 2)}\n          >\n            Information\n          </Button>\n        </div>\n        <div\n          style={{\n            padding: \"10px 0px 0px 0px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          }}\n        >\n          {\n            Object.keys(histogramValues).map( key => {\n              return (\n                <Button\n                  style={\n                    currentChannel === key\n                      ? {\n                          boxShadow: `0px 4px 6px -5px ${key}`\n                        }\n                      : {}\n                  }\n                  onClick={e => this.updateCurrentChannel(e, key)}\n                  key={key}\n                >\n                  {key}\n                </Button>\n              );\n            })\n          }\n        </div>\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            maxHeight: \"80%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          }}\n        >\n          {currentTab === 0 && (\n            <HistogramComponent \n              histogram={histogramValues[currentChannel]} \n              channel={currentChannel}\n            />\n          )}\n          {currentTab === 1 && (\n            <HistogramComponent \n              histogram={counts[currentChannel]}\n              channel={currentChannel}\n            />\n          )}\n          {currentTab === 2 && (\n            <div\n              className=\"scrollable\"\n              style={{\n                maxWidth: \"500px\"\n              }}\n            >\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Variable</TableCell>\n                    <TableCell align=\"right\">Value</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  <TableRow>\n                    <TableCell>Count</TableCell>\n                    <TableCell align=\"right\">{histogramInfo[currentChannel].count}</TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell>Brightness</TableCell>\n                    <TableCell align=\"right\">\n                      {histogramInfo.brightness.toFixed(3)}\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell>Contrast</TableCell>\n                    <TableCell align=\"right\">\n                      {histogramInfo.contrast.toFixed(3)}\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell>Minimum value</TableCell>\n                    <TableCell align=\"right\">{histogramInfo[currentChannel].minValue}</TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell>Maximum value</TableCell>\n                    <TableCell align=\"right\">{histogramInfo[currentChannel].maxValue}</TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell>Mode</TableCell>\n                    <TableCell align=\"right\">{histogramInfo[currentChannel].mode.value}</TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell>Entropy</TableCell>\n                    <TableCell align=\"right\">{histogramInfo[currentChannel].entropy}</TableCell>\n                  </TableRow>\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","/**\n * Class to represent image load errors\n */\nexport default class ImageLoadException extends Error {\n  /**\n   * Creates an instance of this class\n   *\n   * @param {string} errorImageSrc Source of the image that caused the error\n   */\n  constructor(errorImageSrc) {\n    super(`Error loading image with src = ${errorImageSrc}`);\n    this.name = \"ImageLoadException\";\n    this.src = errorImageSrc;\n  }\n}\n","import { ImageLoadException } from \"./Exceptions\";\n\n/**\n * Returns an promise that resolves with\n * an image when it is loaded from the given source\n *\n * @param {string} src Image source\n * @returns {Promise<Image>} Image element after the content has\n * been loaded\n */\nexport function load(src) {\n  const image = new Image();\n  image.src = src;\n\n  return new Promise((resolve, reject) => {\n    image.onload = () => resolve(image);\n    image.onerror = () => reject(new ImageLoadException(src));\n  });\n}\n\n/**\n * Given a File, Blob object or any other object accepted by\n * `URL.createObjectURL`, returns the image loaded from the\n * object source\n *\n * @param {Object} obj Object to get the image source URL\n */\nexport function loadFromObject(obj) {\n  const src = URL.createObjectURL(obj);\n  return load(src).finally(() => URL.revokeObjectURL(src));\n}\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { RgbaImageBuffer } from \"wiplib\";\nimport * as ImageHelper from \"../../lib/imageHelper\";\n\nclass LoadImageMenuItem extends React.Component {\n  /** Listener for a file input event to load the input image to the application */\n  onImageFileInputted = event => {\n    const { enqueueSnackbar, appStore } = this.props;\n    const files = event.target.files;\n\n    if (files.length !== 1 || !files[0]) {\n      enqueueSnackbar(\"Error reading image file\", {\n        variant: \"error\"\n      });\n      return;\n    }\n\n    ImageHelper.loadFromObject(files[0])\n      .then(image => {\n        const canvas = document.createElement(\"canvas\");\n        const context = canvas.getContext(\"2d\");\n\n        canvas.width = image.naturalWidth;\n        canvas.height = image.naturalHeight;\n        context.drawImage(image, 0, 0);\n\n        const imgData = context.getImageData(0, 0, canvas.width, canvas.height);\n        const imageBuffer = RgbaImageBuffer.fromImageData(imgData);\n        appStore.addImage(imageBuffer);\n        this.refs.fileInputForm.reset();\n      })\n      .catch(() => {\n        enqueueSnackbar(\"Could not load image\", {\n          variant: \"error\"\n        });\n      });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <label htmlFor=\"image-input\">\n          <MenuItem>Open</MenuItem>\n        </label>\n        <form ref=\"fileInputForm\">\n          <input\n            hidden\n            id=\"image-input\"\n            type=\"file\"\n            accept=\"image/*\"\n            name=\"image-input\"\n            onChange={this.onImageFileInputted}\n          />\n        </form>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(inject(\"appStore\")(observer(LoadImageMenuItem)));\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nclass DownloadSelectedImageMenuItem extends React.Component {\n  /** Downloads the selected region of the current selected image if any */\n  downloadCurrentImage = () => {\n    const { enqueueSnackbar, appStore } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else {\n      const imgInfo = appStore.imagesInfos[index];\n      const { left, top, width, height } = imgInfo.region;\n      const imageData = imgInfo.imageBuffer.toImageData();\n      const canvas = document.createElement(\"canvas\");\n      const context = canvas.getContext(\"2d\");\n\n      canvas.width = imageData.width;\n      canvas.height = imageData.height;\n      context.putImageData(imageData, 0, 0, left, top, width, height);\n\n      canvas.toBlob(\n        blob => {\n          const imgUrl = URL.createObjectURL(blob);\n          this.refs.downloadAnchor.href = imgUrl;\n          this.refs.downloadAnchor.click();\n          URL.revokeObjectURL(imgUrl);\n        },\n        null,\n        1\n      );\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.downloadCurrentImage}>Download</MenuItem>\n        <div>\n          <a\n            ref=\"downloadAnchor\"\n            href=\"#download\"\n            id=\"download\"\n            hidden\n            download\n          >\n            This should not be visible. It is only used when downloading images\n          </a>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(DownloadSelectedImageMenuItem))\n);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport LoadImageMenuItem from \"../../ImageProcessingUi/LoadImageMenuItem\";\nimport DownloadSelectedImageMenuItem from \"../../ImageProcessingUi/DownloadSelectedImageMenuItem\";\n\n/**\n * \"File\" Appbar Dropdown menu. Contains all the options that the user can\n * choose about files (upload, download, etc)\n */\nexport default class FileSubmenu extends React.Component {\n  state = {\n    open: false\n  };\n\n  handleToggle = () => {\n    this.setState(state => ({ open: !state.open }));\n  };\n\n  handleClose = event => {\n    if (this.anchorEl.contains(event.target)) {\n      return;\n    }\n\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { open } = this.state;\n\n    return (\n      <div>\n        <Button\n          buttonRef={node => {\n            this.anchorEl = node;\n          }}\n          aria-owns={open ? \"menu-list-grow\" : undefined}\n          aria-haspopup=\"true\"\n          onClick={this.handleToggle}\n          color=\"inherit\"\n        >\n          File\n        </Button>\n        <Popper\n          open={open}\n          style={this.state.open ? {} : { display: \"none\" }}\n          anchorEl={this.anchorEl}\n          transition\n          disablePortal\n        >\n          <Paper onClick={this.handleClose}>\n            <ClickAwayListener onClickAway={this.handleClose}>\n              <MenuList>\n                <LoadImageMenuItem />\n                <DownloadSelectedImageMenuItem />\n              </MenuList>\n            </ClickAwayListener>\n          </Paper>\n        </Popper>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nclass ShowHistogramMenuItem extends React.Component {\n  onClick = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n\n    this.props.appStore.showHistogramOfCurrentImage();\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.onClick}>Histogram</MenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(ShowHistogramMenuItem))\n);\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { operations } from \"wiplib\";\n\nconst { crop } = operations;\n\nclass CropMenuItem extends React.Component {\n  cropCurrentImage = () => {\n    const { enqueueSnackbar, appStore } = this.props;\n    const { imageSelectionMehod } = appStore;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else if (imageSelectionMehod !== \"selection\") {\n      enqueueSnackbar(\n        \"You need to select a part of the image with the selection tool\",\n        {\n          variant: \"error\"\n        }\n      );\n    } else {\n      const { addImage, imagesInfos } = appStore;\n      addImage(crop(imagesInfos[index].imageBuffer, imagesInfos[index].region));\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.cropCurrentImage}>Crop</MenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(inject(\"appStore\")(observer(CropMenuItem)));\n","/**\n * Returns an array containing the points of the line which connects the given\n * points.\n *\n * @param {Object} firstPoint Origin point of the line\n * @param {Object} secondPoint End point of the line.\n * @returns {Array} Points of the line.\n */\nexport const bresenham = (\n  firstPoint,\n  secondPoint\n) => {\n  let points = [];\n\n  const EPS = 0.0001;\n  let x0 = firstPoint.x;\n  let x1 = secondPoint.x;\n  let y0 = firstPoint.y;\n  let y1 = secondPoint.y;\n  let dx = Math.abs(x1-x0);\n  let dy = Math.abs(y1-y0);\n  let sx = (x0 < x1) ? 1 : -1;\n  let sy = (y0 < y1) ? 1 : -1;\n  let err = dx-dy;\n\n  while(true){\n    points.push({x: x0, y: y0});\n\n    if (Math.abs(x0-x1) < EPS && Math.abs(y0-y1) < EPS) {\n      break;\n    }\n    let e2 = 2 * err;\n    if (e2 > -dy) { \n      err -= dy;\n      x0  += sx; \n    }\n    if (e2 <  dx) {\n      err += dx;\n      y0  += sy; \n    }\n  }\n\n  return points;\n};","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { bresenham } from \"../../lib/Bresenham\";\n\nclass ProfileMenuItem extends React.Component {\n  getProfile = () => {\n    const { enqueueSnackbar, appStore } = this.props;\n    const { imageSelectionMehod } = appStore;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else if (imageSelectionMehod !== \"line\") {\n      enqueueSnackbar(\n        \"You need to select a line inside the image with the profile tool\",\n        {\n          variant: \"error\"\n        }\n      );\n    } else {\n      const { left, top, width, height } = appStore.imagesInfos[index].region;\n      const points = bresenham(\n        { x: left, y: top },\n        { x: left + width, y: top + height }\n      );\n      const associatedImage = appStore.imagesInfos[index].imageBuffer;\n      const profileValues = {\n        \"Red\": [],\n        \"Green\": [],\n        \"Blue\": [],\n        \"Gray\": []\n      };\n\n      points.forEach(point => {\n        let pixel = associatedImage.getPixel({ x: point.x, y: point.y });\n        profileValues[\"Red\"].push(pixel[0]);\n        profileValues[\"Green\"].push(pixel[1]);\n        profileValues[\"Blue\"].push(pixel[2]);\n        profileValues[\"Gray\"].push(Math.round(\n          pixel[0] * 0.222 + \n          pixel[1] * 0.707 + \n          pixel[2] * 0.071\n        ));\n      }); \n      \n      const firstDerivativeProfileValues = {\n        \"Red\": [],\n        \"Green\": [],\n        \"Blue\": [],\n        \"Gray\": []\n      };\n\n      for (let i = 1; i < profileValues[\"Red\"].length - 1; ++i)\n        Object.keys(profileValues).forEach( key => {\n          firstDerivativeProfileValues[key].push(\n            (profileValues[key][i + 1] - profileValues[key][i - 1]) / 2\n          );\n        });\n\n      appStore.addProfile(profileValues, firstDerivativeProfileValues);\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.getProfile}>Profile</MenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(inject(\"appStore\")(observer(ProfileMenuItem)));\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport ShowHistogramMenuItem from \"../../ImageProcessingUi/ShowHistogramMenuItem\";\nimport CropMenuItem from \"../../ImageProcessingUi/CropMenuItem\";\nimport ProfileMenuItem from \"../../ImageProcessingUi/ProfileMenuItem\";\n\n/**\n * \"Image\" Appbar Dropdown menu. Contains all the general options that the user\n * can choose about an image (see histogram, crop, etc)\n */\nexport default class ImageSubmenu extends React.Component {\n  state = {\n    open: false\n  };\n\n  handleToggle = () => {\n    this.setState(state => ({ open: !state.open }));\n  };\n\n  handleClose = event => {\n    if (this.anchorEl.contains(event.target)) {\n      return;\n    }\n\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { open } = this.state;\n\n    return (\n      <div>\n        <Button\n          buttonRef={node => {\n            this.anchorEl = node;\n          }}\n          aria-owns={open ? \"menu-list-grow\" : undefined}\n          aria-haspopup=\"true\"\n          onClick={this.handleToggle}\n          color=\"inherit\"\n        >\n          Image\n        </Button>\n        <Popper\n          open={open}\n          style={this.state.open ? {} : { display: \"none\" }}\n          anchorEl={this.anchorEl}\n          transition\n          disablePortal\n        >\n          <Paper onClick={this.handleClose}>\n            <ClickAwayListener onClickAway={this.handleClose}>\n              <MenuList>\n                <ShowHistogramMenuItem />\n                <CropMenuItem />\n                <ProfileMenuItem />\n              </MenuList>\n            </ClickAwayListener>\n          </Paper>\n        </Popper>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\n/**\n * Coordinate input component to ask the user for the coordinates of a point\n */\nexport default class InputCoordinate extends React.Component {\n  static propTypes = {\n    /** Current value of the coordinate */\n    coordinate: PropTypes.object.isRequired,\n    /** Listener for coordinate changes */\n    onChange: PropTypes.func.isRequired,\n    /** Listener for coordinate delete */\n    onDelete: PropTypes.func.isRequired\n  };\n\n  onYChange = e => {\n    const number = Number.parseFloat(e.target.value);\n    this.props.onChange({\n      ...this.props.coordinate,\n      y: Number.isFinite(number) ? number : \"\"\n    });\n  };\n\n  onXChange = e => {\n    const number = Number.parseFloat(e.target.value);\n    this.props.onChange({\n      ...this.props.coordinate,\n      x: Number.isFinite(number) ? number : \"\"\n    });\n  };\n\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          width: \"100%\"\n        }}\n      >\n        <TextField\n          type=\"number\"\n          placeholder=\"0\"\n          value={this.props.coordinate.x}\n          onChange={this.onXChange}\n          margin=\"dense\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">x: </InputAdornment>\n            )\n          }}\n        />\n        <TextField\n          type=\"number\"\n          placeholder=\"0\"\n          value={this.props.coordinate.y}\n          onChange={this.onYChange}\n          margin=\"dense\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">y: </InputAdornment>\n            )\n          }}\n        />\n        <IconButton aria-label=\"Delete\" onClick={this.props.onDelete}>\n          <DeleteIcon />\n        </IconButton>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport {\n  XYPlot,\n  XAxis,\n  YAxis,\n  HorizontalGridLines,\n  LineSeries\n} from \"react-vis\";\nimport InputCoordinate from \"./InputCoordinate\";\nimport { operations } from \"wiplib\";\n\nconst { linearTransformation } = operations;\n\nconst styles = {\n  center: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"1rem\",\n    marginBottom: \"1rem\"\n  }\n};\n\n/**\n * Dialog to ask the user for the linear sections for a linear transformation\n */\nclass LinearTransformationDialog extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  state = {\n    /** List of coordinates */\n    coords: [{ x: 0, y: 0 }, { x: 255, y: 255 }]\n  };\n\n  /** Returns a listener for when the user changes some coordinate */\n  onDataChange = index => newCoords => {\n    this.setState(prevState => ({\n      coords: prevState.coords.map((coord, i) =>\n        i === index ? newCoords : coord\n      )\n    }));\n  };\n\n  /** Returns a listener for when the user deletes some coordinate */\n  onDataDelete = index => () => {\n    this.setState(prevState => ({\n      coords: prevState.coords.filter((_, i) => i !== index)\n    }));\n  };\n\n  /** Listener for when the user wants to add a new coordinate */\n  addNewCoordinate = () => {\n    const newCoord =\n      this.state.coords.length < 1\n        ? { x: 0, y: 0 }\n        : this.state.coords.slice(-1)[0];\n\n    this.setState(prevState => ({ coords: [...prevState.coords, newCoord] }));\n  };\n\n  onSubmit = () => {\n    const { appStore, onClose } = this.props;\n    const { index } = appStore.selectedGridItem;\n\n    appStore.addImage(\n      linearTransformation(\n        appStore.imagesInfos[index].imageBuffer,\n        this.state.coords\n      )\n    );\n\n    onClose();\n  };\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Linear Sections</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, enter the points to define the begin and end of each linear\n            section\n          </DialogContentText>\n          <div style={styles.center}>\n            <XYPlot width={300} height={300}>\n              <HorizontalGridLines />\n              <LineSeries\n                data={this.state.coords}\n                xDomain={[0, 255]}\n                yDomain={[0, 255]}\n              />\n              <XAxis />\n              <YAxis />\n            </XYPlot>\n          </div>\n          <div style={styles.center}>\n            <Button\n              onClick={this.addNewCoordinate}\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Add new coordinate\n            </Button>\n          </div>\n\n          <div>\n            {this.state.coords.map((coord, i) => (\n              <InputCoordinate\n                key={i}\n                coordinate={coord}\n                onChange={this.onDataChange(i)}\n                onDelete={this.onDataDelete(i)}\n              />\n            ))}\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.props.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(LinearTransformationDialog))\n);\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport LinearTransformationDialog from \"./LinearTransformationDialog\";\n\nclass LinearTransformationMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n\n    this.setState({ isDialogOpen: true });\n  };\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Linear Transformation</MenuItem>\n        <LinearTransformationDialog\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(LinearTransformationMenuItem))\n);\n","/**\n * Returns whether the given value is in range [min, max).\n * That is min <= value < max;\n *\n * @param {number} value  Value to check if it is in range\n * @param {number} min  Range minimum (inclusive)\n * @param {number} max  Range maximum (exclusive)\n */\nexport const isInRange = (value, min, max) => value >= min && value < max;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { observer, inject } from \"mobx-react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { isInRange } from \"../../../lib/Checks\";\nimport { operations } from \"wiplib\";\n\nconst { brightnessAndContrastAdjustment } = operations;\n\nconst styles = {\n  inputsContainer: {\n    flexWrap: \"wrap\",\n    margin: \"1rem\"\n  },\n  input: {\n    margin: \"1rem\"\n  }\n};\n\n/**\n * Dialog to prompt the user for the new brightness and contrast for the new\n * image on the adjust brightness and contrast operation\n */\nclass BrightnessAndContrastDialog extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  state = {\n    brightness: 0,\n    brightnessErrorMessage: \"\",\n    contrast: 0,\n    contrastErrorMessage: \"\",\n    formChanged: false\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    const { histogramInfos, selectedGridItem } = props.appStore;\n    let oldBrightness = state.brightness;\n    let oldContrast = state.contrast;\n\n    if (selectedGridItem.index >= 0) {\n      const { histogramInfo } = histogramInfos[\n        selectedGridItem.index\n      ].histogram;\n\n      oldBrightness = histogramInfo.brightness;\n      oldContrast = histogramInfo.contrast;\n    }\n\n    if (!state.formChanged) {\n      return {\n        brightness: +oldBrightness.toFixed(2),\n        contrast: +oldContrast.toFixed(2)\n      };\n    }\n    return null;\n  }\n\n  /** General listener for a change on the brightness or contrast input */\n  onChange = (\n    e,\n    valueStateName,\n    errorMessageStateName,\n    minPossibleValue,\n    maxPossibleValue\n  ) => {\n    const value = Number.parseFloat(e.target.value);\n\n    if (!isInRange(value, minPossibleValue, maxPossibleValue + 1)) {\n      this.setState({\n        [valueStateName]: e.target.value,\n        [errorMessageStateName]: `Required a number between ${minPossibleValue} and ${maxPossibleValue}`,\n        formChanged: true\n      });\n    } else {\n      this.setState({\n        [valueStateName]: value,\n        [errorMessageStateName]: \"\",\n        formChanged: true\n      });\n    }\n  };\n\n  /** Listener for when the user changes the brightness input value */\n  onBrightnessChange = e =>\n    this.onChange(e, \"brightness\", \"brightnessErrorMessage\", 0, 255);\n\n  /** Listener for when the user changes the contrast input value */\n  onContrastChange = e =>\n    this.onChange(e, \"contrast\", \"contrastErrorMessage\", 0, 128);\n\n  onSubmit = () => {\n    const { brightness, contrast } = this.state;\n    const { appStore } = this.props;\n    const { index } = appStore.selectedGridItem;\n\n    appStore.addImage(\n      brightnessAndContrastAdjustment(\n        appStore.imagesInfos[index].imageBuffer,\n        appStore.histogramInfos[index].histogram.histogramInfo.brightness,\n        appStore.histogramInfos[index].histogram.histogramInfo.contrast,\n        brightness,\n        contrast\n      )\n    );\n\n    this.onClose();\n  };\n\n  onClose = () => {\n    this.setState({\n      formChanged: false\n    });\n    this.props.onClose();\n  };\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          Brightness and Contrast Adjustment\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, enter the brightness and contrast for the new image\n          </DialogContentText>\n          <div className=\"center\" style={styles.inputsContainer}>\n            <TextField\n              error={!!this.state.brightnessErrorMessage}\n              label={this.state.brightnessErrorMessage}\n              type=\"number\"\n              placeholder={String(this.state.brightness)}\n              value={this.state.brightness}\n              onChange={this.onBrightnessChange}\n              margin=\"dense\"\n              style={styles.input}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">Brightness: </InputAdornment>\n                )\n              }}\n            />\n            <TextField\n              error={!!this.state.contrastErrorMessage}\n              label={this.state.contrastErrorMessage}\n              type=\"number\"\n              placeholder={String(this.state.contrast)}\n              value={this.state.contrast}\n              onChange={this.onContrastChange}\n              margin=\"dense\"\n              style={styles.input}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">Contrast: </InputAdornment>\n                )\n              }}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default inject(\"appStore\")(observer(BrightnessAndContrastDialog));\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport BrightnessAndContrastDialog from \"./BrightnessAndContrastDialog\";\n\nclass BrightnessAndContrastMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n\n    this.setState({ isDialogOpen: true });\n  };\n\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Brightness And Contrast</MenuItem>\n        <BrightnessAndContrastDialog\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(BrightnessAndContrastMenuItem))\n);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { isInRange } from \"../../../lib/Checks\";\nimport { operations } from \"wiplib\";\n\nconst { gammaCorrection } = operations;\n\nconst styles = {\n  inputsContainer: {\n    flexWrap: \"wrap\",\n    margin: \"1rem\"\n  },\n  input: {\n    margin: \"1rem\"\n  }\n};\n\n/**\n * Dialog to prompt the user for the gamma value for the new\n * image on the gamma correction operation\n */\nclass GammaCorrectionDialog extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  state = {\n    gamma: 0,\n    gammaErrorMessage: \"\"\n  };\n\n  /** General listener for a change on the gamma input */\n  onChange = (e, valueStateName, errorMessageStateName, errorMessage) => {\n    const value = Number.parseFloat(e.target.value);\n\n    if (!isInRange(value, 0, Number.POSITIVE_INFINITY)) {\n      this.setState({\n        [valueStateName]: e.target.value,\n        [errorMessageStateName]: errorMessage\n      });\n    } else {\n      this.setState({\n        [valueStateName]: value,\n        [errorMessageStateName]: \"\"\n      });\n    }\n  };\n\n  /** Listener for when the user changes the gamma input value */\n  onGammaChange = e =>\n    this.onChange(\n      e,\n      \"gamma\",\n      \"gammaErrorMessage\",\n      \"Required a value equal or greater than 0\"\n    );\n\n  onSubmit = () => {\n    const { appStore } = this.props;\n    const { index } = appStore.selectedGridItem;\n\n    appStore.addImage(\n      gammaCorrection(appStore.imagesInfos[index].imageBuffer, this.state.gamma)\n    );\n\n    this.props.onClose();\n  };\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Gamma correction</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, enter the gamma value for the new image\n          </DialogContentText>\n          <div className=\"center\" style={styles.inputsContainer}>\n            <TextField\n              error={!!this.state.gammaErrorMessage}\n              label={this.state.gammaErrorMessage}\n              type=\"number\"\n              placeholder=\"0\"\n              value={this.state.gamma}\n              onChange={this.onGammaChange}\n              margin=\"dense\"\n              style={styles.input}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">Gamma: </InputAdornment>\n                )\n              }}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.props.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(GammaCorrectionDialog))\n);\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport GammaCorrectionDialog from \"./GammaCorrectionDialog\";\n\nclass GammaCorrectionMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n\n    this.setState({ isDialogOpen: true });\n  };\n\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Gamma Correction</MenuItem>\n        <GammaCorrectionDialog\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(GammaCorrectionMenuItem))\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n\nconst styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n  },\n});\n\nclass FilesListMenu extends React.Component {\n  state = {\n    anchorEl: null,\n    selectedIndex: this.props.selectedItemIndex,\n  };\n\n  handleClickListItem = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleMenuItemClick = (event, index, selectedItemName) => {\n    this.setState({ selectedIndex: index, anchorEl: null });\n    event[\"selectedItemName\"] = selectedItemName;\n    event[\"selectedItemIndex\"] = index;\n    this.props.onItemSelection(event);\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { anchorEl } = this.state;\n\n    return (\n      <div className={classes.root}>\n        <List component=\"nav\">\n          <ListItem\n            disabled={this.props.isDisabled}\n            button\n            aria-haspopup=\"true\"\n            aria-label={this.props.menuTitle}\n            onClick={this.handleClickListItem}\n          >\n            <ListItemText\n              primary={this.props.menuTitle}\n              secondary={\n                (this.props.options.length > 0) ?\n                this.props.options[this.state.selectedIndex] :\n                \"None\"\n              }\n            />\n          </ListItem>\n        </List>\n        { (this.props.options.length > 0) ?\n          <Menu\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={this.handleClose}\n          >\n            {this.props.options.map((option, index) => (\n              <MenuItem\n                key={option}\n                selected={index === this.state.selectedIndex}\n                onClick={event => this.handleMenuItemClick(event, index, option)}\n              >\n                {option}\n              </MenuItem>\n            ))}\n          </Menu> :\n          null\n        }\n        \n      </div>\n    );\n  }\n}\n\nFilesListMenu.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(FilesListMenu);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FilesListMenu from \"../../Toolbar/FilesListMenu\";\nimport { operations } from \"wiplib\";\n\nconst { imagesDifference } = operations;\n\n/**\n * Dialog to prompt the user for the image name of the image to do the\n * difference operation\n */\nclass ImageDifferenceDialog extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  state = {\n    imgName: \"\"\n  };\n\n  onChange = e =>\n    this.setState({\n      imgName: e.selectedItemName\n    });\n\n  onSubmit = () => {\n    const otherImgName = this.state.imgName;\n    const { appStore, enqueueSnackbar } = this.props;\n    const { index } = appStore.selectedGridItem;\n    const otherImageInfo = appStore.imagesInfos.find(\n      ({ key }) => key === otherImgName\n    );\n    const imageBuffer = otherImageInfo && otherImageInfo.imageBuffer;\n\n    if (imageBuffer === undefined) {\n      enqueueSnackbar(\n        `Couldn't find an image with the selected name (${otherImgName})`,\n        {\n          variant: \"error\"\n        }\n      );\n    } else {\n      appStore.addImage(\n        imagesDifference(appStore.imagesInfos[index].imageBuffer, imageBuffer)\n      );\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const activeImagesNames = this.props.appStore.imagesInfos.map(\n      img => img.key\n    );\n\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Image Difference</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, select the image to perform the difference to the current\n            image\n          </DialogContentText>\n          <div className=\"center\">\n            <FilesListMenu\n              menuTitle=\"Selected image\"\n              options={activeImagesNames}\n              onItemSelection={this.onChange}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.props.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(ImageDifferenceDialog))\n);\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ImageDifferenceDialog from \"./ImageDifferenceDialog\";\n\nclass ImageDifferenceMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else {\n      this.setState({ isDialogOpen: true });\n    }\n  };\n\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Image Difference</MenuItem>\n        <ImageDifferenceDialog\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(ImageDifferenceMenuItem))\n);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { ChromePicker } from \"react-color\";\nimport FilesListMenu from \"../../Toolbar/FilesListMenu\";\nimport { operations } from \"wiplib\";\n\nconst { changesDetection } = operations;\n\n/**\n * Dialog to prompt the user for the image name of the image to do the\n * changes detection, color and threshold\n */\nclass ChangesDetectionDialog extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  state = {\n    imgName: \"\",\n    rgbaColor: { r: 255, g: 0, b: 0 },\n    threshold: \"\"\n  };\n\n  onImgNameChange = e =>\n    this.setState({\n      imgName: e.selectedItemName\n    });\n\n  onThresholdChange = e => {\n    const newValue = Number.parseFloat(e.target.value);\n\n    this.setState({\n      threshold: Number.isFinite(newValue) ? newValue : \"\"\n    });\n  };\n\n  handleChangeComplete = color => this.setState({ rgbaColor: color.rgb });\n\n  onSubmit = () => {\n    const { imgName, rgbaColor, threshold } = this.state;\n    this.applyChangesDetection({\n      imgName,\n      rgbaColor,\n      threshold: threshold === \"\" ? 0 : threshold\n    });\n    this.props.onClose();\n  };\n\n  applyChangesDetection = ({ imgName, rgbaColor, threshold }) => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { index } = appStore.selectedGridItem;\n    const otherImageInfo = appStore.imagesInfos.find(\n      ({ key }) => key === imgName\n    );\n    const imageBuffer = otherImageInfo && otherImageInfo.imageBuffer;\n\n    if (imageBuffer === undefined) {\n      enqueueSnackbar(\n        `Couldn't find an image with the selected name (${imgName})`,\n        {\n          variant: \"error\"\n        }\n      );\n    } else {\n      appStore.addImage(\n        changesDetection(\n          appStore.imagesInfos[index].imageBuffer,\n          imageBuffer,\n          threshold,\n          rgbaColor\n        )\n      );\n    }\n  };\n\n  render() {\n    const activeImagesNames = this.props.appStore.imagesInfos.map(\n      img => img.key\n    );\n\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Changes Detection</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, select the image to detect the changes between them. Also\n            enter the color which will be used to highlight the differences and\n            the difference threshold, value that will determine what is\n            considered a difference and what not\n          </DialogContentText>\n          <div className=\"center\" style={{ justifyContent: \"space-around\" }}>\n            <FilesListMenu\n              menuTitle=\"Selected image\"\n              options={activeImagesNames}\n              onItemSelection={this.onImgNameChange}\n            />\n            <TextField\n              placeholder=\"0\"\n              type=\"number\"\n              value={this.state.threshold}\n              onChange={this.onThresholdChange}\n              margin=\"dense\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">Threshold: </InputAdornment>\n                )\n              }}\n            />\n          </div>\n          <div className=\"center\" style={{ marginTop: \"1rem\" }}>\n            <ChromePicker\n              color={this.state.rgbaColor}\n              onChangeComplete={this.handleChangeComplete}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.props.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(ChangesDetectionDialog))\n);\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ChangesDetectionDialog from \"./ChangesDetectionDialog\";\n\nclass ChangesDetectionMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n\n    this.setState({ isDialogOpen: true });\n  };\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Changes Detection</MenuItem>\n        <ChangesDetectionDialog\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(ChangesDetectionMenuItem))\n);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FilesListMenu from \"../../Toolbar/FilesListMenu\";\nimport { operations } from \"wiplib\";\n\nconst { histogramSpecification } = operations;\n\n/**\n * Dialog to prompt the user for the image name of the image to do the\n * histogram specification\n */\nclass HistogramSpecificationDialog extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  state = {\n    imgName: \"\"\n  };\n\n  onChange = e =>\n    this.setState({\n      imgName: e.selectedItemName\n    });\n\n  onSubmit = () => {\n    const otherImgName = this.state.imgName;\n    const { appStore, enqueueSnackbar } = this.props;\n    const { index } = appStore.selectedGridItem;\n    const otherImgIndex = appStore.imagesInfos.findIndex(\n      ({ key }) => key === otherImgName\n    );\n\n    if (otherImgIndex < 0 || otherImgIndex > appStore.imagesInfos.length) {\n      enqueueSnackbar(\n        `Couldn't find an image with the selected name (${otherImgName})`,\n        {\n          variant: \"error\"\n        }\n      );\n    } else {\n      appStore.addImage(\n        histogramSpecification(\n          appStore.imagesInfos[index].imageBuffer,\n          appStore.histogramInfos[index].cHistogram,\n          appStore.histogramInfos[otherImgIndex].cHistogram\n        )\n      );\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const activeImagesNames = this.props.appStore.imagesInfos.map(\n      img => img.key\n    );\n\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          Histogram Specificacion\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, select the image with the histogram to perform the histogram\n            specification to the current image\n          </DialogContentText>\n          <div className=\"center\">\n            <FilesListMenu\n              menuTitle=\"Selected image\"\n              options={activeImagesNames}\n              onItemSelection={this.onChange}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.props.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(HistogramSpecificationDialog))\n);\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport HistogramSpecificationDialog from \"./HistogramSpecificationDialog\";\n\nclass HistogramSpecificationMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n\n    this.setState({ isDialogOpen: true });\n  };\n\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Histogram Specification</MenuItem>\n        <HistogramSpecificationDialog\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(HistogramSpecificationMenuItem))\n);\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { operations } from \"wiplib\";\n\nconst { imageToGrayscale } = operations;\n\nclass GrayscaleMenuItem extends React.Component {\n  currentImageToGrayscale = () => {\n    const { enqueueSnackbar, appStore } = this.props;\n    const { type, index } = this.props.appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else {\n      appStore.addImage(\n        imageToGrayscale(appStore.imagesInfos[index].imageBuffer)\n      );\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.currentImageToGrayscale}>To Grayscale</MenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(inject(\"appStore\")(observer(GrayscaleMenuItem)));\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { operations } from \"wiplib\";\n\nconst { histogramEqualization } = operations;\n\nclass HistogramEqualizationMenuItem extends React.Component {\n  currentImageHistogramEqualization = () => {\n    const { enqueueSnackbar, appStore } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else {\n      appStore.addImage(\n        histogramEqualization(\n          appStore.imagesInfos[index].imageBuffer,\n          appStore.histogramInfos[index].cHistogram\n        )\n      );\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.currentImageHistogramEqualization}>\n          Histogram Equalization\n        </MenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(HistogramEqualizationMenuItem))\n);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { isInRange } from \"../../../lib/Checks\";\nimport { operations } from \"wiplib\";\n\nconst { quantization } = operations;\n\nconst styles = {\n  inputsContainer: {\n    flexWrap: \"wrap\",\n    margin: \"1rem\"\n  },\n  input: {\n    margin: \"1rem\"\n  }\n};\n\n/**\n * Dialog to prompt the user for the amount of levels for the\n * quantization operation.\n */\nclass QuantizationDialog extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  state = {\n    levels: 8,\n    errorMessage: \"\"\n  };\n\n  /** General listener for a change on the level input */\n  onChange = (\n    e,\n    valueStateName,\n    errorMessageStateName,\n    minPossibleValue,\n    maxPossibleValue\n  ) => {\n    const value = Number.parseFloat(e.target.value);\n\n    if (!isInRange(value, minPossibleValue, maxPossibleValue + 1)) {\n      this.setState({\n        [valueStateName]: e.target.value,\n        [errorMessageStateName]: `Required a number between ${minPossibleValue} and ${maxPossibleValue}`\n      });\n    } else {\n      this.setState({\n        [valueStateName]: value,\n        [errorMessageStateName]: \"\"\n      });\n    }\n  };\n\n  /** Listener for when the user changes the levels input value */\n  onLevelsChange = e => this.onChange(e, \"levels\", \"errorMessage\", 0, 8);\n\n  onSubmit = () => {\n    const { levels } = this.state;\n    const { appStore } = this.props;\n    const { index } = appStore.selectedGridItem;\n\n    appStore.addImage(\n      quantization(appStore.imagesInfos[index].imageBuffer, levels)\n    );\n    this.props.onClose();\n  };\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Image Resample</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, enter the amount of levels for the quantization\n          </DialogContentText>\n          <div className=\"center\" style={styles.inputsContainer}>\n            <TextField\n              error={!!this.state.errorMessage}\n              label={this.state.errorMessage}\n              type=\"number\"\n              placeholder={String(this.state.levels)}\n              value={this.state.levels}\n              onChange={this.onLevelsChange}\n              margin=\"dense\"\n              style={styles.input}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">Levels: </InputAdornment>\n                )\n              }}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.props.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withSnackbar(inject(\"appStore\")(observer(QuantizationDialog)));\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport QuantizationDialog from \"./QuantizationDialog\";\n\nclass QuantizationMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else {\n      this.setState({ isDialogOpen: true });\n    }\n  };\n\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Quantization</MenuItem>\n        <QuantizationDialog\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(inject(\"appStore\")(observer(QuantizationMenuItem)));\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport LinearTransformationMenuItem from \"../../ImageProcessingUi/LinearTransformationMenuItem\";\nimport BrightnessAndContrastMenuItem from \"../../ImageProcessingUi/BrightnessAndContrastMenuItem\";\nimport GammaCorrectionMenuItem from \"../../ImageProcessingUi/GammaCorrectionMenuItem\";\nimport ImageDifferenceMenuItem from \"../../ImageProcessingUi/ImageDifferenceMenuItem\";\nimport ChangesDetectionMenuItem from \"../../ImageProcessingUi/ChangesDetectionMenuItem\";\nimport HistogramSpecificationMenuItem from \"../../ImageProcessingUi/HistogramSpecificationMenuItem\";\nimport GrayscaleMenuItem from \"../../ImageProcessingUi/GrayscaleMenuItem\";\nimport HistogramEqualizationMenuItem from \"../../ImageProcessingUi/HistogramEqualizationMenuItem\";\nimport QuantizationMenuItem from \"../../ImageProcessingUi/QuantizationMenuItem\";\n\n/**\n * \"Point Operations\" Appbar Dropdown menu. Contains all the point operations\n * options that the user can choose\n */\nexport default class PointOperationsSubmenu extends React.Component {\n  state = {\n    open: false\n  };\n\n  handleToggle = () => {\n    this.setState(state => ({ open: !state.open }));\n  };\n\n  handleClose = event => {\n    if (this.anchorEl.contains(event.target)) {\n      return;\n    }\n\n    this.setState({ open: false });\n  };\n\n  render() {\n    return (\n      <div>\n        <Button\n          buttonRef={node => {\n            this.anchorEl = node;\n          }}\n          aria-owns={this.state.open ? \"file-menu-list-grow\" : undefined}\n          aria-haspopup=\"true\"\n          onClick={this.handleToggle}\n          color=\"inherit\"\n        >\n          Point Operations\n        </Button>\n        <Popper\n          open={this.state.open}\n          style={this.state.open ? {} : { display: \"none\" }}\n          anchorEl={this.anchorEl}\n          transition\n          disablePortal\n        >\n          <Paper onClick={this.handleClose}>\n            <ClickAwayListener onClickAway={this.handleClose}>\n              <MenuList>\n                <GrayscaleMenuItem />\n                <LinearTransformationMenuItem />\n                <BrightnessAndContrastMenuItem />\n                <GammaCorrectionMenuItem />\n                <ImageDifferenceMenuItem />\n                <ChangesDetectionMenuItem />\n                <HistogramSpecificationMenuItem />\n                <HistogramEqualizationMenuItem />\n                <QuantizationMenuItem />\n              </MenuList>\n            </ClickAwayListener>\n          </Paper>\n        </Popper>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FilesListMenu from \"../../Toolbar/FilesListMenu\";\n\nconst styles = {\n  inputsContainer: {\n    flexWrap: \"wrap\"\n  },\n  input: {\n    margin: \"1rem\"\n  },\n  center: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"1rem\",\n    marginBottom: \"1rem\"\n  }\n};\n\n/**\n * Dialog to prompt the user for the degrees, interpolation method\n * and \"rotate and print\" flag for the rotation operation.\n */\nexport default class ImageRotationDialog extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    interpolationMethods: PropTypes.array.isRequired\n  };\n\n  state = {\n    degrees: 0,\n    degreesErrorMessage: \"\",\n    rotateAndPaint: false,\n    interpolationMethod: this.props.interpolationMethods[0],\n    selectedInterpolationMethodIndex: 0\n  };\n\n  /** Listener for when the user changes the degrees input value */\n  onDegreesChange = e => {\n    if (!Number.parseFloat(e.target.value)) {\n      this.setState({\n        degrees: e.target.value,\n        degreesErrorMessage: \"Enter an amount of degrees\"\n      });\n    } else {\n      this.setState({\n        degrees: Number.parseFloat(e.target.value),\n        degreesErrorMessage: \"\"\n      });\n    }\n  };\n\n  /** Listener for when the user changes the rotate and paint*/\n  onRotateAndPaintChange = e => {\n    this.setState({\n      rotateAndPaint: e.target.checked\n    });\n  };\n\n  /** Listener for when the user changes the interpolation method */\n  onInterpolationMethodChange = e =>\n    this.setState({\n      interpolationMethod: e.selectedItemName,\n      selectedInterpolationMethodIndex: e.selectedItemIndex\n    });\n\n  onSubmit = () => {\n    const { degrees, rotateAndPaint, interpolationMethod } = this.state;\n    this.props.onSubmit({\n      degrees,\n      rotateAndPaint,\n      interpolationMethod\n    });\n  };\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Image rotation</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, enter the rotation parameters\n          </DialogContentText>\n          <div className=\"center\" style={styles.inputsContainer}>\n            <div style={styles.center}>\n              <TextField\n                error={!!this.state.degreesErrorMessage}\n                label={this.state.degreesErrorMessage}\n                type=\"number\"\n                placeholder=\"0\"\n                value={this.state.degrees}\n                onChange={this.onDegreesChange}\n                margin=\"dense\"\n                style={styles.input}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">Degrees: </InputAdornment>\n                  )\n                }}\n              />\n            </div>\n            <FilesListMenu\n              menuTitle=\"Interpolation method\"\n              options={this.props.interpolationMethods}\n              onItemSelection={this.onInterpolationMethodChange}\n              isDisabled={this.state.rotateAndPaint}\n              selectedItemIndex={this.state.selectedInterpolationMethodIndex}\n            />\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.rotateAndPaint}\n                  onChange={this.onRotateAndPaintChange}\n                  value=\"rotateAndPaint\"\n                  color=\"primary\"\n                />\n              }\n              label=\"Rotate and paint\"\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.props.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ImageRotationDialog from \"./ImageRotationDialog\";\nimport { operations } from \"wiplib\";\n\nconst { interpolationMethods, imageRotation } = operations;\n\nclass ImageRotationMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n\n    this.setState({ isDialogOpen: true });\n  };\n\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  rotateCurrentImage = ({ degrees, rotateAndPaint, interpolationMethod }) => {\n    const { appStore } = this.props;\n    const { index } = appStore.selectedGridItem;\n\n    appStore.addImage(\n      imageRotation(\n        appStore.imagesInfos[index].imageBuffer,\n        degrees,\n        interpolationMethods[interpolationMethod],\n        rotateAndPaint\n      )\n    );\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Rotation</MenuItem>\n        <ImageRotationDialog\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n          onSubmit={rotationInfo => {\n            this.closeDialog();\n            this.rotateCurrentImage(rotationInfo);\n          }}\n          interpolationMethods={Object.keys(interpolationMethods)}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(ImageRotationMenuItem))\n);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FilesListMenu from \"../../Toolbar/FilesListMenu\";\n\nconst styles = {\n  inputsContainer: {\n    flexWrap: \"wrap\"\n  },\n  input: {\n    margin: \"1rem\"\n  },\n  center: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"0.4rem\",\n    marginBottom: \"0.4rem\"\n  }\n};\n\n/**\n * Dialog to prompt the user for the new dimensions and\n * interpolation method for the resizing operation.\n */\nexport default class ImageResizingDialog extends React.Component {\n  static propTypes = {\n    oldWidth: PropTypes.number.isRequired,\n    oldHeight: PropTypes.number.isRequired,\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    interpolationMethods: PropTypes.array.isRequired\n  };\n\n  state = {\n    width: this.props.oldWidth,\n    widthPercentage: 100,\n    widthErrorMessage: \"\",\n    height: this.props.oldHeight,\n    heightPercentage: 100,\n    heightErrorMessage: \"\",\n    interpolationMethod: this.props.interpolationMethods[0],\n    selectedInterpolationMethodIndex: 0,\n    formChanged: false\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    if (\n      !state.formChanged &&\n      (props.oldHeight !== state.height || props.oldWidth !== state.width)\n    ) {\n      return {\n        height: props.oldHeight,\n        width: props.oldWidth,\n        widthPercentage: 100,\n        heightPercentage: 100,\n        widthErrorMessage:\n          props.oldWidth <= 0 ? \"Width must be greater than 0\" : \"\",\n        heightErrorMessage:\n          props.oldHeight <= 0 ? \"Height must be greater than 0\" : \"\"\n      };\n    }\n\n    if (props.oldHeight === 0 && props.oldWidth === 0) {\n      return {\n        widthErrorMessage: \"Select an image\",\n        heightErrorMessage: \"Select an image\",\n        width: 0,\n        widthPercentage: 0,\n        height: 0,\n        heightPercentage: 0\n      };\n    }\n    return null;\n  }\n\n  /** General listener for when the user changes dimension inputs */\n  onDimensionsChange = (\n    e,\n    dimensionName,\n    dimensionStateName,\n    oldDimensionPropName,\n    percentageStateName,\n    errorMessageStateName,\n    isPercentage\n  ) => {\n    const value = Number.parseFloat(e.target.value);\n    let dimension;\n    let percentage;\n    if (!isPercentage) {\n      dimension = Math.round(value);\n      percentage = (dimension * 100) / this.props[oldDimensionPropName];\n    } else {\n      dimension = Math.floor((value / 100) * this.props[oldDimensionPropName]);\n      percentage = value;\n    }\n    if (dimension < 1 || Number.isNaN(value)) {\n      this.setState({\n        [dimensionStateName]: isPercentage ? \"\" : e.target.value,\n        [percentageStateName]: isPercentage ? e.target.value : \"\",\n        [errorMessageStateName]: dimensionName + \" must be greater than 0\",\n        formChanged: true\n      });\n    } else {\n      this.setState({\n        [dimensionStateName]: isPercentage ? dimension : value,\n        [percentageStateName]: isPercentage ? value : percentage,\n        [errorMessageStateName]: \"\",\n        formChanged: true\n      });\n    }\n  };\n\n  /** Listener for when the user changes width input */\n  onWidthChange = e =>\n    this.onDimensionsChange(\n      e,\n      \"Width\",\n      \"width\",\n      \"oldWidth\",\n      \"widthPercentage\",\n      \"widthErrorMessage\",\n      false\n    );\n\n  /** Listener for when the user changes height input */\n  onHeightChange = e =>\n    this.onDimensionsChange(\n      e,\n      \"Height\",\n      \"height\",\n      \"oldHeight\",\n      \"heightPercentage\",\n      \"heightErrorMessage\",\n      false\n    );\n\n  /** Listener for when the user changes width percentage input */\n  onWidthPercentageChange = e =>\n    this.onDimensionsChange(\n      e,\n      \"Width\",\n      \"width\",\n      \"oldWidth\",\n      \"widthPercentage\",\n      \"widthErrorMessage\",\n      true\n    );\n\n  /** Listener for when the user changes height percentage input */\n  onHeightPercentageChange = e =>\n    this.onDimensionsChange(\n      e,\n      \"Height\",\n      \"height\",\n      \"oldHeight\",\n      \"heightPercentage\",\n      \"heightErrorMessage\",\n      true\n    );\n\n  /** Listener for when the user changes the interpolation method */\n  onInterpolationMethodChange = e =>\n    this.setState({\n      interpolationMethod: e.selectedItemName,\n      selectedInterpolationMethodIndex: e.selectedItemIndex\n    });\n\n  onSubmit = () => {\n    //TODO: Check resizing parameters\n    this.setState({\n      formChanged: false\n    });\n    const {\n      widthPercentage,\n      heightPercentage,\n      interpolationMethod\n    } = this.state;\n    this.props.onSubmit({\n      widthPercentage,\n      heightPercentage,\n      interpolationMethod\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      formChanged: false\n    });\n    this.props.onClose();\n  };\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Image resizing</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, enter the resizing parameters\n          </DialogContentText>\n          <div style={styles.center}>\n            <TextField\n              error={!!this.state.widthErrorMessage}\n              label={this.state.widthErrorMessage}\n              type=\"number\"\n              placeholder={String(this.props.oldWidth)}\n              value={this.state.width}\n              onChange={this.onWidthChange}\n              margin=\"dense\"\n              style={styles.input}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">Width: </InputAdornment>\n                ),\n                endAdornment: (\n                  <InputAdornment position=\"end\">px </InputAdornment>\n                )\n              }}\n            />\n            <TextField\n              error={!!this.state.heightErrorMessage}\n              label={this.state.heightErrorMessage}\n              type=\"number\"\n              placeholder={String(this.props.oldHeight)}\n              value={this.state.height}\n              onChange={this.onHeightChange}\n              margin=\"dense\"\n              style={styles.input}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">Height: </InputAdornment>\n                ),\n                endAdornment: (\n                  <InputAdornment position=\"end\">px </InputAdornment>\n                )\n              }}\n            />\n          </div>\n          <div className=\"center\" style={styles.inputsContainer}>\n            <div style={styles.center}>\n              <TextField\n                error={!!this.state.widthErrorMessage}\n                label={this.state.widthErrorMessage}\n                type=\"number\"\n                placeholder=\"100\"\n                value={this.state.widthPercentage}\n                onChange={this.onWidthPercentageChange}\n                margin=\"dense\"\n                style={styles.input}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      Percentage:{\" \"}\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment position=\"end\">% </InputAdornment>\n                  )\n                }}\n              />\n              <TextField\n                error={!!this.state.heightErrorMessage}\n                label={this.state.heightErrorMessage}\n                type=\"number\"\n                placeholder=\"100\"\n                value={this.state.heightPercentage}\n                onChange={this.onHeightPercentageChange}\n                margin=\"dense\"\n                style={styles.input}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      Percentage:{\" \"}\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment position=\"end\">% </InputAdornment>\n                  )\n                }}\n              />\n            </div>\n            <FilesListMenu\n              menuTitle=\"Interpolation method\"\n              options={this.props.interpolationMethods}\n              onItemSelection={this.onInterpolationMethodChange}\n              selectedItemIndex={this.state.selectedInterpolationMethodIndex}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ImageResizingDialog from \"./ImageResizingDialog\";\nimport { operations } from \"wiplib\";\n\nconst { interpolationMethods, imageResizing } = operations;\n\nclass ImageResizeMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n      return;\n    }\n\n    this.setState({ isDialogOpen: true });\n  };\n\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  resizeCurrentImage = ({\n    widthPercentage,\n    heightPercentage,\n    interpolationMethod\n  }) => {\n    const { appStore } = this.props;\n    const { index } = appStore.selectedGridItem;\n\n    appStore.addImage(\n      imageResizing(\n        appStore.imagesInfos[index].imageBuffer,\n        widthPercentage,\n        heightPercentage,\n        interpolationMethods[interpolationMethod]\n      )\n    );\n  };\n\n  render() {\n    const { appStore } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n    let selectedImageDimensions = { width: 0, height: 0 };\n\n    if (type === \"image\" && index >= 0) {\n      const imgBuffer = appStore.imagesInfos[index].imageBuffer;\n\n      selectedImageDimensions = {\n        width: imgBuffer.width,\n        height: imgBuffer.height\n      };\n    }\n\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Resize</MenuItem>\n        <ImageResizingDialog\n          oldWidth={selectedImageDimensions.width}\n          oldHeight={selectedImageDimensions.height}\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n          onSubmit={resizeInfo => {\n            this.closeDialog();\n            this.resizeCurrentImage(resizeInfo);\n          }}\n          interpolationMethods={Object.keys(interpolationMethods)}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(inject(\"appStore\")(observer(ImageResizeMenuItem)));\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { operations } from \"wiplib\";\n\nconst { mirror } = operations;\n\nclass VerticalMirrorMenuItem extends React.Component {\n  currentImageVerticalMirror = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else {\n      appStore.addImage(\n        mirror.vertical(appStore.imagesInfos[index].imageBuffer)\n      );\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.currentImageVerticalMirror}>\n          Vertical Mirror\n        </MenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(VerticalMirrorMenuItem))\n);\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { operations } from \"wiplib\";\n\nconst { mirror } = operations;\n\nclass HorizontalMirrorMenuItem extends React.Component {\n  currentImageHorizontalMirror = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else {\n      appStore.addImage(\n        mirror.horizontal(appStore.imagesInfos[index].imageBuffer)\n      );\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.currentImageHorizontalMirror}>\n          Horizontal Mirror\n        </MenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(HorizontalMirrorMenuItem))\n);\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { operations } from \"wiplib\";\n\nconst { imageTranspose } = operations;\n\nclass ImageTransposeMenuItem extends React.Component {\n  transposeImage = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else {\n      appStore.addImage(\n        imageTranspose(appStore.imagesInfos[index].imageBuffer)\n      );\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.transposeImage}>Image Transpose</MenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(ImageTransposeMenuItem))\n);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { isInRange } from \"../../../lib/Checks\";\nimport { operations } from \"wiplib\";\n\nconst { imageResampling } = operations;\n\nconst styles = {\n  inputsContainer: {\n    flexWrap: \"wrap\",\n    margin: \"1rem\"\n  },\n  input: {\n    margin: \"1rem\"\n  }\n};\n\n/**\n * Dialog to prompt the user for the pixel block width and height\n * on the resample operation\n */\nclass ImageResampleDialog extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired\n  };\n\n  state = {\n    blockWidth: 1,\n    blockWidthErrorMessage: \"\",\n    blockHeight: 1,\n    blockHeightErrorMessage: \"\"\n  };\n\n  /** General listener for a change on the block width or height inputs */\n  onChange = (\n    e,\n    valueStateName,\n    errorMessageStateName,\n    minPossibleValue,\n    maxPossibleValue\n  ) => {\n    const value = Number.parseFloat(e.target.value);\n\n    if (!isInRange(value, minPossibleValue, maxPossibleValue + 1)) {\n      this.setState({\n        [valueStateName]: e.target.value,\n        [errorMessageStateName]: `Required a number between ${minPossibleValue} and ${maxPossibleValue}`\n      });\n    } else {\n      this.setState({\n        [valueStateName]: value,\n        [errorMessageStateName]: \"\"\n      });\n    }\n  };\n\n  /** Listener for when the user changes the block width input value */\n  onBlockWidthChange = e => {\n    const { index } = this.props.appStore.selectedGridItem;\n    const { imageBuffer } = this.props.appStore.imagesInfos[index];\n    this.onChange(\n      e,\n      \"blockWidth\",\n      \"blockWidthErrorMessage\",\n      1,\n      imageBuffer.width\n    );\n  };\n\n  /** Listener for when the user changes the block height input value */\n  onBlockHeightChange = e => {\n    const { index } = this.props.appStore.selectedGridItem;\n    const { imageBuffer } = this.props.appStore.imagesInfos[index];\n    this.onChange(\n      e,\n      \"blockHeight\",\n      \"blockHeightErrorMessage\",\n      1,\n      imageBuffer.height\n    );\n  };\n\n  onSubmit = () => {\n    const { blockWidth, blockHeight } = this.state;\n    const { appStore } = this.props;\n    const { index } = appStore.selectedGridItem;\n\n    appStore.addImage(\n      imageResampling(\n        appStore.imagesInfos[index].imageBuffer,\n        blockWidth,\n        blockHeight\n      )\n    );\n    this.props.onClose();\n  };\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.isOpen}\n        onClose={this.props.onClose}\n        scroll=\"body\"\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Image Resample</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please, enter the pixels block width and height\n          </DialogContentText>\n          <div className=\"center\" style={styles.inputsContainer}>\n            <TextField\n              error={!!this.state.blockWidthErrorMessage}\n              label={this.state.blockWidthErrorMessage}\n              type=\"number\"\n              placeholder={String(this.state.blockWidth)}\n              value={this.state.blockWidth}\n              onChange={this.onBlockWidthChange}\n              margin=\"dense\"\n              style={styles.input}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">Width: </InputAdornment>\n                )\n              }}\n            />\n            <TextField\n              error={!!this.state.blockHeightErrorMessage}\n              label={this.state.blockHeightErrorMessage}\n              type=\"number\"\n              placeholder={String(this.state.blockHeight)}\n              value={this.state.blockHeight}\n              onChange={this.onBlockHeightChange}\n              margin=\"dense\"\n              style={styles.input}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">Height: </InputAdornment>\n                )\n              }}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.props.onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.onSubmit} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withSnackbar(inject(\"appStore\")(observer(ImageResampleDialog)));\n","import React from \"react\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ImageResampleDialog from \"./ImageResampleDialog\";\n\nclass ImageResampleMenuItem extends React.Component {\n  state = {\n    isDialogOpen: false\n  };\n\n  openDialog = () => {\n    const { appStore, enqueueSnackbar } = this.props;\n    const { type, index } = appStore.selectedGridItem;\n    if (type !== \"image\" || index < 0) {\n      enqueueSnackbar(\"You first need to select an image\", {\n        variant: \"warning\"\n      });\n    } else {\n      this.setState({ isDialogOpen: true });\n    }\n  };\n\n  closeDialog = () => this.setState({ isDialogOpen: false });\n\n  render() {\n    return (\n      <React.Fragment>\n        <MenuItem onClick={this.openDialog}>Image Resample</MenuItem>\n        <ImageResampleDialog\n          isOpen={this.state.isDialogOpen}\n          onClose={this.closeDialog}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withSnackbar(\n  inject(\"appStore\")(observer(ImageResampleMenuItem))\n);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport ImageRotationMenuItem from \"../../ImageProcessingUi/ImageRotationMenuItem\";\nimport ImageResizeMenuItem from \"../../ImageProcessingUi/ImageResizeMenuItem\";\nimport VerticalMirrorMenuItem from \"../../ImageProcessingUi/VerticalMirrorMenuItem\";\nimport HorizontalMirrorMenuItem from \"../../ImageProcessingUi/HorizontalMirrorMenuItem\";\nimport ImageTransposeMenuItem from \"../../ImageProcessingUi/ImageTransposeMenuItem\";\nimport ImageResampleMenuItem from \"../../ImageProcessingUi/ImageResampleMenuItem\";\n\n/**\n * \"Geometric Operations\" Appbar Dropdown menu. Contains all the geometric operations\n * options that the user can choose\n */\nexport default class GeometricOperationsSubmenu extends React.Component {\n  state = {\n    open: false\n  };\n\n  handleToggle = () => {\n    this.setState(state => ({ open: !state.open }));\n  };\n\n  handleClose = event => {\n    if (this.anchorEl.contains(event.target)) {\n      return;\n    }\n    this.setState({ open: false });\n  };\n\n  render() {\n    return (\n      <div>\n        <Button\n          buttonRef={node => {\n            this.anchorEl = node;\n          }}\n          aria-owns={this.state.open ? \"file-menu-list-grow\" : undefined}\n          aria-haspopup=\"true\"\n          onClick={this.handleToggle}\n          color=\"inherit\"\n        >\n          Geometric Operations\n        </Button>\n        <Popper\n          open={this.state.open}\n          style={this.state.open ? {} : { display: \"none\" }}\n          anchorEl={this.anchorEl}\n          transition\n          disablePortal\n        >\n          <Paper onClick={this.handleClose}>\n            <ClickAwayListener onClickAway={this.handleClose}>\n              <MenuList>\n                <ImageRotationMenuItem />\n                <ImageResizeMenuItem />\n                <VerticalMirrorMenuItem />\n                <HorizontalMirrorMenuItem />\n                <ImageTransposeMenuItem />\n                <ImageResampleMenuItem />\n              </MenuList>\n            </ClickAwayListener>\n          </Paper>\n        </Popper>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport CropSquareIcon from \"@material-ui/icons/CropSquare\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nclass SelectionToolbar extends React.Component {\n  render() {\n    const {\n      imageSelectionMehod,\n      updateImageSelectionMehod\n    } = this.props.appStore;\n\n    return (\n      <Toolbar\n        style={{\n          backgroundColor: \"white\",\n          color: \"#3f51b5\",\n          display: \"flex\",\n          zIndex: \"-1\"\n        }}\n      >\n        <Button\n          style={\n            imageSelectionMehod !== \"selection\"\n              ? { margin: \"0 0.5rem\" }\n              : {\n                  margin: \"0 0.5rem\",\n                  backgroundColor: \"#3f51b5\",\n                  color: \"white\"\n                }\n          }\n          onClick={() => updateImageSelectionMehod(\"selection\")}\n        >\n          <CropSquareIcon style={{ marginRight: \"0.5rem\" }} />\n          Select\n        </Button>\n        <Button\n          style={\n            imageSelectionMehod !== \"line\"\n              ? { margin: \"0 0.5rem\" }\n              : {\n                  margin: \"0 0.5rem\",\n                  backgroundColor: \"#3f51b5\",\n                  color: \"white\"\n                }\n          }\n          onClick={() => updateImageSelectionMehod(\"line\")}\n        >\n          <EditIcon style={{ marginRight: \"0.5rem\" }} />\n          Line\n        </Button>\n      </Toolbar>\n    );\n  }\n}\n\nexport default inject(\"appStore\")(observer(SelectionToolbar));\n","import React from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport FileSubmenu from \"./Submenus/FileSubmenu\";\nimport ImageSubmenu from \"./Submenus/ImageSubmenu\";\nimport PointOperationsSubmenu from \"./Submenus/PointOperationsSubmenu\";\nimport GeometricOperationsSubmenu from \"./Submenus/GeometricOperationsSubmenu\";\nimport SelectionToolbar from \"./SelectionToolbar\";\n\nconst AppToolbar = () => (\n  <AppBar position=\"static\">\n    <Toolbar>\n      <FileSubmenu />\n      <ImageSubmenu />\n      <PointOperationsSubmenu />\n      <GeometricOperationsSubmenu />\n    </Toolbar>\n    <SelectionToolbar />\n  </AppBar>\n);\n\nexport default AppToolbar;\n\n//                 <a className=\"navbar-item\" href=\"https://github.com/carlosdg/ImageProcessor.git\">\n//                     <img alt=\"logo\" src=\"https://i.imgur.com/DckFstm.png\" height=\"50\"/>\n//                 </a>\n","import React from \"react\";\nimport { calculateRect } from \"../../lib/coordinates\";\n\nconst SelectionOverlay = ({ originCoords, endCoords }) => {\n  const position = calculateRect(originCoords, endCoords);\n\n  return (\n    <div\n      style={{\n        width: `${position.right - position.left}px`,\n        height: `${position.bottom - position.top}px`,\n        position: \"absolute\",\n        top: position.top + \"px\",\n        left: position.left + \"px\",\n        right: position.right + \"px\",\n        bottom: position.bottom + \"px\",\n        backgroundColor: \"#99ccff\",\n        border: \"1px solid #0000DD\",\n        opacity: \"0.3\"\n      }}\n    />\n  );\n};\n\nexport default SelectionOverlay;\n","import React from \"react\";\n\n/**\n * Line to show when the user is dragging the mouse over a canvas to\n * select a profile of the image\n */\nconst LineOverlay = ({ originCoords, endCoords }) => (\n  <svg\n    style={{\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0\n    }}\n    height=\"100%\"\n    width=\"100%\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <line\n      stroke=\"#000\"\n      strokeWidth=\"2\"\n      x1={originCoords.x}\n      y1={originCoords.y}\n      x2={endCoords.x}\n      y2={endCoords.y}\n    />\n  </svg>\n);\nexport default LineOverlay;\n","import React, { Component } from \"react\";\nimport \"react-vis/dist/style.css\";\nimport {\n  FlexibleXYPlot,\n  XAxis,\n  YAxis,\n  VerticalGridLines,\n  HorizontalGridLines,\n  LineSeries,\n  Hint\n} from \"react-vis\";\n\nclass ProfileComponent extends Component {\n  state = {\n    emphasizedValue: null,\n    profileVisualizationData: [],\n    channel: this.props.channel\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    if (state.channel && props.channel !== state.channel) {\n      return {\n        emphasizedValue: null,\n        profileVisualizationData: props.profileValues.map(\n          (value, index) => ({x: index, y: value })\n        ),\n        channel: props.channel\n      }\n    }\n    return null;\n  }\n\n  componentDidMount() {\n    this.setState({\n      profileVisualizationData: this.props.profileValues.map(\n        (value, index) => ({x: index, y: value })\n      )\n    });\n  }\n\n  render() {\n    return (\n      <FlexibleXYPlot\n        margin={{\n          top: 50,\n          left: 70\n        }}\n        onMouseLeave={() => this.setState({ emphasizedValue: null })}\n      >\n        <VerticalGridLines />\n        <HorizontalGridLines />\n        <XAxis />\n        <YAxis />\n        <LineSeries\n          onNearestX={value => this.setState({ emphasizedValue: value })}\n          data={this.state.profileVisualizationData}\n          color={this.state.channel}\n        />\n        {this.state.emphasizedValue ? (\n          <Hint\n            value={this.state.emphasizedValue}\n            align={{ horizontal: \"auto\", vertical: \"top\" }}\n            style={{ fontSize: 14 }}\n            format={dataPoint => {\n              return [\n                {\n                  title: \"Pixel: \" + dataPoint.x,\n                  value: \"Value: \" + dataPoint.y\n                }\n              ];\n            }}\n          />\n        ) : null}\n      </FlexibleXYPlot>\n    );\n  }\n}\n\nexport default ProfileComponent;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ProfileComponent from \"../ProfileComponent\";\n\n\nexport default class ProfilesComponent extends React.Component {\n  state = {\n    currentTab: 0,\n    currentChannel: Object.keys(this.props.info.profileValues)[0]\n  };\n\n  updateCurrentTab = (_, newTab) => this.setState({ currentTab: newTab });\n  updateCurrentChannel = (_, newChannel) => this.setState({ currentChannel: newChannel });\n\n  render() {\n    const { currentTab, currentChannel } = this.state;\n    const { profileValues, firstDerivativeProfileValues } = this.props.info;\n\n    return (\n      <React.Fragment>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\"\n          }}\n        >\n          <Button\n            style={\n              currentTab === 0\n                ? {\n                    boxShadow: \"0px 4px 6px -5px black\"\n                  }\n                : {}\n            }\n            onClick={e => this.updateCurrentTab(e, 0)}\n          >\n            Profile\n          </Button>\n          <Button\n            style={\n              currentTab === 1\n                ? {\n                    boxShadow: \"0px 4px 6px -5px black\"\n                  }\n                : {}\n            }\n            onClick={e => this.updateCurrentTab(e, 1)}\n          >\n            First Derivative\n          </Button>\n        </div>\n        <div\n          style={{\n            padding: \"10px 0px 0px 0px\",\n            display: \"flex\",\n            justifyContent: \"center\"\n          }}\n        >\n          {\n            Object.keys(profileValues).map( key => {\n              return (\n                <Button\n                  style={\n                    currentChannel === key\n                      ? {\n                          boxShadow: `0px 4px 6px -5px ${key}`\n                        }\n                      : {}\n                  }\n                  onClick={e => this.updateCurrentChannel(e, key)}\n                  key={key}\n                >\n                  {key}\n                </Button>\n              );\n            })\n          }\n        </div>\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            maxHeight: \"80%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          }}\n        >\n          {currentTab === 0 && (\n            <ProfileComponent\n                profileValues={profileValues[currentChannel]}\n                channel={currentChannel}\n            />\n          )}\n          {currentTab === 1 && (\n            <ProfileComponent\n                profileValues={firstDerivativeProfileValues[currentChannel]}\n                channel={currentChannel}\n            />\n          )}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport InteractiveGrid from \"../InteractiveGrid\";\nimport ImageComponent from \"../ImageComponent\";\nimport HistogramAndInfoComponent from \"../HistogramAndInfoComponent\";\nimport AppToolbar from \"../Toolbar\";\nimport \"./App.css\";\nimport { withSnackbar } from \"notistack\";\nimport { observer, inject } from \"mobx-react\";\nimport SelectionOverlay from \"../Overlays/SelectionOverlay\";\nimport LineOverlay from \"../Overlays/LineOverlay\";\nimport { calculateRect } from \"../../lib/coordinates\";\nimport ProfilesComponent from \"../ProfilesComponent\";\n\nclass App extends Component {\n  /** Callback that updates the pixel value and coordinates currently under the\n   * user's mouse */\n  onMouseMoveOverImage = (pixelCoords, pixelValue) => {\n    this.props.appStore.setCurrentPixel(pixelCoords, pixelValue);\n  };\n\n  /** Returns a callback that updates the region of the asked image info */\n  onImageRegionSelection = index => ({ mouseDownCoords, mouseUpCoords }) => {\n    const { top, left, right, bottom } = calculateRect(\n      mouseDownCoords,\n      mouseUpCoords\n    );\n\n    const newRegion = {\n      top,\n      left,\n      width: right - left,\n      height: bottom - top\n    };\n\n    if (newRegion.width !== 0 && newRegion.height !== 0) {\n      this.props.appStore.updateImageRegion(index, newRegion);\n    }\n  };\n\n  getImageOverlay = () => {\n    switch (this.props.appStore.imageSelectionMehod) {\n      case \"selection\":\n        return ({ originCoords, endCoords }) => (\n          <SelectionOverlay originCoords={originCoords} endCoords={endCoords} />\n        );\n      case \"line\":\n        return ({ originCoords, endCoords }) => (\n          <LineOverlay originCoords={originCoords} endCoords={endCoords} />\n        );\n      default:\n        throw new Error(\n          `Invalid option ${this.props.appStore.imageSelectionMehod}`\n        );\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"app-container\">\n          <AppToolbar />\n          <main className=\"main\">\n            <div className=\"main__wrapper\">{this.getGridComponent()}</div>\n          </main>\n          <footer className=\"footer\">\n            {this.getDisplayForImageDimensions()}\n            {this.getDisplayForPixelUnderMouse()}\n          </footer>\n        </div>\n      </div>\n    );\n  }\n\n  // Methods to keep the render method cleaner\n\n  getGridComponent() {\n    return (\n      <InteractiveGrid.Grid\n        layouts={this.props.appStore.gridLayouts}\n        onLayoutChange={this.props.appStore.updateLayout}\n      >\n        {this.props.appStore.imagesInfos.map((image, index) =>\n          this.getImageGridItem(image, index)\n        )}\n        {this.props.appStore.histogramInfos\n          .map((histogramInfo, index) =>\n            histogramInfo.visible\n              ? this.getHistogramGridItem(histogramInfo, index)\n              : null\n          )\n          .filter(element => element !== null)}\n        {this.props.appStore.profilesInfos.map((profile, index) =>\n          this.getProfileGridItem(profile, index)\n        )}\n      </InteractiveGrid.Grid>\n    );\n  }\n\n  getImageGridItem({ imageBuffer, key }, index) {\n    return (\n      <InteractiveGrid.Item\n        key={key}\n        id={index}\n        name={key}\n        onDelete={this.props.appStore.removeImageInfo}\n        onSelect={() => this.props.appStore.updateSelectedImageItem(index)}\n        isSelected={this.props.appStore.isGridItemSelected(\"image\", index)}\n      >\n        <div className=\"center\">\n          <div className=\"scrollable\">\n            <ImageComponent\n              rgbaImage={imageBuffer}\n              onMouseMove={this.onMouseMoveOverImage}\n              onSelection={this.onImageRegionSelection(index)}\n            >\n              {this.getImageOverlay()}\n            </ImageComponent>\n          </div>\n        </div>\n      </InteractiveGrid.Item>\n    );\n  }\n\n  getHistogramGridItem({ histogram, cHistogram, key }, index) {\n    return (\n      <InteractiveGrid.Item\n        key={key}\n        id={index}\n        name={key}\n        onDelete={this.props.appStore.hideHistogram}\n        onSelect={() => this.props.appStore.updateSelectedHistogramItem(index)}\n        isSelected={this.props.appStore.isGridItemSelected(\"histogram\", index)}\n      >\n        <HistogramAndInfoComponent\n          histogram={histogram}\n          cHistogram={cHistogram}\n        />\n      </InteractiveGrid.Item>\n    );\n  }\n\n  getProfileGridItem(profileInfo, index) {\n    return (\n      <InteractiveGrid.Item\n        key={profileInfo.key}\n        id={index}\n        name={profileInfo.key}\n        onDelete={this.props.appStore.removeProfile}\n        onSelect={() => this.props.appStore.updateSelectedProfileItem(index)}\n        isSelected={this.props.appStore.isGridItemSelected(\"line\", index)}\n      >\n        <ProfilesComponent info={profileInfo} />\n      </InteractiveGrid.Item>\n    );\n  }\n\n  getDisplayForImageDimensions() {\n    const {\n      pixelValue,\n      selectedGridItem,\n      imagesInfos,\n      imageSelectionMehod\n    } = this.props.appStore;\n    const { type, index } = selectedGridItem;\n\n    if (type !== \"image\" || !imagesInfos[index]) return;\n\n    const currentPixelRgbaValue = `rgba(${pixelValue.join(\", \")})`;\n    const sizeText =\n      imageSelectionMehod === \"selection\"\n        ? \"width: \" +\n          imagesInfos[index].region.width +\n          \", height: \" +\n          imagesInfos[index].region.height\n        : \"width: \" +\n          imagesInfos[index].imageBuffer.width +\n          \", height: \" +\n          imagesInfos[index].imageBuffer.height;\n\n    return (\n      <div\n        style={{\n          display: \"inline-block\",\n          margin: \"0.5rem\",\n          padding: \"0.5rem\",\n          borderRadius: \"5px\",\n          border: `1px solid ${currentPixelRgbaValue}`,\n          boxShadow: `0 3px 10px -3px ${currentPixelRgbaValue}`\n        }}\n      >\n        {sizeText}\n      </div>\n    );\n  }\n\n  getDisplayForPixelUnderMouse() {\n    const { pixelValue, pixelCoords } = this.props.appStore;\n\n    const currentPixelRgbaValue = `rgba(${pixelValue.join(\", \")})`;\n    return (\n      <div\n        style={{\n          display: \"inline-block\",\n          margin: \"0.5rem\",\n          padding: \"0.5rem\",\n          borderRadius: \"5px\",\n          border: `1px solid ${currentPixelRgbaValue}`,\n          boxShadow: `0 3px 10px -3px ${currentPixelRgbaValue}`\n        }}\n      >\n        x: {pixelCoords.x}, y: {pixelCoords.y},\n        <span\n          style={{\n            display: \"inline-block\",\n            width: \"0.5rem\",\n            height: \"0.5rem\",\n            margin: \"0 0.5rem\",\n            backgroundColor: currentPixelRgbaValue,\n            border: \"1px solid black\",\n            borderRadius: \"2px\"\n          }}\n        />\n        {currentPixelRgbaValue}\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(inject(\"appStore\")(observer(App)));\n","import GRID_PROPERTIES from \"./gridProperties\";\n\n/**\n * Returns an emoty object of layouts for different viewport sizes, as defined\n * in GRID_PROPERTIES.\n */\nconst createNewSetOfLayouts = () => {\n  const layouts = {};\n\n  Object.keys(GRID_PROPERTIES.GRID_COLUMNS).forEach(\n    layoutName => (layouts[layoutName] = [])\n  );\n\n  return layouts;\n};\n\n/**\n * Returns an object defining the default information for being part of a grid\n * layout\n */\nconst createNewElementLayoutInfo = id => ({\n  i: id,\n  x: 0,\n  y: Infinity,\n  w: GRID_PROPERTIES.DEFAULT_GRID_ITEM_COLS,\n  h: GRID_PROPERTIES.DEFAULT_GRID_ITEM_ROWS,\n  minW: GRID_PROPERTIES.DEFAULT_GRID_ITEM_COLS,\n  minH: GRID_PROPERTIES.DEFAULT_GRID_ITEM_ROWS\n});\n\n/**\n * Returns a new set set of layouts resulting from adding a default layout\n * information for the new elements with the given IDs\n *\n * @param {Object} currentLayouts Layouts object to where the new element\n * information is going to be added\n * @param {Array<String | number>} newElementsIds IDs of the elements to add to\n * the layout\n */\nconst addNewElementsToLayouts = (currentLayouts, newElementsIds) => {\n  const newElementsLayoutInfos = newElementsIds.map(createNewElementLayoutInfo);\n  const newLayouts = createNewSetOfLayouts();\n\n  Object.keys(currentLayouts).forEach(layoutName => {\n    newLayouts[layoutName] = currentLayouts[layoutName].concat(\n      newElementsLayoutInfos\n    );\n  });\n\n  return newLayouts;\n};\n\n/**\n * Returns a new set of layouts without the elements with the given IDs\n *\n * @param {Object} currentLayouts Layouts object\n * @param {Array<String | number>} ids IDs of the elements to remove\n */\nconst removeElementsFromLayout = (currentLayouts, ids) => {\n  const newLayouts = {};\n\n  Object.keys(currentLayouts).forEach(layoutName => {\n    newLayouts[layoutName] = currentLayouts[layoutName].filter(\n      ({ i }) => !ids.includes(i)\n    );\n  });\n\n  return newLayouts;\n};\n\nexport {\n  createNewSetOfLayouts,\n  addNewElementsToLayouts,\n  removeElementsFromLayout\n};\n","import { observable, action, decorate } from \"mobx\";\nimport { Histogram } from \"wiplib\";\nimport { CumulativeHistogram } from \"wiplib\";\nimport * as GridLayoutHelper from \"../lib/grid/calculateLayout\";\n\nclass AppStoreSingleton {\n  /** All the information relative to the images loaded */\n  imagesInfos = [];\n  /** All the information relative to the histograms of each image */\n  histogramInfos = [];\n  /** All the information relative to the profiles  */\n  profilesInfos = [];\n  /** Grid layouts for the elements on screen */\n  gridLayouts = GridLayoutHelper.createNewSetOfLayouts();\n  /** Indicates the current method for selecting a part of the image */\n  imageSelectionMehod = \"selection\";\n  /** Information of the current grid item being selected (item type & index) */\n  selectedGridItem = { type: \"\", index: -1 };\n  /** Coordenates of the pixel that was last being pointed by the mouse */\n  pixelCoords = { x: 0, y: 0 };\n  /** Value of the pixel that was last being pointed by the mouse */\n  pixelValue = [0, 0, 0, 255];\n  /** Amount of removed images, needed for proper indexing images on the grid */\n  _removedImagesCount = 0;\n  /** Amount of added profiles, needed for proper indexing profiles on the grid */\n  _profilesCount = 0;\n\n  addImage = imageBuffer => {\n    const imageSection = {\n      top: 0,\n      left: 0,\n      width: imageBuffer.width,\n      height: imageBuffer.height\n    };\n    const histogram = new Histogram(imageBuffer);\n    const cHistogram = new CumulativeHistogram(histogram.histogramValues);\n    const imageKey = `Image ${this.imagesInfos.length +\n      this._removedImagesCount}`;\n    const histogramKey = `Histogram ${this.histogramInfos.length +\n      this._removedImagesCount}`;\n\n    this.imagesInfos.push({ key: imageKey, imageBuffer, region: imageSection });\n\n    this.histogramInfos.push({\n      key: histogramKey,\n      histogram,\n      cHistogram,\n      visible: false\n    });\n\n    this.gridLayouts = GridLayoutHelper.addNewElementsToLayouts(\n      this.gridLayouts,\n      [imageKey]\n    );\n  };\n\n  addProfile = (profileValues, firstDerivativeProfileValues) => {\n    const profileKey = `Profile ${this._profilesCount}`;\n    this._profilesCount = this._profilesCount + 1;\n\n    const firstDerivativeKey = \"First derivative of \" + profileKey;\n\n    this.profilesInfos.push({\n      key: profileKey,\n      profileValues,\n      firstDerivativeProfileValues\n    });\n\n    this.gridLayouts = GridLayoutHelper.addNewElementsToLayouts(\n      this.gridLayouts,\n      [profileKey, firstDerivativeKey]\n    );\n  };\n\n  removeImageInfo = index => {\n    const newLayouts = GridLayoutHelper.removeElementsFromLayout(\n      this.gridLayouts,\n      [this.histogramInfos[index].key, this.imagesInfos[index].key]\n    );\n    let newSelectedItem = { ...this.selectedGridItem };\n\n    // We are removing an element from an array, we have to update the\n    // selected item index if it is the element removed or after it\n    if (index <= newSelectedItem.index) {\n      newSelectedItem.index -= 1;\n      if (newSelectedItem.index < 0) {\n        newSelectedItem.type = \"\";\n      }\n    }\n\n    this.histogramInfos = this.histogramInfos.filter((_, i) => i !== index);\n    this.imagesInfos = this.imagesInfos.filter((_, i) => i !== index);\n    this.gridLayouts = newLayouts;\n    this.selectedGridItem = newSelectedItem;\n    this._removedImagesCount = this._removedImagesCount + 1;\n  };\n\n  updateImageRegion = (index, newRegion) =>\n    (this.imagesInfos[index].region = newRegion);\n\n  /** Hides the given histogram from the view */\n  hideHistogram = index => {\n    // Set the visibility to false, remove its layout information and resets the\n    // current selected item if it was the histogram to hide\n    this.histogramInfos[index].visible = false;\n    this.gridLayouts = GridLayoutHelper.removeElementsFromLayout(\n      this.gridLayouts,\n      [this.histogramInfos[index].key]\n    );\n    if (this.isGridItemSelected(\"histogram\", index)) {\n      this.selectedGridItem = { type: \"\", index: -1 };\n    }\n  };\n\n  removeProfile = index => {\n    const newLayouts = GridLayoutHelper.removeElementsFromLayout(\n      this.gridLayouts,\n      [this.profilesInfos[index].key]\n    );\n    let newSelectedItem = { ...this.selectedGridItem };\n\n    if (index <= newSelectedItem.index) {\n      newSelectedItem.index -= 1;\n      if (newSelectedItem.index < 0) {\n        newSelectedItem.type = \"\";\n      }\n    }\n\n    this.profilesInfos = this.profilesInfos.filter((_, i) => i !== index);\n    this.gridLayouts = newLayouts;\n    this.selectedGridItem = newSelectedItem;\n  };\n\n  showHistogramOfCurrentImage = () => {\n    const { type, index } = this.selectedGridItem;\n\n    if (type === \"image\") {\n      this.histogramInfos[index].visible = true;\n\n      this.gridLayouts = GridLayoutHelper.addNewElementsToLayouts(\n        this.gridLayouts,\n        [this.histogramInfos[index].key]\n      );\n    }\n  };\n\n  updateLayout = (_, newLayouts) =>\n    requestAnimationFrame(() => (this.gridLayouts = newLayouts));\n\n  updateSelectedImageItem = index =>\n    (this.selectedGridItem = { type: \"image\", index });\n\n  updateSelectedHistogramItem = index =>\n    (this.selectedGridItem = { type: \"histogram\", index });\n\n  updateSelectedProfileItem = index =>\n    (this.selectedGridItem = { type: \"line\", index });\n\n  setCurrentPixel = (coords, value) => {\n    this.pixelCoords = coords;\n    this.pixelValue = value;\n  };\n\n  updateImageSelectionMehod = newMethodType => {\n    this.imageSelectionMehod = newMethodType;\n  };\n\n  isGridItemSelected = (type, index) =>\n    this.selectedGridItem.index === index &&\n    this.selectedGridItem.type === type;\n}\n\ndecorate(AppStoreSingleton, {\n  imagesInfos: observable,\n  histogramInfos: observable,\n  profilesInfos: observable,\n  gridLayouts: observable,\n  imageSelectionMehod: observable,\n  selectedGridItem: observable,\n  pixelCoords: observable,\n  pixelValue: observable,\n  addImage: action,\n  addProfile: action,\n  removeImageInfo: action,\n  updateImageRegion: action,\n  hideHistogram: action,\n  removeProfile: action,\n  showHistogramOfCurrentImage: action,\n  updateLayout: action,\n  updateSelectedImageItem: action,\n  updateSelectedHistogramItem: action,\n  updateSelectedProfileItem: action,\n  setCurrentPixel: action,\n  updateImageSelectionMehod: action\n});\n\nexport default new AppStoreSingleton();\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\n\n// react-grid-layout CSS classes\nimport \"../node_modules/react-grid-layout/css/styles.css\";\nimport \"../node_modules/react-resizable/css/styles.css\";\n\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport { SnackbarProvider } from \"notistack\";\nimport Button from \"@material-ui/core/Button\";\nimport { Provider } from \"mobx-react\";\nimport appStore from \"./stores/appStore\";\n\n// Material UI color theme\nconst theme = createMuiTheme({\n  palette: {\n    common: { black: \"#000\", white: \"#fff\" },\n    background: { paper: \"#fff\", default: \"#fafafa\" },\n    primary: {\n      light: \"#7986cb\",\n      main: \"#3f51b5\",\n      dark: \"#303f9f\",\n      contrastText: \"#fff\"\n    },\n    secondary: {\n      light: \"#ff4081\",\n      main: \"#f50057\",\n      dark: \"#c51162\",\n      contrastText: \"#fff\"\n    },\n    error: {\n      light: \"#e57373\",\n      main: \"#f44336\",\n      dark: \"#d32f2f\",\n      contrastText: \"#fff\"\n    },\n    text: {\n      primary: \"rgba(0, 0, 0, 0.87)\",\n      secondary: \"rgba(0, 0, 0, 0.54)\",\n      disabled: \"rgba(0, 0, 0, 0.38)\",\n      hint: \"rgba(0, 0, 0, 0.38)\"\n    }\n  },\n  typography: {\n    useNextVariants: true\n  }\n});\n\nReactDOM.render(\n  <div>\n    <MuiThemeProvider theme={theme}>\n      <SnackbarProvider\n        maxSnack={5}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\"\n        }}\n        action={[\n          <Button color=\"inherit\" size=\"small\" key={Date.now()}>\n            Dismiss\n          </Button>\n        ]}\n      >\n        <Provider appStore={appStore}>\n          <App />\n        </Provider>\n      </SnackbarProvider>\n    </MuiThemeProvider>\n  </div>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}