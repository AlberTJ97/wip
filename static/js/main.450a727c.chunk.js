(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{219:function(e,t,a){e.exports=a(583)},232:function(e,t,a){},234:function(e,t,a){},564:function(e,t,a){},577:function(e,t,a){},583:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),i=a.n(o),s=a(38),l=a(9),c=a(14),m=a(13),u=a(11),h=a(12),g=a(98),p=a(131),d={GRID_COLUMNS:{lg:10,md:8,sm:6,xs:4,xxs:2},LAYOUT_BREAKPOINTS:{lg:1200,md:996,sm:768,xs:480,xxs:0},DEFAULT_GRID_ITEM_COLS:2,DEFAULT_GRID_ITEM_ROWS:4,GRID_ITEM_ROW_HEIGHT:50},f=Object(p.WidthProvider)(p.Responsive),b=function(e){var t=e.children,a=Object(g.a)(e,["children"]);return r.a.createElement(f,Object.assign({cols:d.GRID_COLUMNS,breakpoints:d.LAYOUT_BREAKPOINTS,rowHeight:d.GRID_ITEM_ROW_HEIGHT},a),t)};b.defaultProps=Object(s.a)({layouts:{}},f.defaultProps);var E=b,C=(a(232),function(e){var t=e.onDelete,a=Object(g.a)(e,["onDelete"]);return r.a.createElement("button",Object.assign({className:"DeleteButton",onClick:t,disabled:!t,"aria-label":"delete"},a),"\xd7")});C.defaultProps={onDelete:null};var v=C,y=(a(234),function(e){e.preventDefault(),e.stopPropagation()}),I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDraggable:!1},a.onDragHandleMouseDown=function(){return a.setState({isDraggable:!0})},a.onDragHandleMouseUp=function(){return a.state.isDraggable&&a.setState({isDraggable:!1})},a.onDragStart=function(e){a.state.isDraggable&&(y(e),a.props.onMouseDown&&a.props.onMouseDown(e))},a.onDragEnd=function(e){a.state.isDraggable&&(y(e),a.props.onMouseUp&&a.props.onMouseUp(e))},a.onDelete=function(){return a.props.onDelete(a.props.id)},a.onSelect=function(){return a.props.onSelect(a.props.id)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onDragHandleMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onDragHandleMouseUp)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.style,o=e.name,i=e.onSelect,s=e.onDelete,l=e.isSelected;return r.a.createElement("div",{className:"Item ".concat(a," ").concat(l&&"is-selected"),style:n,draggable:this.state.isDraggable,onDragStart:this.onDragStart,onMouseUp:this.onDragEnd,onFocus:i?this.onSelect:null,tabIndex:"0"},r.a.createElement("div",{onMouseDown:this.onDragHandleMouseDown,className:"Item__toolbar"},r.a.createElement(v,{onMouseDown:y,onDelete:s?this.onDelete:null}),r.a.createElement("span",{className:"Item__name"},o)),r.a.createElement("div",{className:"Item__childrenContainer"},t))}}]),t}(r.a.Component);I.defaultProps={name:"",onDelete:null,onSelect:null,onDeselect:null,isSelected:!1};var O={Grid:E,Item:I},w=function(e){var t=e.position;return r.a.createElement("div",{style:{width:"".concat(t.right-t.left,"px"),height:"".concat(t.bottom-t.top,"px"),position:"absolute",top:t.top+"px",left:t.left+"px",right:t.right+"px",bottom:t.bottom+"px",backgroundColor:"#99ccff",border:"1px solid #0000DD",opacity:"0.3"}})},D=function(){function e(t,a,n){var r=this;Object(l.a)(this,e),this.toImageData=function(){return e.toImageData(r)},this.copy=function(){return new e(r.width,r.height,new Uint8ClampedArray(r.pixels))},this.getPixel=function(t){var a=t.x,n=t.y;a=Math.max(0,Math.min(r.width-1,a)),n=Math.max(0,Math.min(r.height-1,n));var o=r._mapMatrixPositionToArray(a,n);return r.pixels.slice(o,o+e.NUM_CHANNELS)},this._mapMatrixPositionToArray=function(t,a){return(a*r.width+t)*e.NUM_CHANNELS},this._width=t,this._height=a,this._pixels=n}return Object(c.a)(e,null,[{key:"fromImageData",value:function(t){return new e(t.width,t.height,t.data)}},{key:"toImageData",value:function(e){var t=e.width,a=e.height,n=e.pixels,r=new ImageData(t,a);return r.data.set(n),r}}]),Object(c.a)(e,[{key:"pixels",get:function(){return this._pixels}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),e}();function x(e,t){return function(e,t){var a=t.top,n=t.left;return{x:e.clientX-Math.ceil(n),y:e.clientY-Math.ceil(a)}}(e,t.getBoundingClientRect())}D.NUM_CHANNELS=4;var S=function(e,t){return{left:Math.min(e.x,t.x),right:Math.max(e.x,t.x),top:Math.min(e.y,t.y),bottom:Math.max(e.y,t.y)}},j=function(e,t){return e.x===t.x||e.y===t.y},M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isImageLoading:!1,isMouseDown:!1,mouseDownOriginCoordinates:{x:-1,y:-1},currentMouseCoordinates:{x:-1,y:-1}},a.onMouseMove=function(e){if(a.props.onMouseMove&&!a.state.isImageLoading){var t=x(e,a.refs.canvas),n=a.props.rgbaImage.getPixel(t);a.state.isMouseDown&&a.setState({currentMouseCoordinates:t}),a.props.onMouseMove(t,n)}},a.onMouseDown=function(e){var t=x(e,a.refs.canvas);a.setState({mouseDownOriginCoordinates:t,isMouseDown:!0,currentMouseCoordinates:t})},a.onMouseUp=function(){var e=a.state,t=e.isMouseDown,n=e.mouseDownOriginCoordinates,r=e.currentMouseCoordinates;if(t)if(j(n,r)){a.setState({isMouseDown:!1,mouseDownOriginCoordinates:{x:-1,y:-1},currentMouseCoordinates:{x:-1,y:-1}});var o=a.props.rgbaImage,i=o.width,s=o.height;a.props.onSelection({top:0,left:0,width:i,height:s})}else{a.setState({isMouseDown:!1});var l=S(n,r),c=l.top,m=l.left,u=l.right,h=l.bottom;a.props.onSelection({top:c,left:m,width:u-m+1,height:h-c+1})}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.canvas,t=e.getContext("2d");e.width=this.props.rgbaImage.width,e.height=this.props.rgbaImage.height,t.putImageData(this.props.rgbaImage.toImageData(),0,0),this.setState({isImageLoading:!1})}},{key:"render",value:function(){var e=S(this.state.mouseDownOriginCoordinates,this.state.currentMouseCoordinates);return r.a.createElement("div",{style:{position:"relative"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove},r.a.createElement("canvas",{ref:"canvas",style:{display:"block",backgroundColor:"#eee",maxHeight:"100%"}}),r.a.createElement(w,{position:e}))}}]),t}(n.Component);M.defaultProps={onMouseMove:null};var k=M,N=(a(236),a(30)),A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={emphasizedValue:null,histogramVisualizationData:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({histogramVisualizationData:this.props.histogram.map(function(e,t){return{x0:t,x:t+1,y:e}})})}},{key:"render",value:function(){var e=this;return r.a.createElement(N.a,{margin:{top:50,left:70},onMouseLeave:function(){return e.setState({emphasizedValue:null})}},r.a.createElement(N.e,null),r.a.createElement(N.c,null),r.a.createElement(N.g,null),r.a.createElement(N.i,null),r.a.createElement(N.f,{onNearestX:function(t){return e.setState({emphasizedValue:t})},data:this.state.histogramVisualizationData}),this.state.emphasizedValue?r.a.createElement(N.b,{value:this.state.emphasizedValue,align:{horizontal:"auto",vertical:"top"},style:{fontSize:14},format:function(e){return[{title:"Value: "+e.x0,value:"Count: "+e.y}]}}):null)}}]),t}(n.Component),L=a(16),T=a.n(L),G=a(210),H=a.n(G),_=a(212),P=a.n(_),U=a(25),R=a.n(U),F=a(211),V=a.n(F),B=a(48),z=a.n(B),Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentTab:0},a.updateCurrentTab=function(e,t){return a.setState({currentTab:t})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.currentTab,a=this.props.histogram,n=a.histogramValues,o=a.histogramInfo,i=this.props.cHistogram.counts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(T.a,{style:0===t?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,0)}},"Hist."),r.a.createElement(T.a,{style:1===t?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,1)}},"Cumul."),r.a.createElement(T.a,{style:2===t?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,2)}},"Info.")),r.a.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"80%",display:"flex",justifyContent:"center",alignItems:"center"}},0===t&&r.a.createElement(A,{histogram:n}),1===t&&r.a.createElement(A,{histogram:i}),2===t&&r.a.createElement("div",{className:"scrollable",style:{maxWidth:"500px"}},r.a.createElement(H.a,null,r.a.createElement(V.a,null,r.a.createElement(z.a,null,r.a.createElement(R.a,null,"Variable"),r.a.createElement(R.a,{numeric:!0},"Value"))),r.a.createElement(P.a,null,r.a.createElement(z.a,null,r.a.createElement(R.a,null,"Count"),r.a.createElement(R.a,{numeric:!0},o.count)),r.a.createElement(z.a,null,r.a.createElement(R.a,null,"Brightness"),r.a.createElement(R.a,{numeric:!0},o.mean.toFixed(3))),r.a.createElement(z.a,null,r.a.createElement(R.a,null,"Contrast"),r.a.createElement(R.a,{numeric:!0},o.stdDev.toFixed(3))),r.a.createElement(z.a,null,r.a.createElement(R.a,null,"Minimum value"),r.a.createElement(R.a,{numeric:!0},o.minValue)),r.a.createElement(z.a,null,r.a.createElement(R.a,null,"Maximum value"),r.a.createElement(R.a,{numeric:!0},o.maxValue)),r.a.createElement(z.a,null,r.a.createElement(R.a,null,"Mode"),r.a.createElement(R.a,{numeric:!0},o.mode.value)),r.a.createElement(z.a,null,r.a.createElement(R.a,null,"Entropy"),r.a.createElement(R.a,{numeric:!0},o.entropy)))))))}}]),t}(r.a.Component),q=a(216),W=a.n(q),X=a(217),J=a.n(X),K=a(29),Q=a.n(K),Z=a(55),$=a.n(Z),ee=a(54),te=a.n(ee),ae=a(42),ne=a.n(ae),re=a(62),oe=a.n(re),ie=a(56),se=a.n(ie),le=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a.onFileInputted=function(e){a.props.onFileInput(e),a.refs.fileInputForm.reset()},a.onDownload=function(e){a.handleClose(e),a.props.onDownload()},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return r.a.createElement("div",null,r.a.createElement(T.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"File"),r.a.createElement(oe.a,{open:t,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var a=t.TransitionProps,n=t.placement;return r.a.createElement(te.a,Object.assign({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(ne.a,null,r.a.createElement($.a,{onClickAway:e.handleClose},r.a.createElement(se.a,null,r.a.createElement("label",{htmlFor:"image-input"},r.a.createElement(Q.a,{onClick:e.handleClose},"Open")),r.a.createElement(Q.a,{onClick:e.onDownload},"Download Selected")))))}),r.a.createElement("form",{ref:"fileInputForm"},r.a.createElement("input",{hidden:!0,id:"image-input",type:"file",accept:"image/*",name:"image-input",onChange:this.onFileInputted})))}}]),t}(r.a.Component),ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a.onShowHistogram=function(e){a.handleClose(e),a.props.onShowHistogram()},a.onCrop=function(e){a.handleClose(e),a.props.onCrop()},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return r.a.createElement("div",null,r.a.createElement(T.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Image"),r.a.createElement(oe.a,{open:t,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var a=t.TransitionProps,n=t.placement;return r.a.createElement(te.a,Object.assign({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(ne.a,null,r.a.createElement($.a,{onClickAway:e.handleClose},r.a.createElement(se.a,null,r.a.createElement(Q.a,{onClick:e.onShowHistogram},"Histogram"),r.a.createElement(Q.a,{onClick:e.onCrop},"Crop")))))}))}}]),t}(r.a.Component),me=a(28),ue=a(218),he=a(33),ge=a.n(he),pe=a(37),de=a.n(pe),fe=a(35),be=a.n(fe),Ee=a(36),Ce=a.n(Ee),ve=a(34),ye=a.n(ve),Ie=a(26),Oe=a.n(Ie),we=a(27),De=a.n(we),xe=a(213),Se=a.n(xe),je=a(214),Me=a.n(je),ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onYChange=function(e){var t=Number.parseFloat(e.target.value);a.props.onChange(Object(s.a)({},a.props.coordinate,{y:Number.isFinite(t)?t:""}))},a.onXChange=function(e){var t=Number.parseFloat(e.target.value);a.props.onChange(Object(s.a)({},a.props.coordinate,{x:Number.isFinite(t)?t:""}))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},r.a.createElement(Oe.a,{type:"number",placeholder:"0",value:this.props.coordinate.x,onChange:this.onXChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(De.a,{position:"start"},"x: ")}}),r.a.createElement(Oe.a,{type:"number",placeholder:"0",value:this.props.coordinate.y,onChange:this.onYChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(De.a,{position:"start"},"y: ")}}),r.a.createElement(Se.a,{"aria-label":"Delete",onClick:this.props.onDelete},r.a.createElement(Me.a,null)))}}]),t}(r.a.Component),Ne={center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"1rem",marginBottom:"1rem"}},Ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[{x:0,y:0},{x:255,y:255}]},a.onDataChange=function(e){return function(t){a.setState(function(a){return{data:a.data.map(function(a,n){return n===e?t:a})}})}},a.onDataDelete=function(e){return function(){a.setState(function(t){return{data:t.data.filter(function(t,a){return a!==e})}})}},a.addNewCoordinate=function(){var e=a.state.data.length<1?{x:0,y:0}:a.state.data.slice(-1)[0];a.setState(function(t){return{data:Object(ue.a)(t.data).concat([e])}})},a.onSubmit=function(){return a.props.onSubmit(a.state.data)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(ge.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(ye.a,{id:"form-dialog-title"},"Linear Sections"),r.a.createElement(be.a,null,r.a.createElement(Ce.a,null,"Please, enter the points to define the begin and end of each linear section"),r.a.createElement("div",{style:Ne.center},r.a.createElement(N.h,{width:300,height:300},r.a.createElement(N.c,null),r.a.createElement(N.d,{data:this.state.data,xDomain:[0,255],yDomain:[0,255]}),r.a.createElement(N.g,null),r.a.createElement(N.i,null))),r.a.createElement("div",{style:Ne.center},r.a.createElement(T.a,{onClick:this.addNewCoordinate,fullWidth:!0,variant:"contained",color:"primary"},"Add new coordinate")),r.a.createElement("div",null,this.state.data.map(function(t,a){return r.a.createElement(ke,{key:a,coordinate:t,onChange:e.onDataChange(a),onDelete:e.onDataDelete(a)})}))),r.a.createElement(de.a,null,r.a.createElement(T.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(T.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Le=function(e,t,a){return e>=t&&e<a},Te={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},Ge=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={brightness:0,brightnessErrorMessage:"",contrast:0,contrastErrorMessage:""},a.onChange=function(e,t,n,r,o){var i,s,l=Number.parseFloat(e.target.value);Le(l,r,o+1)?a.setState((i={},Object(me.a)(i,t,l),Object(me.a)(i,n,""),i)):a.setState((s={},Object(me.a)(s,t,e.target.value),Object(me.a)(s,n,"Required a number between ".concat(r," and ").concat(o)),s))},a.onBrightnessChange=function(e){return a.onChange(e,"brightness","brightnessErrorMessage",0,255)},a.onContrastChange=function(e){return a.onChange(e,"contrast","contrastErrorMessage",0,128)},a.onSubmit=function(){return a.props.onSubmit(a.state.brightness,a.state.contrast)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ge.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(ye.a,{id:"form-dialog-title"},"Brightness and Contrast Ajustment"),r.a.createElement(be.a,null,r.a.createElement(Ce.a,null,"Please, enter the brightness and contrast for the new image"),r.a.createElement("div",{className:"center",style:Te.inputsContainer},r.a.createElement(Oe.a,{error:!!this.state.brightnessErrorMessage,label:this.state.brightnessErrorMessage,type:"number",placeholder:"0",value:this.state.brightness,onChange:this.onBrightnessChange,margin:"dense",style:Te.input,InputProps:{startAdornment:r.a.createElement(De.a,{position:"start"},"Brightness: ")}}),r.a.createElement(Oe.a,{error:!!this.state.contrastErrorMessage,label:this.state.contrastErrorMessage,type:"number",placeholder:"0",value:this.state.contrast,onChange:this.onContrastChange,margin:"dense",style:Te.input,InputProps:{startAdornment:r.a.createElement(De.a,{position:"start"},"Contrast: ")}}))),r.a.createElement(de.a,null,r.a.createElement(T.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(T.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),He={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},_e=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={gamma:0,gammaErrorMessage:""},a.onChange=function(e,t,n,r){var o,i,s=Number.parseFloat(e.target.value);Le(s,0,Number.POSITIVE_INFINITY)?a.setState((o={},Object(me.a)(o,t,s),Object(me.a)(o,n,""),o)):a.setState((i={},Object(me.a)(i,t,e.target.value),Object(me.a)(i,n,r),i))},a.onGammaChange=function(e){return a.onChange(e,"gamma","gammaErrorMessage","Required a value equal or greater than 0")},a.onSubmit=function(){return a.props.onSubmit(a.state.gamma)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ge.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(ye.a,{id:"form-dialog-title"},"Gamma correction"),r.a.createElement(be.a,null,r.a.createElement(Ce.a,null,"Please, enter the gamma value for the new image"),r.a.createElement("div",{className:"center",style:He.inputsContainer},r.a.createElement(Oe.a,{error:!!this.state.gammaErrorMessage,label:this.state.gammaErrorMessage,type:"number",placeholder:"0",value:this.state.gamma,onChange:this.onGammaChange,margin:"dense",style:He.input,InputProps:{startAdornment:r.a.createElement(De.a,{position:"start"},"Gamma: ")}}))),r.a.createElement(de.a,null,r.a.createElement(T.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(T.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Pe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:""},a.onChange=function(e){return a.setState({imgName:e.target.value})},a.onSubmit=function(){return a.props.onSubmit(a.state.imgName)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ge.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(ye.a,{id:"form-dialog-title"},"Image Difference"),r.a.createElement(be.a,null,r.a.createElement(Ce.a,null,"Please, enter the image name of the other image to perform the difference to the current image"),r.a.createElement(Oe.a,{placeholder:"Image 0",value:this.state.imgName,onChange:this.onChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(De.a,{position:"start"},"Name: ")}})),r.a.createElement(de.a,null,r.a.createElement(T.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(T.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:""},a.onChange=function(e){return a.setState({imgName:e.target.value})},a.onSubmit=function(){return a.props.onSubmit(a.state.imgName)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ge.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(ye.a,{id:"form-dialog-title"},"Histogram Specificacion"),r.a.createElement(be.a,null,r.a.createElement(Ce.a,null,"Please, enter the image name of the image with the histogram to perform the histogram specification to the current image"),r.a.createElement(Oe.a,{placeholder:"Image 0",value:this.state.imgName,onChange:this.onChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(De.a,{position:"start"},"Name: ")}})),r.a.createElement(de.a,null,r.a.createElement(T.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(T.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Re=a(215),Fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:"",rgbaColor:{r:255,g:0,b:0},threshold:""},a.onImgNameChange=function(e){return a.setState({imgName:e.target.value})},a.onThresholdChange=function(e){var t=Number.parseFloat(e.target.value);a.setState({threshold:Number.isFinite(t)?t:""})},a.handleChangeComplete=function(e){return a.setState({rgbaColor:e.rgb})},a.onSubmit=function(){var e=a.state,t=e.imgName,n=e.rgbaColor,r=e.threshold;a.props.onSubmit({imgName:t,rgbaColor:n,threshold:""===r?0:r})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ge.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(ye.a,{id:"form-dialog-title"},"Changes Detection"),r.a.createElement(be.a,null,r.a.createElement(Ce.a,null,"Please, enter the image name of the other image to detect the changes between them. Also enter the color which will be used to highlight the differences and the difference threshold, value that will determine what is considered a difference and what not"),r.a.createElement("div",{className:"center",style:{justifyContent:"space-around"}},r.a.createElement(Oe.a,{placeholder:"Image 0",value:this.state.imgName,onChange:this.onImgNameChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(De.a,{position:"start"},"Name: ")}}),r.a.createElement(Oe.a,{placeholder:"0",type:"number",value:this.state.threshold,onChange:this.onThresholdChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(De.a,{position:"start"},"Threshold: ")}})),r.a.createElement("div",{className:"center",style:{marginTop:"1rem"}},r.a.createElement(Re.ChromePicker,{color:this.state.rgbaColor,onChangeComplete:this.handleChangeComplete}))),r.a.createElement(de.a,null,r.a.createElement(T.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(T.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,isLinearTransformDialogOpen:!1,isLightnessAndContrastDialogOpen:!1,isGammaCorrectionDialogOpen:!1,isImageDifferenceDialogOpen:!1,isHistogramSpecificationDialogOpen:!1,isChangesDetectionDialogOpen:!1},a.handleDialogOpen=function(e){return function(){return a.setState(Object(me.a)({open:!1},e,!0))}},a.handleDialogClose=function(e){return function(){return a.setState(Object(me.a)({},e,!1))}},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"file-menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Point Operations"),r.a.createElement(oe.a,{open:this.state.open,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var a=t.TransitionProps,n=t.placement;return r.a.createElement(te.a,Object.assign({},a,{id:"file-menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(ne.a,{onClick:e.handleClose},r.a.createElement($.a,{onClickAway:e.handleClose},r.a.createElement(se.a,null,r.a.createElement(Q.a,{onClick:e.props.onGrayscale},"To Grayscale"),r.a.createElement(Q.a,{onClick:e.handleDialogOpen("isLinearTransformDialogOpen")},"Linear Transformation"),r.a.createElement(Q.a,{onClick:e.handleDialogOpen("isLightnessAndContrastDialogOpen")},"Brightness and Contrast Adjustment"),r.a.createElement(Q.a,{onClick:e.handleDialogOpen("isGammaCorrectionDialogOpen")},"Gamma Correction"),r.a.createElement(Q.a,{onClick:e.handleDialogOpen("isImageDifferenceDialogOpen")},"Images Difference"),r.a.createElement(Q.a,{onClick:e.handleDialogOpen("isChangesDetectionDialogOpen")},"Changes Detection"),r.a.createElement(Q.a,{onClick:e.handleDialogOpen("isHistogramSpecificationDialogOpen")},"Histogram Specification"),r.a.createElement(Q.a,{onClick:e.props.histogramEqualization},"Histogram Equalization")))))}),r.a.createElement(Ae,{isOpen:this.state.isLinearTransformDialogOpen,onClose:this.handleDialogClose("isLinearTransformDialogOpen"),onSubmit:function(t){e.handleDialogClose("isLinearTransformDialogOpen")(),e.props.linearTransformation(t)}}),r.a.createElement(Ge,{isOpen:this.state.isLightnessAndContrastDialogOpen,onClose:this.handleDialogClose("isLightnessAndContrastDialogOpen"),onSubmit:function(t,a){e.handleDialogClose("isLightnessAndContrastDialogOpen")(),e.props.brightnessAndContrastAdjustment(t,a)}}),r.a.createElement(_e,{isOpen:this.state.isGammaCorrectionDialogOpen,onClose:this.handleDialogClose("isGammaCorrectionDialogOpen"),onSubmit:function(t){e.handleDialogClose("isGammaCorrectionDialogOpen")(),e.props.gammaCorrection(t)}}),r.a.createElement(Pe,{isOpen:this.state.isImageDifferenceDialogOpen,onClose:this.handleDialogClose("isImageDifferenceDialogOpen"),onSubmit:function(t){e.handleDialogClose("isImageDifferenceDialogOpen")(),e.props.imagesDifference(t)}}),r.a.createElement(Ue,{isOpen:this.state.isHistogramSpecificationDialogOpen,onClose:this.handleDialogClose("isHistogramSpecificationDialogOpen"),onSubmit:function(t){e.handleDialogClose("isHistogramSpecificationDialogOpen")(),e.props.histogramSpecification(t)}}),r.a.createElement(Fe,{isOpen:this.state.isChangesDetectionDialogOpen,onClose:this.handleDialogClose("isChangesDetectionDialogOpen"),onSubmit:function(t){e.handleDialogClose("isChangesDetectionDialogOpen")(),e.props.changesDetection(t)}}))}}]),t}(r.a.Component),Be=function(e){return r.a.createElement(W.a,{position:"static"},r.a.createElement(J.a,null,r.a.createElement(le,{onFileInput:e.onFileInput,onDownload:e.onDownload}),r.a.createElement(ce,{onShowHistogram:e.onShowHistogram,onCrop:e.onCrop}),r.a.createElement(Ve,{onGrayscale:e.onGrayscale,histogramEqualization:e.histogramEqualization,linearTransformation:e.linearTransformation,brightnessAndContrastAdjustment:e.brightnessAndContrastAdjustment,gammaCorrection:e.gammaCorrection,imagesDifference:e.imagesDifference,histogramSpecification:e.histogramSpecification,changesDetection:e.changesDetection})))},ze=function(){function e(t){Object(l.a)(this,e),this.setImagePixels(t.pixels)}return Object(c.a)(e,[{key:"setImagePixels",value:function(e){var t=this;this.histogramValues=new Array(256).fill(0);for(var a=0;a<e.length;a+=D.NUM_CHANNELS)this.histogramValues[e[a]]++;this.histogramInfo={},this.histogramInfo.count=this.histogramValues.reduce(function(e,t){return e+t},0),this.histogramInfo.mean=this.histogramValues.reduce(function(e,t,a){return e+t*a},0)/this.histogramInfo.count,this.histogramInfo.stdDev=Math.sqrt(this.histogramValues.reduce(function(e,a,n){return e+Math.pow(n-t.histogramInfo.mean,2)*a},0)/this.histogramInfo.count);for(var n=0;n<this.histogramValues.length;++n)if(0!==this.histogramValues[n]){this.histogramInfo.minValue=n;break}for(var r=this.histogramValues.length-1;r>=0;--r)if(0!==this.histogramValues[r]){this.histogramInfo.maxValue=r;break}var o=0,i=0;this.histogramValues.forEach(function(e,t){e>i&&(i=e,o=t)}),this.histogramInfo.mode={},this.histogramInfo.mode.value=o,this.histogramInfo.mode.count=i;for(var s,l=0,c=0;c<256;++c)(s=this.histogramValues[c]/this.histogramInfo.count)>0&&(l+=s*Math.log2(s));0!==l&&(l*=-1),this.histogramInfo.entropy=l.toFixed(3)}}]),e}(),Ye=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe,a=e.copy(),n=0;n<a.pixels.length;n+=D.NUM_CHANNELS){var r=t(e.pixels[n],e.pixels[n+1],e.pixels[n+2]);a.pixels[n]=r,a.pixels[n+1]=r,a.pixels[n+2]=r}return a},qe=function(e,t,a){return Math.round(.222*e+.707*t+.071*a)},We=function(e,t){for(var a=e.copy(),n=0;n<a.pixels.length;n+=D.NUM_CHANNELS){var r=t[a.pixels[n]];a.pixels[n]=r,a.pixels[n+1]=r,a.pixels[n+2]=r}return a},Xe=a(63),Je=(Object(Xe.a)(Error),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,"Error loading image with src = ".concat(e)))).name="ImageLoadException",a.src=e,a}return Object(h.a)(t,e),t}(Object(Xe.a)(Error))),Ke=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,a))).name=e,n}return Object(h.a)(t,e),t}(Object(Xe.a)(Error)),Qe=function(e,t){if(t.length<2)throw new Ke("LinearTransformationException","Linear transformation needs at least 2 points");for(var a=0;a<t.length-1;++a){if(t[a].x>t[a+1].x)throw new Ke("LinearTransformationException","Points must be ordered according to the x coordinate value");if(t[a].x===t[a+1].x)throw new Ke("LinearTransformationException","Different points should not have the same x coordinate value")}if(t[0].x>0)throw new Ke("LinearTransformationException","X coordinate value of the first point should be less or equal to 0");if(t[t.length-1].x<255)throw new Ke("LinearTransformationException","X coordinate value of the last point should be greater or equal to 255");for(var n=[],r=1;r<t.length;++r){var o={};o.slope=(t[r].y-t[r-1].y)/(t[r].x-t[r-1].x),o.yIntercept=t[r].y-o.slope*t[r].x,o.frontier=t[r].x,n.push(o)}for(var i=[],s=0,l=0;l<256;++l){l>n[s].frontier&&s++;var c=Math.round(n[s].slope*l+n[s].yIntercept);i.push(Math.min(Math.max(c,0),255))}return We(e,i)},Ze=function(e,t,a,n,r){for(var o=r/a,i=n-o*t,s=[],l=0;l<256;++l){var c=Math.round(o*l+i);s.push(Math.min(Math.max(c,0),255))}return We(e,s)},$e=function(e,t){if(t<0)throw new Ke("GammaCorrectionException","Invalid gamma value, gamma should be equal or greater than 0.");for(var a=[],n=0;n<256;++n)a[n]=255*Math.pow(n/255,t);return We(e,a)},et=function(e,t){if(e.height!==t.height||e.width!==t.width)throw new Ke("ImagesDifferenceException","Images should have the same width and height");for(var a=e.copy(),n=0;n<a.pixels.length;n+=D.NUM_CHANNELS){var r=Math.abs(a.pixels[n]-t.pixels[n]);a.pixels[n]=r,a.pixels[n+1]=r,a.pixels[n+2]=r}return a},tt=function(e,t,a,n){var r;try{r=et(e,t)}catch(s){throw"ImagesDifferenceException"===s.name?new Ke("ChangesDetectionException",s.message):s}for(var o=e.copy(),i=0;i<o.pixels.length;i+=D.NUM_CHANNELS)r.pixels[i]>a&&(o.pixels[i]=n.r,o.pixels[i+1]=n.g,o.pixels[i+2]=n.b);return o},at=function(e,t,a){for(var n=t.counts.map(function(e){return e/t.count}),r=a.counts.map(function(e){return e/a.count}),o=[],i=0;i<256;++i){for(var s=255;s>=0&&n[i]<=r[s];)s-=1;o.push(s)}return We(e,o)},nt=function(e,t){for(var a=t.count/256,n=[],r=0;r<256;++r)n.push(Math.max(0,Math.round(t.counts[r]/a)-1));return We(e,n)},rt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.top,n=void 0===a?0:a,r=t.left,o=void 0===r?0:r,i=t.height,s=void 0===i?e.height:i,l=t.width,c=void 0===l?e.width:l,m=new Uint8ClampedArray(s*c*D.NUM_CHANNELS),u=0,h=0;h<s;h+=1)for(var g=0;g<c;g+=1){var p=e.getPixel({x:o+g,y:n+h});m[u]=p[0],m[u+1]=p[1],m[u+2]=p[2],m[u+3]=p[3],u+=D.NUM_CHANNELS}return new D(c,s,m)};function ot(e){var t=URL.createObjectURL(e);return function(e){var t=new Image;return t.src=e,new Promise(function(a,n){t.onload=function(){return a(t)},t.onerror=function(){return n(new Je(e))}})}(t).finally(function(){return URL.revokeObjectURL(t)})}var it=function(){var e={};return Object.keys(d.GRID_COLUMNS).forEach(function(t){return e[t]=[]}),e},st=function(e){return{i:e,x:0,y:1/0,w:d.DEFAULT_GRID_ITEM_COLS,h:d.DEFAULT_GRID_ITEM_ROWS,minW:d.DEFAULT_GRID_ITEM_COLS,minH:d.DEFAULT_GRID_ITEM_ROWS}},lt=function(e,t){var a=t.map(st),n=it();return Object.keys(e).forEach(function(t){n[t]=e[t].concat(a)}),n},ct=function(e,t){var a={};return Object.keys(e).forEach(function(n){a[n]=e[n].filter(function(e){var a=e.i;return!t.includes(a)})}),a},mt=function e(t){Object(l.a)(this,e);var a=0;this.counts=t.map(function(e){return a+=e}),this.count=a},ut=(a(564),a(97)),ht=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imagesInfos:[],histogramInfos:[],gridLayouts:it(),selectedGridItem:{type:"",index:-1},pixelCoords:{x:0,y:0},pixelValue:[0,0,0,255],removedImagesCount:0},a.notify=function(e,t){a.props.enqueueSnackbar(t,{variant:e})},a.onMouseMoveOverImage=function(e,t){a.setState({pixelCoords:e,pixelValue:t})},a.onImageRegionSelection=function(e){return function(t){a.setState(function(a){return{imagesInfos:a.imagesInfos.map(function(a,n){return n===e?Object(s.a)({},a,{region:t}):a})}})}},a.addNewImage=function(e){var t={top:0,left:0,width:e.width,height:e.height},n=new ze(Ye(e)),r=new mt(n.histogramValues),o="Image ".concat(a.state.imagesInfos.length+a.state.removedImagesCount),i="Histogram ".concat(a.state.histogramInfos.length+a.state.removedImagesCount);a.setState(function(a){return{imagesInfos:a.imagesInfos.concat([{key:o,imageBuffer:e,region:t}]),histogramInfos:a.histogramInfos.concat([{key:i,histogram:n,cHistogram:r,visible:!1}]),gridLayouts:lt(a.gridLayouts,[o])}})},a.onNewImageFromFile=function(e){var t=e.target.files;1===t.length&&t[0]?ot(t[0]).then(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.naturalWidth,t.height=e.naturalHeight,n.drawImage(e,0,0);var r=n.getImageData(0,0,t.width,t.height),o=D.fromImageData(r);a.addNewImage(o)}).catch(function(){a.notify("error","Could not load image")}):a.notify("error","Error reading image file")},a.isGridItemSelected=function(e,t){return a.state.selectedGridItem.index===t&&a.state.selectedGridItem.type===e},a.onGridLayoutChange=function(e,t){return requestAnimationFrame(function(){return a.setState({gridLayouts:t})})},a.onGridItemSelection=function(e){return function(t){return a.setState({selectedGridItem:{type:e,index:t}})}},a.deleteAllImageRelatedInfo=function(e){a.setState(function(t){var a=ct(t.gridLayouts,[t.histogramInfos[e].key,t.imagesInfos[e].key]),n=Object(s.a)({},t.selectedGridItem);return e<=n.index&&(n.index-=1,n.index<0&&(n.type="")),{histogramInfos:t.histogramInfos.filter(function(t,a){return a!==e}),imagesInfos:t.imagesInfos.filter(function(t,a){return a!==e}),gridLayouts:a,selectedGridItem:n,removedImagesCount:t.removedImagesCount+1}})},a.hideHistogram=function(e){a.setState(function(t){return{histogramInfos:t.histogramInfos.map(function(t,a){return a===e?Object(s.a)({},t,{visible:!1}):Object(s.a)({},t)}),gridLayouts:ct(t.gridLayouts,[t.histogramInfos[e].key]),selectedGridItem:a.isGridItemSelected("histogram",e)?{type:"",index:-1}:t.selectedGridItem}})},a.showHistogramOfCurrentImage=function(){var e=a.state.selectedGridItem,t=e.type,n=e.index;"image"!==t||n<0?a.notify("warning","You first need to select an image"):a.setState(function(e){return{histogramInfos:e.histogramInfos.map(function(e,t){return t===n?Object(s.a)({},e,{visible:!0}):Object(s.a)({},e)}),gridLayouts:lt(e.gridLayouts,[e.histogramInfos[n].key])}})},a.downloadCurrentImage=function(){var e=a.state.selectedGridItem,t=e.type,n=e.index;if("image"!==t||n<0)a.notify("warning","You first need to select an image");else{var r=a.state.imagesInfos[n],o=r.region,i=o.left,s=o.top,l=o.width,c=o.height,m=r.imageBuffer.toImageData(),u=document.createElement("canvas"),h=u.getContext("2d");u.width=m.width,u.height=m.height,h.putImageData(m,0,0,i,s,l,c),u.toBlob(function(e){var t=URL.createObjectURL(e);a.refs.downloadAnchor.href=t,a.refs.downloadAnchor.click(),URL.revokeObjectURL(t)},null,1)}},a.currentImageToGrayscale=function(){var e=a.state.selectedGridItem,t=e.type,n=e.index;"image"!==t||n<0?a.notify("warning","You first need to select an image"):a.addNewImage(Ye(a.state.imagesInfos[n].imageBuffer))},a.currentImageLinearTransformation=function(e){var t=a.state.selectedGridItem,n=t.type,r=t.index;"image"!==n||r<0?a.notify("warning","You first need to select an image"):a.addNewImage(Qe(a.state.imagesInfos[r].imageBuffer,e))},a.currentImageBrightnessAndContrastAdjustment=function(e,t){var n=a.state.selectedGridItem,r=n.type,o=n.index;"image"!==r||o<0?a.notify("warning","You first need to select an image"):a.addNewImage(Ze(a.state.imagesInfos[o].imageBuffer,a.state.histogramInfos[o].histogram.histogramInfo.mean,a.state.histogramInfos[o].histogram.histogramInfo.stdDev,e,t))},a.currentImageGammaCorrection=function(e){var t=a.state.selectedGridItem,n=t.type,r=t.index;"image"!==n||r<0?a.notify("warning","You first need to select an image"):a.addNewImage($e(a.state.imagesInfos[r].imageBuffer,e))},a.applyImagesDifference=function(e){var t=a.state.selectedGridItem,n=t.type,r=t.index,o=a.state.imagesInfos.find(function(t){return t.key===e}),i=o&&o.imageBuffer;"image"!==n||r<0?a.notify("warning","You first need to select an image"):void 0===i?a.notify("error","Couldn't find an image with the selected name (".concat(e,")")):a.addNewImage(et(a.state.imagesInfos[r].imageBuffer,i))},a.applyChangesDetection=function(e){var t=e.imgName,n=e.rgbaColor,r=e.threshold,o=a.state.selectedGridItem,i=o.type,s=o.index,l=a.state.imagesInfos.find(function(e){return e.key===t}),c=l&&l.imageBuffer;"image"!==i||s<0?a.notify("warning","You first need to select an image"):void 0===c?a.notify("error","Couldn't find an image with the selected name (".concat(t,")")):a.addNewImage(tt(a.state.imagesInfos[s].imageBuffer,c,r,n))},a.applyHistogramSpecification=function(e){var t=a.state.selectedGridItem,n=t.type,r=t.index,o=a.state.imagesInfos.findIndex(function(t){return t.key===e});"image"!==n||r<0?a.notify("warning","You first need to select an image"):o<0||o>a.state.imagesInfos.length?a.notify("error","Couldn't find an image with the selected name (".concat(e,")")):a.addNewImage(at(a.state.imagesInfos[r].imageBuffer,a.state.histogramInfos[r].cHistogram,a.state.histogramInfos[o].cHistogram))},a.currentImageHistogramEqualization=function(){var e=a.state.selectedGridItem,t=e.type,n=e.index;"image"!==t||n<0?a.notify("warning","You first need to select an image"):a.addNewImage(nt(a.state.imagesInfos[n].imageBuffer,a.state.histogramInfos[n].cHistogram))},a.cropCurrentImage=function(){var e=a.state.selectedGridItem,t=e.type,n=e.index;"image"!==t||n<0?a.notify("warning","You first need to select an image"):a.addNewImage(rt(a.state.imagesInfos[n].imageBuffer,a.state.imagesInfos[n].region))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"app-container"},r.a.createElement(Be,{onFileInput:this.onNewImageFromFile,onShowHistogram:this.showHistogramOfCurrentImage,onDownload:this.downloadCurrentImage,onGrayscale:this.currentImageToGrayscale,linearTransformation:this.currentImageLinearTransformation,brightnessAndContrastAdjustment:this.currentImageBrightnessAndContrastAdjustment,gammaCorrection:this.currentImageGammaCorrection,imagesDifference:this.applyImagesDifference,changesDetection:this.applyChangesDetection,histogramSpecification:this.applyHistogramSpecification,histogramEqualization:this.currentImageHistogramEqualization,onCrop:this.cropCurrentImage}),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"main__wrapper"},this.getGridComponent())),r.a.createElement("footer",{className:"footer"},this.getDisplayForPixelUnderMouse())),r.a.createElement("div",null,r.a.createElement("a",{ref:"downloadAnchor",href:"#download",id:"download",hidden:!0,download:!0},"This should not be visible. It is only used when downloading images")))}},{key:"getGridComponent",value:function(){var e=this;return r.a.createElement(O.Grid,{layouts:this.state.gridLayouts,onLayoutChange:this.onGridLayoutChange},this.state.imagesInfos.map(function(t,a){return e.getImageGridItem(t,a)}),this.state.histogramInfos.map(function(t,a){return t.visible?e.getHistogramGridItem(t,a):null}).filter(function(e){return null!==e}))}},{key:"getImageGridItem",value:function(e,t){var a=e.imageBuffer,n=e.key;return r.a.createElement(O.Item,{key:n,id:t,name:n,onDelete:this.deleteAllImageRelatedInfo,onSelect:this.onGridItemSelection("image"),isSelected:this.isGridItemSelected("image",t)},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"scrollable"},r.a.createElement(k,{rgbaImage:a,onMouseMove:this.onMouseMoveOverImage,onSelection:this.onImageRegionSelection(t)}))))}},{key:"getHistogramGridItem",value:function(e,t){var a=e.histogram,n=e.cHistogram,o=e.key;return r.a.createElement(O.Item,{key:o,id:t,name:o,onDelete:this.hideHistogram,onSelect:this.onGridItemSelection("histogram"),isSelected:this.isGridItemSelected("histogram",t)},r.a.createElement(Y,{histogram:a,cHistogram:n}))}},{key:"getDisplayForPixelUnderMouse",value:function(){var e="rgba(".concat(this.state.pixelValue.join(", "),")");return r.a.createElement("div",{style:{display:"inline-block",margin:"0.5rem",padding:"0.5rem",borderRadius:"5px",border:"1px solid ".concat(e),boxShadow:"0 3px 10px -3px ".concat(e)}},"x: ",this.state.pixelCoords.x,", y: ",this.state.pixelCoords.y,",",r.a.createElement("span",{style:{display:"inline-block",width:"0.5rem",height:"0.5rem",margin:"0 0.5rem",backgroundColor:e,border:"1px solid black",borderRadius:"2px"}}),e)}}]),t}(n.Component),gt=Object(ut.withSnackbar)(ht),pt=(a(577),a(579),a(581),a(76)),dt=Object(pt.createMuiTheme)({palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"#7986cb",main:"#3f51b5",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}},typography:{useNextVariants:!0}});i.a.render(r.a.createElement("div",null,r.a.createElement(pt.MuiThemeProvider,{theme:dt},r.a.createElement(ut.SnackbarProvider,{maxSnack:5,anchorOrigin:{vertical:"top",horizontal:"right"},action:[r.a.createElement(T.a,{color:"inherit",size:"small",key:Date.now()},"Dismiss")]},r.a.createElement(gt,null)))),document.getElementById("root"))}},[[219,2,1]]]);
//# sourceMappingURL=main.450a727c.chunk.js.map