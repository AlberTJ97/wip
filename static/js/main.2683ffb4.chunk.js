(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RgbaImageBuffer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ImageInfo",{enumerable:!0,get:function(){return r.default}}),t.operations=t.exceptions=void 0;var a=l(n(40)),r=l(n(5557)),o=s(n(59));t.exceptions=o;var i=s(n(5559));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}t.operations=i},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imagesDifference=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a},o=n(59);t.imagesDifference=function(e,t){if(e.height!==t.height||e.width!==t.width)throw new o.ImageOperationException("ImagesDifferenceException","Images should have the same width and height");for(var n=e.copy(),a=0;a<n.pixels.length;a+=r.default.NUM_CHANNELS)n.pixels[a]=Math.abs(n.pixels[a]-t.pixels[a]),n.pixels[a+1]=Math.abs(n.pixels[a+1]-t.pixels[a+1]),n.pixels[a+2]=Math.abs(n.pixels[a+2]-t.pixels[a+2]);return n}},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGBToHSL=function(e){var t=e.r,n=e.g,a=e.b;t/=255,n/=255,a/=255;var r=Math.max(t,n,a),o=Math.min(t,n,a),i=r-o,s=(r+o)/2,l=s<Number.EPSILON||Math.abs(1-s)<Number.EPSILON?0:i/(1-Math.abs(2*s-1)),c=0;if(i>=Number.EPSILON)switch(r){case t:c=(n-a)/i%6;break;case n:c=(a-t)/i+2;break;case a:c=(t-n)/i+4}return{h:c*=60,s:l,l:s}},t.HSLToRGB=function(e){var t=e.h,n=e.s,a=e.l,r=[0,0,0],o=(1-Math.abs(2*a-1))*n,i=o*(1-Math.abs(t/60%2-1)),s=a-o/2;t<60?r=[o,i,0]:t<120?r=[i,o,0]:t<180?r=[0,o,i]:t<240?r=[0,i,o]:t<300?r=[i,0,o]:t<360&&(r=[o,0,i]);return{r:Math.round(255*(r[0]+s)),g:Math.round(255*(r[1]+s)),b:Math.round(255*(r[2]+s))}}},40:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(t,n,a){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"toImageData",function(){return e.toImageData(r)}),o(this,"copy",function(){return new e(r.width,r.height,new Uint8ClampedArray(r.pixels))}),o(this,"getPixel",function(e){var t=e.x,n=e.y;t=Math.max(0,Math.min(r.width-1,t)),n=Math.max(0,Math.min(r.height-1,n));var a=r._mapMatrixPositionToArray(t,n);return[r.pixels[a],r.pixels[a+1],r.pixels[a+2],r.pixels[a+3]]}),o(this,"_mapMatrixPositionToArray",function(t,n){return(n*r.width+t)*e.NUM_CHANNELS}),this._width=t,this._height=n,this._pixels=a}return r(e,null,[{key:"fromImageData",value:function(t){return new e(t.width,t.height,t.data)}},{key:"toImageData",value:function(e){var t=e.width,n=e.height,a=e.pixels,r=new ImageData(t,n);return r.data.set(a),r}}]),r(e,[{key:"pixels",get:function(){return this._pixels}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),e}();t.default=i,o(i,"NUM_CHANNELS",4)},5540:function(e,t,n){e.exports=n(5922)},5555:function(e,t,n){},5556:function(e,t,n){},5557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setDimensionsInfo(t),this.setHistograms(t),this.setCumulativeHistograms(this.histograms),this.setLimits(this.histograms),this.setModes(this.histograms),this.setEntropies(this.histograms,this.pixelCount),this.setBrightnesses(this.histograms,this.pixelCount),this.setContrasts(this.histograms,this.brightnesses,this.pixelCount)}var t,n,a;return t=e,(n=[{key:"setDimensionsInfo",value:function(e){var t=e.width,n=e.height;this.width=t,this.height=n,this.pixelCount=t*n}},{key:"setHistograms",value:function(e){var t=e.pixels;this.histograms=[],this.histograms.push(Array(256).fill(0)),this.histograms.push(Array(256).fill(0)),this.histograms.push(Array(256).fill(0));for(var n=0;n<t.length;n+=r.default.NUM_CHANNELS)this.histograms[0][t[n]]+=1,this.histograms[1][t[n+1]]+=1,this.histograms[2][t[n+2]]+=1}},{key:"setCumulativeHistograms",value:function(e){this.cumulativeHistograms=e.map(function(e){var t=0;return e.map(function(e){return t+=e})})}},{key:"setBrightnesses",value:function(e,t){var n=function(e,t,n){return e+t*n};this.brightnesses=e.map(function(e){return e.reduce(n,0)/t})}},{key:"setContrasts",value:function(e,t,n){this.contrasts=e.map(function(e,a){var r=e.reduce(function(e,n,r){return e+n*Math.pow(r-t[a],2)},0)/n;return Math.sqrt(r)})}},{key:"setLimits",value:function(e){var t=this;this.smallestNonZeroes=e.map(function(e){return e.findIndex(function(e){return e>0})}),this.largestNonZeroes=this.histograms.map(function(e,n){for(var a=t.smallestNonZeroes[n];a<e.length&&e[a]>0;)a+=1;return a-1})}},{key:"setModes",value:function(e){var t=this,n=function(e,t,n,a){return t>a[e]?n:e};this.modeIndexes=e.map(function(e){return e.reduce(n,0)}),this.modeValues=e.map(function(e,n){return e[t.modeIndexes[n]]})}},{key:"setEntropies",value:function(e,t){var n=function(e,n){var a=n/t;return a>0?e-a*Math.log2(a):e};this.entropies=e.map(function(e){return e.reduce(n,0)})}}])&&o(t.prototype,n),a&&o(t,a),e}();t.default=i},5558:function(e,t,n){"use strict";function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return i(e,arguments,l(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),s(a,e)})(e)}function i(e,t,n){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&s(r,n.prototype),r}).apply(null,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){function t(e,n){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=r(this,l(t).call(this,n))).name=e,a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o(Error)),t}();t.default=c},5559:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(5560);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=n(5561);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(5562);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(5563);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=n(5564);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var l=n(5565);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var c=n(5566);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var u=n(5567);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var p=n(5568);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})});var h=n(5569);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})});var d=n(188);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})});var m=n(5570);Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})});var g=n(5571);Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})});var f=n(5572);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})});var b=n(5573);Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})});var v=n(5574);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})});var y=n(64);Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}})});var O=n(5575);Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}})});var E=n(5576);Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}})});var C=n(5577);Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}})})},5560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.brightnessAndContrastAdjustment=function(e,t,n,r,o){var i=(0,a.createLookupTable)(function(e){var a=o[e]/n[e],i=r[e]-a*t[e];return function(e){var t=Math.round(a*e+i),n=Math.min(Math.max(t,0),255);return n}});return(0,a.applyLookupTable)(e,i)};var a=n(64)},5561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changesDetection=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a},o=n(59),i=n(188);t.changesDetection=function(e,t,n,a){var s;try{s=(0,i.imagesDifference)(e,t)}catch(u){throw"ImagesDifferenceException"===u.name?new o.ImageOperationException("ChangesDetectionException",u.message):u}for(var l=e.copy(),c=0;c<l.pixels.length;c+=r.default.NUM_CHANNELS)s.pixels[c]>n&&(l.pixels[c]=a.r,l.pixels[c+1]=a.g,l.pixels[c+2]=a.b);return l}},5562:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crop=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a};t.crop=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.top,a=void 0===n?0:n,o=t.left,i=void 0===o?0:o,s=t.height,l=void 0===s?e.height:s,c=t.width,u=void 0===c?e.width:c,p=new Uint8ClampedArray(l*u*r.default.NUM_CHANNELS),h=0,d=0;d<l;d+=1)for(var m=0;m<u;m+=1){var g=e.getPixel({x:i+m,y:a+d});p[h]=g[0],p[h+1]=g[1],p[h+2]=g[2],p[h+3]=g[3],h+=r.default.NUM_CHANNELS}return new r.default(u,l,p)}},5563:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gammaCorrection=function(e,t){if(t<0)throw new r.ImageOperationException("GammaCorrectionException","Invalid gamma value, gamma should be equal or greater than 0.");var n=(0,a.createLookupTable)(function(){return function(e){return 255*Math.pow(e/255,t)}});return(0,a.applyLookupTable)(e,n)};var a=n(64),r=n(59)},5564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grayscaleStrategies=t.imageToGrayscale=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a};t.imageToGrayscale=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=e.copy(),a=0;a<n.pixels.length;a+=r.default.NUM_CHANNELS){var i=t(e.pixels[a],e.pixels[a+1],e.pixels[a+2]);n.pixels[a]=i,n.pixels[a+1]=i,n.pixels[a+2]=i}return n};var o=function(e,t,n){return Math.round(.222*e+.707*t+.071*n)},i={pixelToGrayscalePal:o};t.grayscaleStrategies=i},5565:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.histogramEqualization=function(e,t){var n=(0,a.createLookupTable)(function(e){var n=t.pixelCount/256;return function(a){var r=t.cumulativeHistograms[e][a],o=Math.round(r/n);return Math.max(0,o-1)}});return(0,a.applyLookupTable)(e,n)};var a=n(64)},5566:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.histogramSpecification=function(e,t,n){var r=t.cumulativeHistograms.map(function(e){return e.map(function(e){return e/t.pixelCount})}),o=n.cumulativeHistograms.map(function(e){return e.map(function(e){return e/n.pixelCount})}),i=(0,a.createLookupTable)(function(e){return function(t){for(var n=255;n>=0&&r[e][t]<=o[e][n];)n-=1;return n}});return(0,a.applyLookupTable)(e,i)};var a=n(64)},5567:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageResampling=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a},o=n(59);t.imageResampling=function(e,t,n){if(t<1||t>e.width)throw new o.ImageOperationException("ImageResamplingException","Invalid block width value, block width should be greater than 0 and less or equal than image width.");if(n<1||n>e.height)throw new o.ImageOperationException("ImageResamplingException","Invalid block height value, block height should be greater than 0 and less or equal than image height.");for(var a,s=new Uint8ClampedArray(e.width*e.height*r.default.NUM_CHANNELS),l=0;l+n<=e.height;){for(a=0;a+t<=e.width;)i(e,s,a,l,a+t,l+n),a+=t;i(e,s,a,l,e.width,l+n),l+=n}for(a=0;a+t<=e.width;)i(e,s,a,l,a+t,e.height),a+=t;return i(e,s,a,l,e.width,e.height),new r.default(e.width,e.height,s)};var i=function(e,t,n,a,o,i){for(var s,l=[0,0,0,0],c=0,u=a;u<i;++u)for(var p=n;p<o;++p){for(var h=0;h<r.default.NUM_CHANNELS;++h)l[h]=l[h]+e.getPixel({x:p,y:u})[h];c+=1}for(var d=l.map(function(e){return e/c}),m=a;m<i;++m)for(var g=n;g<o;++g)t[s=(m*e.width+g)*r.default.NUM_CHANNELS]=d[0],t[s+1]=d[1],t[s+2]=d[2],t[s+3]=d[3]}},5568:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageResizing=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a},o=n(59);t.imageResizing=function(e,t,n,a){var i=e.width,s=e.height,l=t/100,c=n/100,u=Math.floor(i*l),p=Math.floor(s*c);if(u<1)throw new o.ImageOperationException("ImageResizingException","Width of the resized image is too small.");if(p<1)throw new o.ImageOperationException("ImageResizingException","Height of the resized image is too small.");for(var h,d=new Uint8ClampedArray(u*p*r.default.NUM_CHANNELS),m=0,g=0;g<p;++g)for(var f=0;f<u;++f){var b=a((h={x:f/l,y:g/c}).x,h.y,e);d[m]=Math.round(b[0]),d[m+1]=Math.round(b[1]),d[m+2]=Math.round(b[2]),d[m+3]=Math.round(b[3]),m+=r.default.NUM_CHANNELS}return new r.default(u,p,d)}},5569:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageRotation=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a};var o=function(e,t,n){return e>=t&&e<n};t.imageRotation=function(e,t,n,a){var l=e.width,c=e.height,u=t*(Math.PI/180),p=function(e,t){return{x:Math.cos(u)*e-Math.sin(u)*t,y:Math.sin(u)*e+Math.cos(u)*t}},h=s(l,c,p);if(a)return i(e,p,h);for(var d,m,g,f=new Uint8ClampedArray(h.width*h.height*r.default.NUM_CHANNELS),b=0,v=0;v<h.height;++v)for(var y=0;y<h.width;++y){if(m=y+h.minXCoord,g=v+h.minYCoord,d={x:Math.cos(-u)*m-Math.sin(-u)*g,y:Math.sin(-u)*m+Math.cos(-u)*g},o(Math.round(d.x),0,l+1)&&o(Math.round(d.y),0,c+1)){var O=n(d.x,d.y,e);f[b]=Math.round(O[0]),f[b+1]=Math.round(O[1]),f[b+2]=Math.round(O[2]),f[b+3]=Math.round(O[3])}else f[b]=0,f[b+1]=0,f[b+2]=0,f[b+3]=0;b+=r.default.NUM_CHANNELS}return new r.default(h.width,h.height,f)};var i=function(e,t,n){for(var a,o,i,s=new Uint8ClampedArray(n.width*n.height*r.default.NUM_CHANNELS),l=0;l<e.height;++l)for(var c=0;c<e.width;++c)a=t(c,l),o=(Math.round(a.y-n.minYCoord)*n.width+Math.round(a.x-n.minXCoord))*r.default.NUM_CHANNELS,i=e.getPixel({x:c,y:l}),s[o]=i[0],s[o+1]=i[1],s[o+2]=i[2],s[o+3]=i[3];return new r.default(n.width,n.height,s)},s=function(e,t,n){var a=n(0,0),r=n(0,t),o=n(e,0),i=n(e,t),s=Math.max(a.x,r.x,o.x,i.x),l=Math.min(a.x,r.x,o.x,i.x),c=Math.max(a.y,r.y,o.y,i.y),u=Math.min(a.y,r.y,o.y,i.y);return{width:Math.floor(Math.abs(s-l)),height:Math.floor(Math.abs(c-u)),minXCoord:l,minYCoord:u}}},5570:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageTranspose=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a};t.imageTranspose=function(e){for(var t,n=e.width,a=e.height,o=new Uint8ClampedArray(a*n*r.default.NUM_CHANNELS),i=0,s=0;s<n;++s)for(var l=0;l<a;++l)t=e.getPixel({x:s,y:l}),o[i]=t[0],o[i+1]=t[1],o[i+2]=t[2],o[i+3]=t[3],i+=r.default.NUM_CHANNELS;return new r.default(a,n,o)}},5571:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interpolationMethods=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a};var o={closestNeighbourInterpolation:function(e,t,n){return n.getPixel({x:Math.round(e),y:Math.round(t)})},bilinearInterpolation:function(e,t,n){for(var a=n.getPixel({x:Math.floor(e),y:Math.ceil(t)}),o=n.getPixel({x:Math.ceil(e),y:Math.ceil(t)}),i=n.getPixel({x:Math.floor(e),y:Math.floor(t)}),s=n.getPixel({x:Math.ceil(e),y:Math.floor(t)}),l=e-Math.floor(e),c=t-Math.floor(t),u=[],p=0;p<r.default.NUM_CHANNELS;++p)u[p]=i[p]+(s[p]-i[p])*l+(a[p]-i[p])*c+(o[p]+i[p]-a[p]-s[p])*l*c;return u}};t.interpolationMethods=o},5572:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linearTransformation=function(e,t){console.log({imgBuffer:e,points:t}),function(e){if(3!==e.length)throw new r.ImageOperationException("LinearTransformationException","Linear transformation needs 3 sets of points, one for each color dimension");e.forEach(function(e,t){if(e.length<2)throw new r.ImageOperationException("LinearTransformationException","Linear transformation needs at least 2 points for each dimension. Color dimension number ".concat(t," has ").concat(e.length));for(var n=0;n<e.length-1;++n){var a=e[n],o=e[n+1];if(a.x>o.x)throw new r.ImageOperationException("LinearTransformationException","Points must be ordered according to the x coordinate value");if(a.x===o.x)throw new r.ImageOperationException("LinearTransformationException","Different points should not have the same x coordinate value")}if(e[0].x>0)throw new r.ImageOperationException("LinearTransformationException","X coordinate value of the first point should be less or equal to 0 for the color dimension number ".concat(t));if(e[e.length-1].x<255)throw new r.ImageOperationException("LinearTransformationException","X coordinate value of the last point should be greater or equal to 255 for the color dimension number ".concat(t))})}(t);var n=t.map(o),i=(0,a.createLookupTable)(function(e){var t=n[e],a=0;return function(e){var n=t[a],r=n.frontier,o=n.slope,i=n.yIntercept;e>r&&(a+=1);var s=Math.round(o*e+i),l=Math.min(Math.max(s,0),255);return l}});return(0,a.applyLookupTable)(e,i)};var a=n(64),r=n(59);function o(e){for(var t=[],n=1;n<e.length;++n){var a=e[n],r=e[n-1],o=(a.y-r.y)/(a.x-r.x),i=a.y-o*a.x,s=a.x;t.push({slope:o,yIntercept:i,frontier:s})}return t}},5573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mirror=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a};var o={horizontal:function(e){for(var t,n=e.width,a=e.height,o=new Uint8ClampedArray(n*a*r.default.NUM_CHANNELS),i=0,s=a-1;s>=0;--s)for(var l=0;l<n;++l)t=e.getPixel({x:l,y:s}),o[i]=t[0],o[i+1]=t[1],o[i+2]=t[2],o[i+3]=t[3],i+=r.default.NUM_CHANNELS;return new r.default(n,a,o)},vertical:function(e){for(var t,n=e.width,a=e.height,o=new Uint8ClampedArray(n*a*r.default.NUM_CHANNELS),i=0,s=0;s<a;++s)for(var l=n-1;l>=0;--l)t=e.getPixel({x:l,y:s}),o[i]=t[0],o[i+1]=t[1],o[i+2]=t[2],o[i+3]=t[3],i+=r.default.NUM_CHANNELS;return new r.default(n,a,o)}};t.mirror=o},5574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quantization=void 0;var a=n(64),r=n(59);t.quantization=function(e,t){if(t<0||t>8)throw new r.ImageOperationException("QuantizationException","Invalid amount of levels, the amount should be equal or greater than 0 and equal or less than 8.");if(!Number.isInteger(t))throw new r.ImageOperationException("QuantizationException","Invalid amount of levels, the value should be an integer number.");if(8===t)return e;var n=[0];if(t>1)for(var o=256/(Math.pow(2,t)-1);n[n.length-1]+o<255;)n.push(n[n.length-1]+o);n=n.map(function(e){return Math.round(e)}),t>0&&n.push(255);var i=(0,a.createLookupTable)(function(){var e;return function(t){for(var a=Number.POSITIVE_INFINITY,r=0;r<n.length;++r){var o=Math.abs(t-n[r]);o<a&&(e=r,a=o)}return n[e]}});return(0,a.applyLookupTable)(e,i)}},5575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageToSepia=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a};t.imageToSepia=function(e){for(var t=e.copy(),n=0;n<t.pixels.length;n+=r.default.NUM_CHANNELS){var a=e.pixels[n],o=e.pixels[n+1],i=e.pixels[n+2];t.pixels[n]=Math.min(.393*a+.769*o+.189*i,255),t.pixels[n+1]=Math.min(.349*a+.686*o+.168*i,255),t.pixels[n+2]=Math.min(.272*a+.534*o+.131*i,255)}return t}},5576:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hueRotation=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(189));t.hueRotation=function(e,t){for(var n=e.copy(),a=0;a<n.pixels.length;a+=r.default.NUM_CHANNELS){var i=e.pixels[a],s=e.pixels[a+1],l=e.pixels[a+2],c=o.RGBToHSL({r:i,g:s,b:l}),u=o.HSLToRGB({h:(c.h+t)%360,s:c.s,l:c.l});n.pixels[a]=u.r,n.pixels[a+1]=u.g,n.pixels[a+2]=u.b}return n}},5577:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saturateImage=void 0;var a,r=(a=n(40))&&a.__esModule?a:{default:a},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(189));t.saturateImage=function(e,t){for(var n=e.copy(),a=0;a<n.pixels.length;a+=r.default.NUM_CHANNELS){var i=e.pixels[a],s=e.pixels[a+1],l=e.pixels[a+2],c=o.RGBToHSL({r:i,g:s,b:l}),u=o.HSLToRGB({h:c.h,s:c.s*t/100,l:c.l});n.pixels[a]=u.r,n.pixels[a+1]=u.g,n.pixels[a+2]=u.b}return n}},5892:function(e,t,n){},5895:function(e,t,n){},5896:function(e,t,n){},5898:function(e,t,n){},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageOperationException",{enumerable:!0,get:function(){return r.default}});var a,r=(a=n(5558))&&a.__esModule?a:{default:a}},5922:function(e,t,n){"use strict";n.r(t);var a=n(97),r=n(265),o=n(0),i=n.n(o),s=n(35),l=n.n(s),c=n(4),u=n(8),p=n(7),h=n(5),d=n(6),m=n(44),g=n(77),f=n(182),b={GRID_COLUMNS:{lg:10,md:8,sm:6,xs:4,xxs:2},LAYOUT_BREAKPOINTS:{lg:1200,md:996,sm:768,xs:480,xxs:0},DEFAULT_GRID_ITEM_COLS:2,DEFAULT_GRID_ITEM_ROWS:4,GRID_ITEM_ROW_HEIGHT:50},v=Object(f.WidthProvider)(f.Responsive),y=function(e){var t=e.children,n=Object(g.a)(e,["children"]);return i.a.createElement(v,Object.assign({cols:b.GRID_COLUMNS,breakpoints:b.LAYOUT_BREAKPOINTS,rowHeight:b.GRID_ITEM_ROW_HEIGHT},n),t)};y.defaultProps=Object(m.a)({layouts:{}},v.defaultProps);var O=y,E=(n(5555),function(e){var t=e.onDelete,n=Object(g.a)(e,["onDelete"]);return i.a.createElement("button",Object.assign({className:"DeleteButton",onClick:t,onTouchEnd:t,disabled:!t,"aria-label":"delete"},n),"\xd7")});E.defaultProps={onDelete:null};var C=E,j=(n(5556),function(e){e.preventDefault(),e.stopPropagation()}),x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDraggable:!1},n.onDragHandleMouseDown=function(){return n.setState({isDraggable:!0})},n.onDragHandleMouseUp=function(){return n.state.isDraggable&&n.setState({isDraggable:!1})},n.onDragStart=function(e){n.state.isDraggable&&(j(e),n.props.onMouseDown&&n.props.onMouseDown(e))},n.onTouchMove=function(e){n.state.isDraggable&&(j(e),n.props.onTouchStart&&n.props.onTouchStart(e))},n.onDragEnd=function(e){n.state.isDraggable&&(j(e),n.props.onMouseUp&&n.props.onMouseUp(e))},n.onTouchEnd=function(e){n.state.isDraggable&&(j(e),n.props.onTouchEnd&&n.props.onTouchEnd(e))},n.onDelete=function(){return n.props.onDelete(n.props.id)},n.onSelect=function(){return n.props.onSelect(n.props.id)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onDragHandleMouseUp),document.addEventListener("touchend",this.onDragHandleMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onDragHandleMouseUp),document.removeEventListener("touchend",this.onDragHandleMouseUp)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.style,r=e.name,o=e.onSelect,s=e.onDelete,l=e.isSelected;return i.a.createElement("div",{className:"Item ".concat(n," ").concat(l&&"is-selected"),style:a,draggable:this.state.isDraggable,onDragStart:this.onDragStart,onTouchMove:this.onTouchMove,onMouseUp:this.onDragEnd,onTouchEnd:this.onTouchEnd,onFocus:o?this.onSelect:null,tabIndex:"0"},i.a.createElement("div",{onMouseDown:this.onDragHandleMouseDown,onTouchStart:this.onDragHandleMouseDown,className:"Item__toolbar"},i.a.createElement(C,{onMouseDown:j,onDelete:s?this.onDelete:null}),i.a.createElement("span",{className:"Item__name"},r)),i.a.createElement("div",{className:"Item__childrenContainer"},t))}}]),t}(i.a.Component);x.defaultProps={name:"",onDelete:null,onSelect:null,onDeselect:null,isSelected:!1};var S={Grid:O,Item:x},I=n(16);function M(e,t){return function(e,t){var n=t.top,a=t.left;return{x:e.clientX-Math.ceil(a),y:e.clientY-Math.ceil(n)}}(e,t.getBoundingClientRect())}function w(e,t,n){var a=Math.min(e.x,t.x),r=Math.max(e.x,t.x),o=Math.min(e.y,t.y),i=Math.max(e.y,t.y);return n&&"function"===typeof n?n({left:a,right:r,top:o,bottom:i}):{left:a,right:r,top:o,bottom:i}}var k=n(3),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isImageLoading:!1,isMouseDown:!1,isDragging:!1,mouseDownOriginCoordinates:{x:-1,y:-1},currentMouseCoordinates:{x:-1,y:-1},selectionOriginCoords:{x:-1,y:-1},selectionEndCoords:{x:-1,y:-1},initialOriginCoords:{x:-1,y:-1},initialEndCoords:{x:-1,y:-1}},n.onMouseMove=function(e){if(n.props.onMouseMove&&!n.state.isImageLoading){var t=M(e,n.refs.canvas),a=n.props.rgbaImage.getPixel(t),r=n.props.appStore.imageSelectionMehod;if(n.state.isMouseDown&&!n.state.isDragging)n.setState({currentMouseCoordinates:t});else if("line"!==r&&n.state.isMouseDown&&n.state.isDragging){var o=n.state,i=o.initialOriginCoords,s=o.initialEndCoords,l=o.mouseDownOriginCoordinates,c=n.props.rgbaImage,u=c.width,p=c.height;u-=1,p-=1;var h=t.x-l.x,d=t.y-l.y,m=w(i,s,function(e){var t=e.top,n=e.left,a=e.right,r=e.bottom,o={x:n+h,y:t+d},i={x:a+h,y:r+d},s=Math.abs(i.x-o.x),l=Math.abs(i.y-o.y);return i.x>u?(o.x=u-s,i.x=u):o.x<0&&(o.x=0,i.x=s),i.y>p?(o.y=p-l,i.y=p):o.y<0&&(o.y=0,i.y=l),{originCoords:o,endCoords:i}});n.setState({currentMouseCoordinates:t,selectionOriginCoords:m.originCoords,selectionEndCoords:m.endCoords})}n.props.onMouseMove(t,a)}},n.onMouseDown=function(e){var t,a,r=M(e,n.refs.canvas),o=n.state,i=o.selectionOriginCoords,s=o.selectionEndCoords,l=w(i,s);t=l,(a=r).y<=t.bottom&&a.y>=t.top&&a.x<=t.right&&a.x>=t.left?n.setState({mouseDownOriginCoordinates:r,isMouseDown:!0,isDragging:!0,currentMouseCoordinates:r,initialOriginCoords:{x:i.x,y:i.y},initialEndCoords:{x:s.x,y:s.y}}):n.setState({mouseDownOriginCoordinates:r,isMouseDown:!0,currentMouseCoordinates:r})},n.onMouseUp=function(){var e=n.state,t=e.isMouseDown,a=e.isDragging,r=e.selectionOriginCoords,o=e.selectionEndCoords,i=e.mouseDownOriginCoordinates,s=e.currentMouseCoordinates;if(t)if(i.x!==s.x||i.y!==s.y||a)a?(n.setState({isDragging:!1,isMouseDown:!1}),n.props.onSelection({originCoords:r,endCoords:o})):(n.setState({isMouseDown:!1,selectionOriginCoords:{x:i.x,y:i.y},selectionEndCoords:{x:s.x,y:s.y}}),n.props.onSelection({originCoords:i,endCoords:s}));else{n.setState({isMouseDown:!1,selectionOriginCoords:{x:-1,y:-1},selectionEndCoords:{x:-1,y:-1}});var l=n.props.rgbaImage,c=l.width,u=l.height;n.props.onSelection({originCoords:{x:0,y:0},endCoords:{x:c,y:u}})}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentDidUpdate",value:function(e){this.props.rgbaImage!==e.rgbaImage&&(this.setState({isImageLoading:!0}),this.updateCanvas())}},{key:"updateCanvas",value:function(){var e=this.refs.canvas,t=e.getContext("2d");e.width=this.props.rgbaImage.width,e.height=this.props.rgbaImage.height,t.putImageData(this.props.rgbaImage.toImageData(),0,0),this.setState({isImageLoading:!1})}},{key:"render",value:function(){var e=this.state,t=e.isDragging,n=e.isMouseDown,a=e.selectionOriginCoords,r=e.selectionEndCoords,o=e.currentMouseCoordinates,s=e.mouseDownOriginCoordinates;return i.a.createElement("div",{style:{position:"relative"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove},i.a.createElement("canvas",{ref:"canvas",style:{display:"block",backgroundColor:"#eee",maxHeight:"100%"}}),this.props.children({originCoords:!0!==n||t?a:s,endCoords:!0!==n||t?r:o}))}}]),t}(o.Component);D.defaultProps={onMouseMove:null};var _=Object(k.b)("appStore")(Object(k.c)(D)),N=n(131),P=n.n(N),A=n(132),H=n.n(A),T=n(12),R=n.n(T),L=n(51),G=n.n(L),V=n(43),U=n.n(V),F=n(52),B=n.n(F),z=n(53),q=n.n(z),W=n(10),Y=n(13),X=n.n(Y),Z=n(271),Q=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,"Error loading image with src = ".concat(e)))).name="ImageLoadException",n.src=e,n}return Object(d.a)(t,e),t}(Object(Z.a)(Error));function J(e){var t=URL.createObjectURL(e);return function(e){var t=new Image;return t.src=e,new Promise(function(n,a){t.onload=function(){return n(t)},t.onerror=function(){return a(new Q(e))}})}(t).finally(function(){return URL.revokeObjectURL(t)})}var K=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onImageFileInputted=function(e){var t=n.props,a=t.enqueueSnackbar,r=t.appStore,o=e.target.files;1===o.length&&o[0]?J(o[0]).then(function(e){var t=document.createElement("canvas"),a=t.getContext("2d");t.width=e.naturalWidth,t.height=e.naturalHeight,a.drawImage(e,0,0);var o=a.getImageData(0,0,t.width,t.height),i=I.RgbaImageBuffer.fromImageData(o);r.addImage(i),n.refs.fileInputForm.reset()}).catch(function(){a("Could not load image",{variant:"error"})}):a("Error reading image file",{variant:"error"})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"image-input"},i.a.createElement(X.a,null,"Open")),i.a.createElement("form",{ref:"fileInputForm"},i.a.createElement("input",{hidden:!0,id:"image-input",type:"file",accept:"image/*",name:"image-input",onChange:this.onImageFileInputted})))}}]),t}(i.a.Component),$=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(K))),ee=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).downloadCurrentImage=function(){var e=n.props,t=e.enqueueSnackbar,a=e.appStore,r=a.selectedGridItem,o=r.type,i=r.index;if("image"!==o||i<0)t("You first need to select an image",{variant:"warning"});else{var s=a.imagesInfos[i],l=s.versionsHistory,c=s.currentVersionIndex,u=l[c].region,p=u.left,h=u.top,d=u.width,m=u.height,g=l[c].imageBuffer.toImageData(),f=document.createElement("canvas"),b=f.getContext("2d");f.width=g.width,f.height=g.height,b.putImageData(g,0,0,p,h,d,m),f.toBlob(function(e){var t=URL.createObjectURL(e);n.refs.downloadAnchor.href=t,n.refs.downloadAnchor.click(),URL.revokeObjectURL(t)},null,1)}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.downloadCurrentImage},"Download"),i.a.createElement("div",null,i.a.createElement("a",{ref:"downloadAnchor",href:"#download",id:"download",hidden:!0,download:!0},"This should not be visible. It is only used when downloading images")))}}]),t}(i.a.Component),te=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(ee))),ne=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleToggle=function(){n.setState(function(e){return{open:!e.open}})},n.handleClose=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return i.a.createElement("div",null,i.a.createElement(R.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"File"),i.a.createElement(B.a,{open:t,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},i.a.createElement(U.a,{onClick:this.handleClose},i.a.createElement(G.a,{onClickAway:this.handleClose},i.a.createElement(q.a,null,i.a.createElement($,null),i.a.createElement(te,null))))))}}]),t}(i.a.Component),ae=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.props.appStore.openRightSideMenu()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.onClick},"See Image Info"))}}]),t}(i.a.Component),re=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(ae))),oe=I.operations.crop,ie=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).cropCurrentImage=function(){var e=n.props,t=e.enqueueSnackbar,a=e.appStore,r=a.imageSelectionMehod,o=a.selectedGridItem,i=o.type,s=o.index;if("image"!==i||s<0)t("You first need to select an image",{variant:"warning"});else if("selection"!==r)t("You need to select a part of the image with the selection tool",{variant:"error"});else{var l=a.addImage,c=a.imagesInfos[s],u=c.versionsHistory,p=c.currentVersionIndex;l(oe(u[p].imageBuffer,u[p].region))}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.cropCurrentImage},"Crop"))}}]),t}(i.a.Component),se=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(ie))),le=function(e,t){for(var n=[],a=e.x,r=t.x,o=e.y,i=t.y,s=Math.abs(r-a),l=Math.abs(i-o),c=a<r?1:-1,u=o<i?1:-1,p=s-l;n.push({x:a,y:o}),!(Math.abs(a-r)<1e-4&&Math.abs(o-i)<1e-4);){var h=2*p;h>-l&&(p-=l,a+=c),h<s&&(p+=s,o+=u)}return n},ce=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).getProfile=function(){var e=n.props,t=e.enqueueSnackbar,a=e.appStore,r=a.imageSelectionMehod,o=a.selectedGridItem,i=o.type,s=o.index,l=n.props.appStore.imagesInfos[s],c=l.versionsHistory,u=l.currentVersionIndex;"image"!==i||s<0?t("You first need to select an image",{variant:"warning"}):"line"!==r?t("You need to select a line inside the image with the profile tool",{variant:"error"}):function(){var e=c[u].region,t=e.left,n=e.top,r=e.width,o=e.height,i=le({x:t,y:n},{x:t+r,y:n+o}),s=c[u].imageBuffer,l={Red:[],Green:[],Blue:[]};i.forEach(function(e){var t=s.getPixel({x:e.x,y:e.y});l.Red.push(t[0]),l.Green.push(t[1]),l.Blue.push(t[2])});for(var p={Red:[],Green:[],Blue:[]},h=function(e){Object.keys(l).forEach(function(t){p[t].push((l[t][e+1]-l[t][e-1])/2)})},d=1;d<l.Red.length-1;++d)h(d);a.openRightSideMenu(),a.addProfile(l,p)}()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.getProfile},"Profile"))}}]),t}(i.a.Component),ue=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(ce))),pe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleToggle=function(){n.setState(function(e){return{open:!e.open}})},n.handleClose=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return i.a.createElement("div",null,i.a.createElement(R.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Image"),i.a.createElement(B.a,{open:t,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},i.a.createElement(U.a,{onClick:this.handleClose},i.a.createElement(G.a,{onClickAway:this.handleClose},i.a.createElement(q.a,null,i.a.createElement(re,null),i.a.createElement(se,null),i.a.createElement(ue,null))))))}}]),t}(i.a.Component),he=n(270),de=n(29),me=n.n(de),ge=n(33),fe=n.n(ge),be=n(31),ve=n.n(be),ye=n(32),Oe=n.n(ye),Ee=n(30),Ce=n.n(Ee),je=n(38),xe=n(28),Se=n.n(xe),Ie=n(22),Me=n.n(Ie),we=n(96),ke=n.n(we),De=n(126),_e=n.n(De),Ne=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onYChange=function(e){var t=Number.parseFloat(e.target.value);n.props.onChange(Object(m.a)({},n.props.coordinate,{y:Number.isFinite(t)?t:""}))},n.onXChange=function(e){var t=Number.parseFloat(e.target.value);n.props.onChange(Object(m.a)({},n.props.coordinate,{x:Number.isFinite(t)?t:""}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},i.a.createElement(Se.a,{type:"number",placeholder:"0",value:this.props.coordinate.x,onChange:this.onXChange,margin:"dense",InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"x: ")}}),i.a.createElement(Se.a,{type:"number",placeholder:"0",value:this.props.coordinate.y,onChange:this.onYChange,margin:"dense",InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"y: ")}}),i.a.createElement(ke.a,{"aria-label":"Delete",onClick:this.props.onDelete},i.a.createElement(_e.a,null)))}}]),t}(i.a.Component),Pe=I.operations.linearTransformation,Ae={center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"1rem",marginBottom:"1rem"}},He=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={coords:[{x:0,y:0},{x:255,y:255}]},n.onDataChange=function(e){return function(t){n.setState(function(n){return{coords:n.coords.map(function(n,a){return a===e?t:n})}})}},n.onDataDelete=function(e){return function(){n.setState(function(t){return{coords:t.coords.filter(function(t,n){return n!==e})}})}},n.addNewCoordinate=function(){var e=n.state.coords.length<1?{x:0,y:0}:n.state.coords.slice(-1)[0];n.setState(function(t){return{coords:[].concat(Object(he.a)(t.coords),[e])}})},n.onSubmit=function(){var e=n.props,t=e.appStore,a=e.onClose,r=t.selectedGridItem.index,o=n.props.appStore.imagesInfos[r],i=o.versionsHistory,s=o.currentVersionIndex;t.addOperationResult(Pe(i[s].imageBuffer,[n.state.coords,n.state.coords,n.state.coords])),a()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Linear Sections"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, enter the points to define the begin and end of each linear section"),i.a.createElement("div",{style:Ae.center},i.a.createElement(je.h,{width:300,height:300},i.a.createElement(je.c,null),i.a.createElement(je.d,{data:this.state.coords,xDomain:[0,255],yDomain:[0,255]}),i.a.createElement(je.g,null),i.a.createElement(je.i,null))),i.a.createElement("div",{style:Ae.center},i.a.createElement(R.a,{onClick:this.addNewCoordinate,fullWidth:!0,variant:"contained",color:"primary"},"Add new coordinate")),i.a.createElement("div",null,this.state.coords.map(function(t,n){return i.a.createElement(Ne,{key:n,coordinate:t,onChange:e.onDataChange(n),onDelete:e.onDataDelete(n)})}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),Te=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(He))),Re=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Linear Transformation"),i.a.createElement(Te,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),Le=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Re))),Ge=n(17),Ve=function(e,t,n){return e>=t&&e<n},Ue=I.operations.brightnessAndContrastAdjustment,Fe={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},Be=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={brightness:0,brightnessErrorMessage:"",contrast:0,contrastErrorMessage:"",formChanged:!1},n.onChange=function(e,t,a,r,o){var i,s,l=Number.parseFloat(e.target.value);Ve(l,r,o+1)?n.setState((i={},Object(Ge.a)(i,t,l),Object(Ge.a)(i,a,""),Object(Ge.a)(i,"formChanged",!0),i)):n.setState((s={},Object(Ge.a)(s,t,e.target.value),Object(Ge.a)(s,a,"Required a number between ".concat(r," and ").concat(o)),Object(Ge.a)(s,"formChanged",!0),s))},n.onBrightnessChange=function(e){return n.onChange(e,"brightness","brightnessErrorMessage",0,255)},n.onContrastChange=function(e){return n.onChange(e,"contrast","contrastErrorMessage",0,128)},n.onSubmit=function(){var e=n.state,t=e.brightness,a=e.contrast,r=n.props.appStore,o=r.selectedGridItem.index,i=r.imagesInfos[o],s=i.versionsHistory[i.currentVersionIndex],l=s.imageBuffer,c=s.extraInfo;r.addOperationResult(Ue(l,c.brightnesses,c.contrasts,[t,t,t],[a,a,a])),n.onClose()},n.onClose=function(){n.setState({formChanged:!1}),n.props.onClose()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Brightness and Contrast Adjustment"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, enter the brightness and contrast for the new image"),i.a.createElement("div",{className:"center",style:Fe.inputsContainer},i.a.createElement(Se.a,{error:!!this.state.brightnessErrorMessage,label:this.state.brightnessErrorMessage,type:"number",placeholder:String(this.state.brightness),value:this.state.brightness,onChange:this.onBrightnessChange,margin:"dense",style:Fe.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Brightness: ")}}),i.a.createElement(Se.a,{error:!!this.state.contrastErrorMessage,label:this.state.contrastErrorMessage,type:"number",placeholder:String(this.state.contrast),value:this.state.contrast,onChange:this.onContrastChange,margin:"dense",style:Fe.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Contrast: ")}}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.appStore,a=n.imagesInfos,r=n.selectedGridItem,o=t.brightness,i=t.contrast;if(r.index>=0){var s=a[r.index],l=s.versionsHistory[s.currentVersionIndex].extraInfo;o=l.brightnesses[0],i=l.contrasts[0]}return t.formChanged?null:{brightness:+o.toFixed(2),contrast:+i.toFixed(2)}}}]),t}(i.a.Component),ze=Object(k.b)("appStore")(Object(k.c)(Be)),qe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Brightness And Contrast"),i.a.createElement(ze,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),We=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(qe))),Ye=I.operations.gammaCorrection,Xe={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},Ze=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={gamma:0,gammaErrorMessage:""},n.onChange=function(e,t,a,r){var o,i,s=Number.parseFloat(e.target.value);Ve(s,0,Number.POSITIVE_INFINITY)?n.setState((o={},Object(Ge.a)(o,t,s),Object(Ge.a)(o,a,""),o)):n.setState((i={},Object(Ge.a)(i,t,e.target.value),Object(Ge.a)(i,a,r),i))},n.onGammaChange=function(e){return n.onChange(e,"gamma","gammaErrorMessage","Required a value equal or greater than 0")},n.onSubmit=function(){var e=n.props.appStore,t=e.selectedGridItem.index,a=e.imagesInfos[t],r=a.versionsHistory,o=a.currentVersionIndex;e.addOperationResult(Ye(r[o].imageBuffer,n.state.gamma)),n.props.onClose()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Gamma correction"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, enter the gamma value for the new image"),i.a.createElement("div",{className:"center",style:Xe.inputsContainer},i.a.createElement(Se.a,{error:!!this.state.gammaErrorMessage,label:this.state.gammaErrorMessage,type:"number",placeholder:"0",value:this.state.gamma,onChange:this.onGammaChange,margin:"dense",style:Xe.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Gamma: ")}}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),Qe=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Ze))),Je=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Gamma Correction"),i.a.createElement(Qe,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),Ke=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Je))),$e=n(42),et=n(95),tt=n.n(et),nt=n(94),at=n.n(nt),rt=n(127),ot=n.n(rt),it=n(128),st=n.n(it),lt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,selectedIndex:n.props.selectedItemIndex},n.handleClickListItem=function(e){n.setState({anchorEl:e.currentTarget})},n.handleMenuItemClick=function(e,t,a){n.setState({selectedIndex:t,anchorEl:null}),e.selectedItemName=a,e.selectedItemIndex=t,n.props.onItemSelection(e)},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.anchorEl;return i.a.createElement("div",{className:t.root},i.a.createElement(tt.a,{component:"nav"},i.a.createElement(at.a,{disabled:this.props.isDisabled,button:!0,"aria-haspopup":"true","aria-label":this.props.menuTitle,onClick:this.handleClickListItem},i.a.createElement(ot.a,{primary:this.props.menuTitle,secondary:this.props.options.length>0?this.props.options[this.state.selectedIndex]:"None"}))),this.props.options.length>0?i.a.createElement(st.a,{anchorEl:n,open:Boolean(n),onClose:this.handleClose},this.props.options.map(function(t,n){return i.a.createElement(X.a,{key:t,selected:n===e.state.selectedIndex,onClick:function(a){return e.handleMenuItemClick(a,n,t)}},t)})):null)}}]),t}(i.a.Component),ct=Object($e.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper}}})(lt),ut=I.operations.imagesDifference,pt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:""},n.onChange=function(e){return n.setState({imgName:e.selectedItemName})},n.onSubmit=function(){var e=n.state.imgName,t=n.props,a=t.appStore,r=t.enqueueSnackbar,o=a.selectedGridItem.index,i=a.imagesInfos.find(function(t){return t.key===e}),s=i.currentVersionIndex,l=i.versionsHistory,c=i&&l[s].imageBuffer;s=a.imagesInfos[o].currentVersionIndex,l=a.imagesInfos[o].versionsHistory,void 0===c?r("Couldn't find an image with the selected name (".concat(e,")"),{variant:"error"}):a.addOperationResult(ut(l[s].imageBuffer,c)),n.props.onClose()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.appStore.imagesInfos.map(function(e){return e.key});return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Image Difference"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, select the image to perform the difference to the current image"),i.a.createElement("div",{className:"center"},i.a.createElement(ct,{menuTitle:"Selected image",options:e,onItemSelection:this.onChange}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),ht=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(pt))),dt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Image Difference"),i.a.createElement(ht,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),mt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(dt))),gt=n(268),ft=I.operations.changesDetection,bt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:"",rgbaColor:{r:255,g:0,b:0},threshold:""},n.onImgNameChange=function(e){return n.setState({imgName:e.selectedItemName})},n.onThresholdChange=function(e){var t=Number.parseFloat(e.target.value);n.setState({threshold:Number.isFinite(t)?t:""})},n.handleChangeComplete=function(e){return n.setState({rgbaColor:e.rgb})},n.onSubmit=function(){var e=n.state,t=e.imgName,a=e.rgbaColor,r=e.threshold;n.applyChangesDetection({imgName:t,rgbaColor:a,threshold:""===r?0:r}),n.props.onClose()},n.applyChangesDetection=function(e){var t=e.imgName,a=e.rgbaColor,r=e.threshold,o=n.props,i=o.appStore,s=o.enqueueSnackbar,l=i.selectedGridItem.index,c=i.imagesInfos.find(function(e){return e.key===t}),u=c.currentVersionIndex,p=c.versionsHistory,h=c&&p[u].imageBuffer;u=i.imagesInfos[l].currentVersionIndex,p=i.imagesInfos[l].versionsHistory,void 0===h?s("Couldn't find an image with the selected name (".concat(t,")"),{variant:"error"}):i.addOperationResult(ft(p[u].imageBuffer,h,r,a))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.appStore.imagesInfos.map(function(e){return e.key});return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Changes Detection"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, select the image to detect the changes between them. Also enter the color which will be used to highlight the differences and the difference threshold, value that will determine what is considered a difference and what not"),i.a.createElement("div",{className:"center",style:{justifyContent:"space-around"}},i.a.createElement(ct,{menuTitle:"Selected image",options:e,onItemSelection:this.onImgNameChange}),i.a.createElement(Se.a,{placeholder:"0",type:"number",value:this.state.threshold,onChange:this.onThresholdChange,margin:"dense",InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Threshold: ")}})),i.a.createElement("div",{className:"center",style:{marginTop:"1rem"}},i.a.createElement(gt.ChromePicker,{color:this.state.rgbaColor,onChangeComplete:this.handleChangeComplete}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),vt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(bt))),yt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Changes Detection"),i.a.createElement(vt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),Ot=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(yt))),Et=I.operations.histogramSpecification,Ct=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:""},n.onChange=function(e){return n.setState({imgName:e.selectedItemName})},n.onSubmit=function(){var e=n.state.imgName,t=n.props,a=t.appStore,r=t.enqueueSnackbar,o=a.selectedGridItem.index,i=a.imagesInfos.findIndex(function(t){return t.key===e});if(i<0||i>a.imagesInfos.length)r("Couldn't find an image with the selected name (".concat(e,")"),{variant:"error"});else{var s=a.imagesInfos[o],l=s.versionsHistory,c=s.currentVersionIndex,u=a.imagesInfos[i].versionsHistory,p=a.imagesInfos[i].currentVersionIndex;a.addOperationResult(Et(l[c].imageBuffer,l[c].extraInfo,u[p].extraInfo))}n.props.onClose()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.appStore.imagesInfos.map(function(e){return e.key});return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Histogram Specificacion"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, select the image with the histogram to perform the histogram specification to the current image"),i.a.createElement("div",{className:"center"},i.a.createElement(ct,{menuTitle:"Selected image",options:e,onItemSelection:this.onChange}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),jt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Ct))),xt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Histogram Specification"),i.a.createElement(jt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),St=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(xt))),It=I.operations.imageToGrayscale,Mt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).currentImageToGrayscale=function(){var e=n.props,t=e.enqueueSnackbar,a=e.appStore,r=a.selectedGridItem,o=r.type,i=r.index;if("image"!==o||i<0)t("You first need to select an image",{variant:"warning"});else{var s=a.imagesInfos[i],l=s.versionsHistory,c=s.currentVersionIndex;a.addOperationResult(It(l[c].imageBuffer))}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.currentImageToGrayscale},"To Grayscale"))}}]),t}(i.a.Component),wt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Mt))),kt=I.operations.imageToSepia,Dt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).currentImageToSepia=function(){var e=n.props,t=e.enqueueSnackbar,a=e.appStore,r=n.props.appStore.selectedGridItem,o=r.type,i=r.index;if("image"!==o||i<0)t("You first need to select an image",{variant:"warning"});else{var s=n.props.appStore.imagesInfos[i],l=s.versionsHistory,c=s.currentVersionIndex;a.addOperationResult(kt(l[c].imageBuffer))}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.currentImageToSepia},"To Sepia"))}}]),t}(i.a.Component),_t=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Dt))),Nt=I.operations.histogramEqualization,Pt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).currentImageHistogramEqualization=function(){var e=n.props,t=e.enqueueSnackbar,a=e.appStore,r=a.selectedGridItem,o=r.type,i=r.index,s=a.imagesInfos[i],l=s.versionsHistory[s.currentVersionIndex],c=l.imageBuffer,u=l.extraInfo;"image"!==o||i<0?t("You first need to select an image",{variant:"warning"}):a.addOperationResult(Nt(c,u))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.currentImageHistogramEqualization},"Histogram Equalization"))}}]),t}(i.a.Component),At=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Pt))),Ht=I.operations.quantization,Tt={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},Rt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={levels:8,errorMessage:""},n.onChange=function(e,t,a,r,o){var i,s,l=Number.parseFloat(e.target.value);Ve(l,r,o+1)?n.setState((i={},Object(Ge.a)(i,t,l),Object(Ge.a)(i,a,""),i)):n.setState((s={},Object(Ge.a)(s,t,e.target.value),Object(Ge.a)(s,a,"Required a number between ".concat(r," and ").concat(o)),s))},n.onLevelsChange=function(e){return n.onChange(e,"levels","errorMessage",0,8)},n.onSubmit=function(){var e=n.state.levels,t=n.props.appStore,a=t.selectedGridItem.index,r=n.props.appStore.imagesInfos[a],o=r.versionsHistory,i=r.currentVersionIndex;t.addOperationResult(Ht(o[i].imageBuffer,e)),n.props.onClose()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Image Resample"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, enter the amount of levels for the quantization"),i.a.createElement("div",{className:"center",style:Tt.inputsContainer},i.a.createElement(Se.a,{error:!!this.state.errorMessage,label:this.state.errorMessage,type:"number",placeholder:String(this.state.levels),value:this.state.levels,onChange:this.onLevelsChange,margin:"dense",style:Tt.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Levels: ")}}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),Lt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Rt))),Gt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Quantization"),i.a.createElement(Lt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),Vt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Gt))),Ut=I.operations.hueRotation,Ft={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},Bt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={degrees:0,errorMessage:""},n.onChange=function(e,t,a,r){var o,i,s=Number.parseFloat(e.target.value);Ve(s,0,Number.POSITIVE_INFINITY)?n.setState((o={},Object(Ge.a)(o,t,s),Object(Ge.a)(o,a,""),o)):n.setState((i={},Object(Ge.a)(i,t,e.target.value),Object(Ge.a)(i,a,r),i))},n.onDegreesChange=function(e){return n.onChange(e,"degrees","errorMessage","Required a value equal or greater than 0")},n.onSubmit=function(){var e=n.props.appStore,t=e.selectedGridItem.index,a=e.imagesInfos[t],r=a.versionsHistory,o=a.currentVersionIndex;e.addOperationResult(Ut(r[o].imageBuffer,n.state.degrees)),n.props.onClose()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Hue Rotation"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, enter the degrees for the hue rotation operation"),i.a.createElement("div",{className:"center",style:Ft.inputsContainer},i.a.createElement(Se.a,{error:!!this.state.errorMessage,label:this.state.errorMessage,type:"number",placeholder:"0",value:this.state.degrees,onChange:this.onDegreesChange,margin:"dense",style:Ft.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Degrees: ")}}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),zt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Bt))),qt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Hue Rotation"),i.a.createElement(zt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),Wt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(qt))),Yt=I.operations.saturateImage,Xt={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},Zt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={saturationPercentage:100,errorMessage:""},n.onChange=function(e,t,a,r){var o,i,s=Number.parseFloat(e.target.value);Ve(s,0,Number.POSITIVE_INFINITY)?n.setState((o={},Object(Ge.a)(o,t,s),Object(Ge.a)(o,a,""),o)):n.setState((i={},Object(Ge.a)(i,t,e.target.value),Object(Ge.a)(i,a,r),i))},n.onSaturationPercentageChange=function(e){return n.onChange(e,"saturationPercentage","errorMessage","Required a value equal or greater than 0")},n.onSubmit=function(){var e=n.props.appStore,t=e.selectedGridItem.index,a=n.props.appStore.imagesInfos[t],r=a.versionsHistory,o=a.currentVersionIndex;e.addOperationResult(Yt(r[o].imageBuffer,n.state.saturationPercentage)),n.props.onClose()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Saturate Image"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, enter the saturation percentage for the saturate image operation"),i.a.createElement("div",{className:"center",style:Xt.inputsContainer},i.a.createElement(Se.a,{error:!!this.state.errorMessage,label:this.state.errorMessage,type:"number",placeholder:"100",value:this.state.saturationPercentage,onChange:this.onSaturationPercentageChange,margin:"dense",style:Xt.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Saturation: "),endAdornment:i.a.createElement(Me.a,{position:"end"},"% ")}}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),Qt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Zt))),Jt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Saturate Image"),i.a.createElement(Qt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),Kt=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Jt))),$t=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleToggle=function(){n.setState(function(e){return{open:!e.open}})},n.handleClose=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(R.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"file-menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Point Operations"),i.a.createElement(B.a,{open:this.state.open,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},i.a.createElement(U.a,{onClick:this.handleClose},i.a.createElement(G.a,{onClickAway:this.handleClose},i.a.createElement(q.a,null,i.a.createElement(wt,null),i.a.createElement(_t,null),i.a.createElement(Le,null),i.a.createElement(We,null),i.a.createElement(Ke,null),i.a.createElement(mt,null),i.a.createElement(Ot,null),i.a.createElement(St,null),i.a.createElement(At,null),i.a.createElement(Vt,null),i.a.createElement(Wt,null),i.a.createElement(Kt,null))))))}}]),t}(i.a.Component),en=n(129),tn=n.n(en),nn=n(130),an=n.n(nn),rn={inputsContainer:{flexWrap:"wrap"},input:{margin:"1rem"},center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"1rem",marginBottom:"1rem"}},on=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={degrees:0,degreesErrorMessage:"",rotateAndPaint:!1,interpolationMethod:n.props.interpolationMethods[0],selectedInterpolationMethodIndex:0},n.onDegreesChange=function(e){Number.parseFloat(e.target.value)?n.setState({degrees:Number.parseFloat(e.target.value),degreesErrorMessage:""}):n.setState({degrees:e.target.value,degreesErrorMessage:"Enter an amount of degrees"})},n.onRotateAndPaintChange=function(e){n.setState({rotateAndPaint:e.target.checked})},n.onInterpolationMethodChange=function(e){return n.setState({interpolationMethod:e.selectedItemName,selectedInterpolationMethodIndex:e.selectedItemIndex})},n.onSubmit=function(){var e=n.state,t=e.degrees,a=e.rotateAndPaint,r=e.interpolationMethod;n.props.onSubmit({degrees:t,rotateAndPaint:a,interpolationMethod:r})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Image rotation"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, enter the rotation parameters"),i.a.createElement("div",{className:"center",style:rn.inputsContainer},i.a.createElement("div",{style:rn.center},i.a.createElement(Se.a,{error:!!this.state.degreesErrorMessage,label:this.state.degreesErrorMessage,type:"number",placeholder:"0",value:this.state.degrees,onChange:this.onDegreesChange,margin:"dense",style:rn.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Degrees: ")}})),i.a.createElement(ct,{menuTitle:"Interpolation method",options:this.props.interpolationMethods,onItemSelection:this.onInterpolationMethodChange,isDisabled:this.state.rotateAndPaint,selectedItemIndex:this.state.selectedInterpolationMethodIndex}),i.a.createElement(tn.a,{control:i.a.createElement(an.a,{checked:this.state.rotateAndPaint,onChange:this.onRotateAndPaintChange,value:"rotateAndPaint",color:"primary"}),label:"Rotate and paint"}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),sn=I.operations.interpolationMethods,ln=I.operations.imageRotation,cn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n.rotateCurrentImage=function(e){var t=e.degrees,a=e.rotateAndPaint,r=e.interpolationMethod,o=n.props.appStore,i=o.selectedGridItem.index,s=n.props.appStore.imagesInfos[i],l=s.versionsHistory,c=s.currentVersionIndex;o.addOperationResult(ln(l[c].imageBuffer,t,sn[r],a))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Rotation"),i.a.createElement(on,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog,onSubmit:function(t){e.closeDialog(),e.rotateCurrentImage(t)},interpolationMethods:Object.keys(sn)}))}}]),t}(i.a.Component),un=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(cn))),pn={inputsContainer:{flexWrap:"wrap"},input:{margin:"1rem"},center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"0.4rem",marginBottom:"0.4rem"}},hn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={width:n.props.oldWidth,widthPercentage:100,widthErrorMessage:"",height:n.props.oldHeight,heightPercentage:100,heightErrorMessage:"",interpolationMethod:n.props.interpolationMethods[0],selectedInterpolationMethodIndex:0,formChanged:!1},n.onDimensionsChange=function(e,t,a,r,o,i,s){var l,c,u,p,h=Number.parseFloat(e.target.value);(s?(l=Math.floor(h/100*n.props[r]),c=h):c=100*(l=Math.round(h))/n.props[r],l<1||Number.isNaN(h))?n.setState((u={},Object(Ge.a)(u,a,s?"":e.target.value),Object(Ge.a)(u,o,s?e.target.value:""),Object(Ge.a)(u,i,t+" must be greater than 0"),Object(Ge.a)(u,"formChanged",!0),u)):n.setState((p={},Object(Ge.a)(p,a,s?l:h),Object(Ge.a)(p,o,s?h:c),Object(Ge.a)(p,i,""),Object(Ge.a)(p,"formChanged",!0),p))},n.onWidthChange=function(e){return n.onDimensionsChange(e,"Width","width","oldWidth","widthPercentage","widthErrorMessage",!1)},n.onHeightChange=function(e){return n.onDimensionsChange(e,"Height","height","oldHeight","heightPercentage","heightErrorMessage",!1)},n.onWidthPercentageChange=function(e){return n.onDimensionsChange(e,"Width","width","oldWidth","widthPercentage","widthErrorMessage",!0)},n.onHeightPercentageChange=function(e){return n.onDimensionsChange(e,"Height","height","oldHeight","heightPercentage","heightErrorMessage",!0)},n.onInterpolationMethodChange=function(e){return n.setState({interpolationMethod:e.selectedItemName,selectedInterpolationMethodIndex:e.selectedItemIndex})},n.onSubmit=function(){n.setState({formChanged:!1});var e=n.state,t=e.widthPercentage,a=e.heightPercentage,r=e.interpolationMethod;n.props.onSubmit({widthPercentage:t,heightPercentage:a,interpolationMethod:r})},n.onClose=function(){n.setState({formChanged:!1}),n.props.onClose()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Image resizing"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, enter the resizing parameters"),i.a.createElement("div",{style:pn.center},i.a.createElement(Se.a,{error:!!this.state.widthErrorMessage,label:this.state.widthErrorMessage,type:"number",placeholder:String(this.props.oldWidth),value:this.state.width,onChange:this.onWidthChange,margin:"dense",style:pn.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Width: "),endAdornment:i.a.createElement(Me.a,{position:"end"},"px ")}}),i.a.createElement(Se.a,{error:!!this.state.heightErrorMessage,label:this.state.heightErrorMessage,type:"number",placeholder:String(this.props.oldHeight),value:this.state.height,onChange:this.onHeightChange,margin:"dense",style:pn.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Height: "),endAdornment:i.a.createElement(Me.a,{position:"end"},"px ")}})),i.a.createElement("div",{className:"center",style:pn.inputsContainer},i.a.createElement("div",{style:pn.center},i.a.createElement(Se.a,{error:!!this.state.widthErrorMessage,label:this.state.widthErrorMessage,type:"number",placeholder:"100",value:this.state.widthPercentage,onChange:this.onWidthPercentageChange,margin:"dense",style:pn.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Percentage:"," "),endAdornment:i.a.createElement(Me.a,{position:"end"},"% ")}}),i.a.createElement(Se.a,{error:!!this.state.heightErrorMessage,label:this.state.heightErrorMessage,type:"number",placeholder:"100",value:this.state.heightPercentage,onChange:this.onHeightPercentageChange,margin:"dense",style:pn.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Percentage:"," "),endAdornment:i.a.createElement(Me.a,{position:"end"},"% ")}})),i.a.createElement(ct,{menuTitle:"Interpolation method",options:this.props.interpolationMethods,onItemSelection:this.onInterpolationMethodChange,selectedItemIndex:this.state.selectedInterpolationMethodIndex}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.formChanged||e.oldHeight===t.height&&e.oldWidth===t.width?0===e.oldHeight&&0===e.oldWidth?{widthErrorMessage:"Select an image",heightErrorMessage:"Select an image",width:0,widthPercentage:0,height:0,heightPercentage:0}:null:{height:e.oldHeight,width:e.oldWidth,widthPercentage:100,heightPercentage:100,widthErrorMessage:e.oldWidth<=0?"Width must be greater than 0":"",heightErrorMessage:e.oldHeight<=0?"Height must be greater than 0":""}}}]),t}(i.a.Component),dn=I.operations.interpolationMethods,mn=I.operations.imageResizing,gn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n.resizeCurrentImage=function(e){var t=e.widthPercentage,a=e.heightPercentage,r=e.interpolationMethod,o=n.props.appStore,i=o.selectedGridItem.index,s=n.props.appStore.imagesInfos[i],l=s.versionsHistory,c=s.currentVersionIndex;o.addOperationResult(mn(l[c].imageBuffer,t,a,dn[r]))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.appStore.selectedGridItem,n=t.type,a=t.index,r={width:0,height:0};if("image"===n&&a>=0){var o=this.props.appStore.imagesInfos[a],s=o.versionsHistory[o.currentVersionIndex].imageBuffer;r={width:s.width,height:s.height}}return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Resize"),i.a.createElement(hn,{oldWidth:r.width,oldHeight:r.height,isOpen:this.state.isDialogOpen,onClose:this.closeDialog,onSubmit:function(t){e.closeDialog(),e.resizeCurrentImage(t)},interpolationMethods:Object.keys(dn)}))}}]),t}(i.a.Component),fn=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(gn))),bn=I.operations.mirror,vn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).currentImageVerticalMirror=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;if("image"!==o||i<0)a("You first need to select an image",{variant:"warning"});else{var s=n.props.appStore.imagesInfos[i],l=s.versionsHistory,c=s.currentVersionIndex;t.addOperationResult(bn.vertical(l[c].imageBuffer))}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.currentImageVerticalMirror},"Vertical Mirror"))}}]),t}(i.a.Component),yn=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(vn))),On=I.operations.mirror,En=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).currentImageHorizontalMirror=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;if("image"!==o||i<0)a("You first need to select an image",{variant:"warning"});else{var s=t.imagesInfos[i],l=s.versionsHistory,c=s.currentVersionIndex;t.addOperationResult(On.horizontal(l[c].imageBuffer))}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.currentImageHorizontalMirror},"Horizontal Mirror"))}}]),t}(i.a.Component),Cn=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(En))),jn=I.operations.imageTranspose,xn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).transposeImage=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;if("image"!==o||i<0)a("You first need to select an image",{variant:"warning"});else{var s=n.props.appStore.imagesInfos[i],l=s.versionsHistory,c=s.currentVersionIndex;t.addOperationResult(jn(l[c].imageBuffer))}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.transposeImage},"Image Transpose"))}}]),t}(i.a.Component),Sn=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(xn))),In=I.operations.imageResampling,Mn={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},wn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={blockWidth:1,blockWidthErrorMessage:"",blockHeight:1,blockHeightErrorMessage:""},n.onChange=function(e,t,a,r,o){var i,s,l=Number.parseFloat(e.target.value);Ve(l,r,o+1)?n.setState((i={},Object(Ge.a)(i,t,l),Object(Ge.a)(i,a,""),i)):n.setState((s={},Object(Ge.a)(s,t,e.target.value),Object(Ge.a)(s,a,"Required a number between ".concat(r," and ").concat(o)),s))},n.onBlockWidthChange=function(e){var t=n.props.appStore.selectedGridItem.index,a=n.props.appStore.imagesInfos[t],r=a.versionsHistory[a.currentVersionIndex].imageBuffer;n.onChange(e,"blockWidth","blockWidthErrorMessage",1,r.width)},n.onBlockHeightChange=function(e){var t=n.props.appStore.selectedGridItem.index,a=n.props.appStore.imagesInfos[t],r=a.versionsHistory[a.currentVersionIndex].imageBuffer;n.onChange(e,"blockHeight","blockHeightErrorMessage",1,r.height)},n.onSubmit=function(){var e=n.state,t=e.blockWidth,a=e.blockHeight,r=n.props,o=r.appStore,i=r.enqueueSnackbar,s=n.props.appStore.selectedGridItem,l=s.index;if("image"!==s.type||l<0)i("You first need to select an image",{variant:"warning"});else{var c=n.props.appStore.imagesInfos[l],u=c.versionsHistory[c.currentVersionIndex].imageBuffer;o.addOperationResult(In(u,t,a)),n.props.onClose()}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(me.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},i.a.createElement(Ce.a,{id:"form-dialog-title"},"Image Resample"),i.a.createElement(ve.a,null,i.a.createElement(Oe.a,null,"Please, enter the pixels block width and height"),i.a.createElement("div",{className:"center",style:Mn.inputsContainer},i.a.createElement(Se.a,{error:!!this.state.blockWidthErrorMessage,label:this.state.blockWidthErrorMessage,type:"number",placeholder:String(this.state.blockWidth),value:this.state.blockWidth,onChange:this.onBlockWidthChange,margin:"dense",style:Mn.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Width: ")}}),i.a.createElement(Se.a,{error:!!this.state.blockHeightErrorMessage,label:this.state.blockHeightErrorMessage,type:"number",placeholder:String(this.state.blockHeight),value:this.state.blockHeight,onChange:this.onBlockHeightChange,margin:"dense",style:Mn.input,InputProps:{startAdornment:i.a.createElement(Me.a,{position:"start"},"Height: ")}}))),i.a.createElement(fe.a,null,i.a.createElement(R.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(i.a.Component),kn=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(wn))),Dn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},n.openDialog=function(){var e=n.props,t=e.appStore,a=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?a("You first need to select an image",{variant:"warning"}):n.setState({isDialogOpen:!0})},n.closeDialog=function(){return n.setState({isDialogOpen:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,{onClick:this.openDialog},"Image Resample"),i.a.createElement(kn,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(i.a.Component),_n=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Dn))),Nn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleToggle=function(){n.setState(function(e){return{open:!e.open}})},n.handleClose=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(R.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"file-menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Geometric Operations"),i.a.createElement(B.a,{open:this.state.open,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},i.a.createElement(U.a,{onClick:this.handleClose},i.a.createElement(G.a,{onClickAway:this.handleClose},i.a.createElement(q.a,null,i.a.createElement(un,null),i.a.createElement(fn,null),i.a.createElement(yn,null),i.a.createElement(Cn,null),i.a.createElement(Sn,null),i.a.createElement(_n,null))))))}}]),t}(i.a.Component),Pn=(n(5892),function(){return i.a.createElement(P.a,{position:"static"},i.a.createElement(H.a,{className:"toolbar"},i.a.createElement("div",{className:"header-logo"},i.a.createElement("a",{className:"navbar-item",href:"https://github.com/carlosdg/ImageProcessor.git"},i.a.createElement("img",{id:"logo",alt:"logo",src:"https://i.imgur.com/5uTCDlA.png",height:"40"}))),i.a.createElement("div",{className:"menu-items"},i.a.createElement(ne,null),i.a.createElement(pe,null),i.a.createElement($t,null),i.a.createElement(Nn,null))))}),An=(n(5895),function(e){var t=w(e.originCoords,e.endCoords);return t.bottom-t.top>0&&t.right-t.left>0&&i.a.createElement("div",{className:"region-select",style:{width:"".concat(t.right-t.left-1,"px"),height:"".concat(t.bottom-t.top-1,"px"),top:t.top+"px",left:t.left+"px",right:t.right+"px",bottom:t.bottom+"px"}})}),Hn=function(e){var t=e.originCoords,n=e.endCoords;return i.a.createElement("svg",{style:{position:"absolute",top:0,left:0,right:0,bottom:0},height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("line",{stroke:"#000",strokeWidth:"2",x1:t.x,y1:t.y,x2:n.x,y2:n.y}))},Tn=(n(5896),function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"right-side-menu-container",style:{display:this.props.appStore.rightSideMenu.open?"initial":"none"}},i.a.createElement("div",{className:"right-side-menu-title"},i.a.createElement(C,{onDelete:this.props.appStore.closeRightSideMenu,style:{visibility:"hidden",width:"2rem",height:"2rem",marginLeft:"1rem"}}),i.a.createElement("span",null,this.props.appStore.rightSideMenu.menuTitle),i.a.createElement(C,{onDelete:this.props.appStore.closeRightSideMenu,style:{width:"2rem",height:"2rem",marginRight:"1rem"}})),i.a.createElement("div",{className:"right-side-menu-feed"},i.a.createElement("div",{className:"right-side-menu-content"},this.props.appStore.rightSideMenu.menuContent.map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e)}))))}}]),t}(i.a.Component)),Rn=Object(k.b)("appStore")(Object(k.c)(Tn)),Ln=n(269),Gn=n(70),Vn=n(69),Un=n(58),Fn=n.n(Un),Bn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onMouseMoveOverImage=function(e,t){n.props.appStore.setCurrentPixel(e,t)},n.onImageRegionSelection=function(e){return function(t){var a=w(t.originCoords,t.endCoords),r=a.top,o=a.left,i={top:r,left:o,width:a.right-o,height:a.bottom-r};0!==i.width&&0!==i.height&&n.props.appStore.updateImageRegion(e,i)}},n.getImageOverlay=function(){switch(n.props.appStore.imageSelectionMehod){case"selection":return function(e){var t=e.originCoords,n=e.endCoords;return i.a.createElement(An,{originCoords:t,endCoords:n})};case"line":return function(e){var t=e.originCoords,n=e.endCoords;return i.a.createElement(Hn,{originCoords:t,endCoords:n})};default:throw new Error("Invalid option ".concat(n.props.appStore.imageSelectionMehod))}},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getDisplayForPixelUnderMouse",value:function(){var e=this.props.appStore,t=e.pixelValue,n=e.pixelCoords,a="rgba(".concat(t.join(", "),")");return i.a.createElement("div",{className:"footer-tools"},i.a.createElement("div",{className:"color-picker",style:{boxShadow:"1px 1px 10px -5px ".concat(a)}},i.a.createElement("span",{style:{width:"2.5rem",height:"100%",backgroundColor:a}}),i.a.createElement("span",{style:{display:"flex",alignItems:"center",marginLeft:"10px",paddingRight:"10px"}},a)),i.a.createElement("div",{style:{width:"130px",display:"flex",margin:"0.4rem",borderRadius:"5px",border:"1px solid #000",boxShadow:"1px 1px 10px -5px black"}},i.a.createElement("span",{style:{display:"flex",alignItems:"center",padding:"0 10px 0"}},i.a.createElement(Ln.a,{style:{marginRight:"5px"},icon:"arrows-alt"}),n.x,", ",n.y)))}},{key:"render",value:function(){var e=this.props.appStore,t=e.selectedGridItem.index,n=!0,a=!0;if(t>-1){var r=e.imagesInfos[t],o=r.versionsHistory,s=r.currentVersionIndex;n=0===s,a=s===o.length-1}return i.a.createElement("div",null,i.a.createElement("div",{className:"app-container"},i.a.createElement(Pn,null),i.a.createElement("main",{className:"main"},i.a.createElement("div",{className:"main__wrapper",style:this.props.appStore.rightSideMenu.open?{}:{width:"100%"}},this.getGridComponent()),i.a.createElement(Rn,null)),i.a.createElement("footer",{style:{boxShadow:"-3px 0px 10px -5px rgba(0, 0, 0, 0.8)",display:"flex",flexWrap:"wrap"}},this.getDisplayForPixelUnderMouse(),i.a.createElement("div",{className:"history-buttons-container"},i.a.createElement(Vn.a,{color:"primary",onClick:e.redoAllCurrentImageChanges,disabled:t<=-1||n},i.a.createElement(Fn.a,{title:"Revert all changes of selected image","aria-label":"Revert all changes of selected image"},i.a.createElement(Gn.e,null))),i.a.createElement(Vn.a,{color:"primary",onClick:e.undoCurrentImageChange,disabled:n},i.a.createElement(Fn.a,{title:"Undo change of selected image","aria-label":"Undo change of selected image"},i.a.createElement(Gn.f,null))),i.a.createElement(Vn.a,{color:"primary",onClick:e.redoCurrentImageChange,disabled:a},i.a.createElement(Fn.a,{title:"Redo change of selected image","aria-label":"Redo change of selected image"},i.a.createElement(Gn.d,null))),i.a.createElement(Vn.a,{color:"primary",onClick:e.duplicateCurrentImage,disabled:t<=-1},i.a.createElement(Fn.a,{title:"Duplicate selected image","aria-label":"Duplicate selected image"},i.a.createElement(Gn.c,null)))),i.a.createElement("div",{className:"grow"}),i.a.createElement("div",{className:"selection-tools-container"},i.a.createElement(Vn.a,{style:"selection"!==e.imageSelectionMehod?{margin:"0 0.5rem",color:"#3f51b5"}:{margin:"0 0.5rem",backgroundColor:"#3f51b5",color:"white"},onClick:function(){return e.updateImageSelectionMehod("selection")}},i.a.createElement(Fn.a,{title:"Select a portion of an image","aria-label":"Select a portion of an image"},i.a.createElement(Gn.a,null))),i.a.createElement(Vn.a,{style:"line"!==e.imageSelectionMehod?{margin:"0 0.5rem",color:"#3f51b5"}:{margin:"0 0.5rem",backgroundColor:"#3f51b5",color:"white"},onClick:function(){return e.updateImageSelectionMehod("line")}},i.a.createElement(Fn.a,{title:"Select a line in the image to create a profile","aria-label":"Select a line in the image to create a profile"},i.a.createElement(Gn.b,null)))))))}},{key:"getGridComponent",value:function(){var e=this;return i.a.createElement(S.Grid,{key:this.props.appStore.rightSideMenu.open,layouts:this.props.appStore.gridLayouts,onLayoutChange:this.props.appStore.updateLayout},this.props.appStore.imagesInfos.map(function(t,n){return e.getImageGridItem(t,n)}))}},{key:"getImageGridItem",value:function(e,t){var n=this,a=e.key,r=e.versionsHistory,o=e.currentVersionIndex;return i.a.createElement(S.Item,{key:a,id:t,name:a,onDelete:this.props.appStore.removeImageInfo,onSelect:function(){return n.props.appStore.updateSelectedImageItem(t)},isSelected:this.props.appStore.isGridItemSelected("image",t)},i.a.createElement("div",{className:"center"},i.a.createElement("div",{className:"scrollable"},i.a.createElement(_,{rgbaImage:r[o].imageBuffer,onMouseMove:this.onMouseMoveOverImage,onSelection:this.onImageRegionSelection(t)},this.getImageOverlay()))))}}]),t}(o.Component),zn=Object(W.withSnackbar)(Object(k.b)("appStore")(Object(k.c)(Bn))),qn=(n(5898),n(5899),n(5900),n(21)),Wn=function(){var e={};return Object.keys(b.GRID_COLUMNS).forEach(function(t){return e[t]=[]}),e},Yn=function(e){return{i:e,x:0,y:1/0,w:b.DEFAULT_GRID_ITEM_COLS,h:b.DEFAULT_GRID_ITEM_ROWS,minW:b.DEFAULT_GRID_ITEM_COLS,minH:b.DEFAULT_GRID_ITEM_ROWS}},Xn=function(e,t){var n=t.map(Yn),a=Wn();return Object.keys(e).forEach(function(t){a[t]=e[t].concat(n)}),a},Zn=(n(261),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={emphasizedValue:null,histogramVisualizationData:[],colorName:n.props.colorName},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({histogramVisualizationData:this.props.histogram.map(function(e,t){return{x0:t,x:t+1,y:e}})})}},{key:"render",value:function(){var e=this;return i.a.createElement(je.a,{height:400,margin:{left:70},onMouseLeave:function(){return e.setState({emphasizedValue:null})}},i.a.createElement(je.e,null),i.a.createElement(je.c,null),i.a.createElement(je.g,null),i.a.createElement(je.i,null),i.a.createElement(je.f,{onNearestX:function(t){return e.setState({emphasizedValue:t})},data:this.state.histogramVisualizationData,color:this.state.colorName}),this.state.emphasizedValue?i.a.createElement(je.b,{value:this.state.emphasizedValue,align:{horizontal:"auto",vertical:"top"},style:{fontSize:14},format:function(e){return[{title:"Value: "+e.x0,value:"Count: "+e.y}]}}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.colorName&&e.colorName!==t.colorName||t.histogramVisualizationData!==e.histogramVisualizationData?{emphasizedValue:t.emphasizedValue,histogramVisualizationData:e.histogram.map(function(e,t){return{x0:t,x:t+1,y:e}}),colorName:e.colorName}:null}}]),t}(o.Component)),Qn=n(133),Jn=n.n(Qn),Kn=n(135),$n=n.n(Kn),ea=n(36),ta=n.n(ea),na=n(134),aa=n.n(na),ra=n(47),oa=n.n(ra),ia=[{borderRight:0,borderTopRightRadius:0,borderBottomRightRadius:0},{borderRadius:0},{borderLeft:0,borderTopLeftRadius:0,borderBottomLeftRadius:0}],sa=n(136),la=n.n(sa),ca=["Red","Green","Blue"],ua=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={currentTab:0,currentChannel:0},n.updateCurrentTab=function(e,t){return n.setState({currentTab:t})},n.updateCurrentChannel=function(e,t){return n.setState({currentChannel:t})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.currentTab,a=t.currentChannel,r=this.props.data,o=r.histograms,s=r.cumulativeHistograms,l=Object(g.a)(r,["histograms","cumulativeHistograms"]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(R.a,{variant:0===n?"contained":"outlined",color:0===n?"primary":"default",style:0===n?Object(m.a)({boxShadow:"0px 4px 6px -5px black"},ia[0]):ia[0],onClick:function(t){return e.updateCurrentTab(t,0)}},"Histogram"),i.a.createElement(R.a,{variant:1===n?"contained":"outlined",color:1===n?"primary":"default",style:1===n?Object(m.a)({boxShadow:"0px 4px 6px -5px black"},ia[1]):ia[1],onClick:function(t){return e.updateCurrentTab(t,1)}},"Cumulative"),i.a.createElement(R.a,{variant:2===n?"contained":"outlined",color:2===n?"primary":"default",style:2===n?Object(m.a)({boxShadow:"0px 4px 6px -5px black"},ia[2]):ia[2],onClick:function(t){return e.updateCurrentTab(t,2)}},"Information")),i.a.createElement("div",{style:{padding:"10px 0px 0px 0px",display:"flex",justifyContent:"center"}},2!==this.state.currentTab&&ca.map(function(t,n){return i.a.createElement(R.a,{variant:a===n?"contained":"outlined",color:a===n?"primary":"default",style:ia[n],onClick:function(t){return e.updateCurrentChannel(t,n)},key:n},t)})),i.a.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"80%",display:"flex",justifyContent:"center",alignItems:"center"}},0===n&&i.a.createElement(Zn,{histogram:o[a],colorName:ca[a]}),1===n&&i.a.createElement(Zn,{histogram:s[a],colorName:ca[a]}),2===n&&i.a.createElement("div",{style:{display:"flex",flexGrow:"1",margin:"2rem",alignSelf:"flex-start"}},i.a.createElement(Jn.a,null,i.a.createElement(aa.a,null,i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Variable"),i.a.createElement(ta.a,{align:"right"},"Value"))),i.a.createElement($n.a,null,i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Width"),i.a.createElement(ta.a,{align:"right"},l.width)),i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Height"),i.a.createElement(ta.a,{align:"right"},l.height)),i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Number of pixels"),i.a.createElement(ta.a,{align:"right"},l.pixelCount)),i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Brightness"),i.a.createElement(ta.a,{align:"right"},l.brightnesses[a].toFixed(3))),i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Contrast"),i.a.createElement(ta.a,{align:"right"},l.contrasts[a].toFixed(3))),i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Minimum value"),i.a.createElement(ta.a,{align:"right"},l.smallestNonZeroes[a])),i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Maximum value"),i.a.createElement(ta.a,{align:"right"},l.largestNonZeroes[a])),i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Mode"),i.a.createElement(ta.a,{align:"right"},l.modeValues[a])),i.a.createElement(oa.a,null,i.a.createElement(ta.a,null,"Entropy"),i.a.createElement(ta.a,{align:"right"},l.entropies[a].toFixed(3))))))))}}]),t}(i.a.Component),pa=la()()(ua),ha=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={emphasizedValue:null,profileVisualizationData:[],channel:n.props.channel},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({profileVisualizationData:this.props.profileValues.map(function(e,t){return{x:t,y:e}})})}},{key:"render",value:function(){var e=this;return i.a.createElement(je.a,{height:400,margin:{top:50,left:70,bottom:50},onMouseLeave:function(){return e.setState({emphasizedValue:null})}},i.a.createElement(je.e,null),i.a.createElement(je.c,null),i.a.createElement(je.g,null),i.a.createElement(je.i,null),i.a.createElement(je.d,{onNearestX:function(t){return e.setState({emphasizedValue:t})},data:this.state.profileVisualizationData,color:this.state.channel}),this.state.emphasizedValue?i.a.createElement(je.b,{value:this.state.emphasizedValue,align:{horizontal:"auto",vertical:"top"},style:{fontSize:14},format:function(e){return[{title:"Pixel: "+e.x,value:"Value: "+e.y}]}}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.channel&&e.channel!==t.channel||t.profileVisualizationData!==e.profileVisualizationData?{emphasizedValue:t.emphasizedValue,profileVisualizationData:e.profileValues.map(function(e,t){return{x:t,y:e}}),channel:e.channel}:null}}]),t}(o.Component),da=la()()(ha),ma=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={currentTab:0,currentChannel:Object.keys(n.props.info.profileValues)[0]},n.updateCurrentTab=function(e,t){return n.setState({currentTab:t})},n.updateCurrentChannel=function(e,t){return n.setState({currentChannel:t})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.currentTab,a=t.currentChannel,r=this.props.info,o=r.profileValues,s=r.firstDerivativeProfileValues;return i.a.createElement("div",{className:"profile"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(R.a,{variant:0===n?"contained":"outlined",color:0===n?"primary":"default",style:0===n?Object(m.a)({boxShadow:"0px 4px 6px -5px black"},ia[0]):ia[0],onClick:function(t){return e.updateCurrentTab(t,0)}},"Profile"),i.a.createElement(R.a,{variant:1===n?"contained":"outlined",color:1===n?"primary":"default",style:1===n?Object(m.a)({boxShadow:"0px 4px 6px -5px black"},ia[2]):ia[2],onClick:function(t){return e.updateCurrentTab(t,1)}},"First Derivative")),i.a.createElement("div",{style:{padding:"10px 0px 0px 0px",display:"flex",justifyContent:"center"}},Object.keys(o).map(function(t,n){return i.a.createElement(R.a,{variant:a===t?"contained":"outlined",color:a===t?"primary":"default",style:ia[n],onClick:function(n){return e.updateCurrentChannel(n,t)},key:t},t)})),i.a.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"80%",display:"flex",justifyContent:"center",alignItems:"center"}},0===n&&i.a.createElement(da,{profileValues:o[a],channel:a}),1===n&&i.a.createElement(da,{profileValues:s[a],channel:a})))}}]),t}(i.a.Component),ga=function e(){var t=this;Object(c.a)(this,e),this.imagesInfos=[],this.gridLayouts=Wn(),this.imageSelectionMehod="selection",this.selectedGridItem={type:"",index:-1},this.pixelCoords={x:0,y:0},this.pixelValue=[0,0,0,255],this._removedImagesCount=0,this.rightSideMenu={open:!1,selectedImageInfo:{name:"",width:"",height:""},menuTitle:"",menuContent:[]},this.addImage=function(e){var n={top:0,left:0,width:e.width,height:e.height},a=new I.ImageInfo(e),r="Image ".concat(t.imagesInfos.length+t._removedImagesCount);t.imagesInfos.push({key:r,versionsHistory:[{imageBuffer:e,region:n,extraInfo:a,profilesInfos:[]}],currentVersionIndex:0,amountOfDuplicates:0}),t.gridLayouts=Xn(t.gridLayouts,[r])},this.addOperationResult=function(e){var n=t.selectedGridItem.index,a=t.imagesInfos[n],r=a.versionsHistory,o=a.currentVersionIndex,i={top:0,left:0,width:e.width,height:e.height},s=new I.ImageInfo(e);o<r.length-1&&(r.length=o+1),r.push({imageBuffer:e,region:i,extraInfo:s,profilesInfos:[]}),t.imagesInfos[n].currentVersionIndex+=1},this.undoCurrentImageChange=function(){var e=t.selectedGridItem.index;t.imagesInfos[e].currentVersionIndex>0&&(t.imagesInfos[e].currentVersionIndex--,t.updateRightSideMenuImageInfo())},this.redoCurrentImageChange=function(){var e=t.selectedGridItem.index,n=t.imagesInfos[e],a=n.versionsHistory;n.currentVersionIndex<a.length-1&&(t.imagesInfos[e].currentVersionIndex++,t.updateRightSideMenuImageInfo())},this.redoAllCurrentImageChanges=function(){var e=t.selectedGridItem.index;t.imagesInfos[e].currentVersionIndex=0,t.updateRightSideMenuImageInfo()},this.duplicateCurrentImage=function(){var e=t.selectedGridItem.index;if(e>-1){t.imagesInfos[e].amountOfDuplicates+=1;var n=t.imagesInfos[e].key+" duplicate "+t.imagesInfos[e].amountOfDuplicates;t.imagesInfos.push({key:n,versionsHistory:t.imagesInfos[e].versionsHistory,currentVersionIndex:t.imagesInfos[e].currentVersionIndex,amountOfDuplicates:0}),t.gridLayouts=Xn(t.gridLayouts,[n])}},this.addProfile=function(e,n){var a=t.selectedGridItem.index,r=t.imagesInfos[a],o=r.currentVersionIndex;r.versionsHistory[o].profilesInfos.push({profileValues:e,firstDerivativeProfileValues:n}),t.updateRightSideMenuImageInfo()},this.removeImageInfo=function(e){var n=function(e,t){var n={};return Object.keys(e).forEach(function(a){n[a]=e[a].filter(function(e){var n=e.i;return!t.includes(n)})}),n}(t.gridLayouts,[t.imagesInfos[e].key]),a=Object(m.a)({},t.selectedGridItem);e<=a.index&&(a.index-=1,a.index<0&&(a.type="")),t.imagesInfos=t.imagesInfos.filter(function(t,n){return n!==e}),t.gridLayouts=n,t.selectedGridItem=a,t._removedImagesCount=t._removedImagesCount+1,t.updateRightSideMenuImageInfo(),t.imagesInfos.length<1&&(t.pixelCoords={x:0,y:0},t.pixelValue=[0,0,0,255])},this.updateImageRegion=function(e,n){var a=t.imagesInfos[e],r=a.currentVersionIndex;a.versionsHistory[r].region=n},this.updateLayout=function(e,n){return requestAnimationFrame(function(){return t.gridLayouts=n})},this.updateSelectedImageItem=function(e){t.selectedGridItem={type:"image",index:e},t.updateRightSideMenuImageInfo()},this.setCurrentPixel=function(e,n){t.pixelCoords=e,t.pixelValue=n},this.updateImageSelectionMehod=function(e){t.imageSelectionMehod=e},this.isGridItemSelected=function(e,n){return t.selectedGridItem.index===n&&t.selectedGridItem.type===e},this.closeRightSideMenu=function(){t.rightSideMenu.open=!1,t.rightSideMenu.menuContent=[]},this.openRightSideMenu=function(){var e=t.selectedGridItem.index,n=t.imagesInfos[e],a=n.currentVersionIndex,r=n.versionsHistory;t.rightSideMenu.open=!0,t.rightSideMenu.menuContent=[i.a.createElement(pa,{data:r[a].extraInfo})],r[a].profilesInfos.forEach(function(e){t.rightSideMenu.menuContent.push(i.a.createElement(ma,{info:e}))})},this.updateRightSideMenuImageInfo=function(){var e=t.selectedGridItem.index;if(-1===e)t.rightSideMenu.selectedImageInfo={name:"",width:"",height:""},t.rightSideMenu.menuTitle="",t.rightSideMenu.menuContent=[];else{var n=t.imagesInfos[e],a=n.currentVersionIndex,r=n.versionsHistory,o=n.key,s=r[a],l=s.imageBuffer,c=s.extraInfo,u=s.profilesInfos;t.rightSideMenu.menuTitle="".concat(o," - Information"),t.rightSideMenu.selectedImageInfo={name:o,width:l.width,height:l.height},t.rightSideMenu.menuContent=[i.a.createElement(pa,{data:c})],u.forEach(function(e){t.rightSideMenu.menuContent.push(i.a.createElement(ma,{info:e}))})}}};Object(qn.g)(ga,{imagesInfos:qn.l,gridLayouts:qn.l,imageSelectionMehod:qn.l,selectedGridItem:qn.l,pixelCoords:qn.l,pixelValue:qn.l,rightSideMenu:qn.l,addImage:qn.d,addProfile:qn.d,addOperationResult:qn.d,undoCurrentImageChange:qn.d,redoCurrentImageChange:qn.d,redoAllCurrentImageChanges:qn.d,duplicateCurrentImage:qn.d,updateImageRegion:qn.d,removeProfile:qn.d,updateLayout:qn.d,updateSelectedImageItem:qn.d,setCurrentPixel:qn.d,updateImageSelectionMehod:qn.d,openRightSideMenu:qn.d,closeRightSideMenu:qn.d});var fa=new ga,ba=Object($e.createMuiTheme)({palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"#7986cb",main:"#3f51b5",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}},typography:{useNextVariants:!0}});a.b.add(r.a),l.a.render(i.a.createElement("div",null,i.a.createElement($e.MuiThemeProvider,{theme:ba},i.a.createElement(W.SnackbarProvider,{maxSnack:5,anchorOrigin:{vertical:"top",horizontal:"right"},action:[i.a.createElement(R.a,{color:"inherit",size:"small",key:Date.now()},"Dismiss")]},i.a.createElement(k.a,{appStore:fa},i.a.createElement(zn,null))))),document.getElementById("root"))},64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyLookupTable=function(e,t){for(var n=e.copy(),a=0;a<n.pixels.length;a+=r.default.NUM_CHANNELS)n.pixels[a]=t[0][n.pixels[a]],n.pixels[a+1]=t[1][n.pixels[a+1]],n.pixels[a+2]=t[2][n.pixels[a+2]];return n},t.createLookupTable=function(e){for(var t=[],n=0;n<3;++n){for(var a=e(n),r=[],o=0;o<=255;++o){var i=a(o);r.push(i)}t.push(r)}return t};var a,r=(a=n(40))&&a.__esModule?a:{default:a}}},[[5540,1,2]]]);
//# sourceMappingURL=main.2683ffb4.chunk.js.map